%============================================================================
% NCTU - Hsinchu, Taiwan
% LaTeX File
% Daniel Greenhoe
%============================================================================
%--------------------------------------
% Compile control
%--------------------------------------
\ProvidesPackage{dan}

\newcommand{\ds}{\displaystyle}
%\newcommand{\ss}{\displaystyle}

%--------------------------------------
% Default typefaces
%--------------------------------------
 \renewcommand{\encodingdefault}{T1}
 \renewcommand{\familydefault}{\rmdefault}
 \renewcommand{\seriesdefault}{m}
 \renewcommand{\shapedefault}{n}
 
 \renewcommand{\rmdefault}{ppl}  %cmr: computer modern roman
 \renewcommand{\sfdefault}{phv}  %cmss: computer modern sans serif
 \renewcommand{\ttdefault}{ul9}  %cmtt: computer modern typewriter  pcr:courier
 
 \renewcommand{\bfdefault}{bx}
 \renewcommand{\mddefault}{m}
 \renewcommand{\itdefault}{it}
 \renewcommand{\sldefault}{sl}
 \renewcommand{\scdefault}{sc}
 \renewcommand{\updefault}{n}

%--------------------------------------
% mathematics typefaces
%--------------------------------------
\DeclareMathAlphabet{\mathSet}{T1}{\sfdefault}{m} {n}   % set typeface
\DeclareMathAlphabet{\mathOp} {T1}{\sfdefault}{b} {n}   % operator typeface
\DeclareMathAlphabet{\mathSp} {T1}{\sfdefault}{m} {n}   % space typeface
\DeclareMathAlphabet{\mathOpp}{T1}{\sfdefault}{m} {n}   % operator of operator typeface
\DeclareMathAlphabet{\mathVec}{T1}{\rmdefault}{m}{ol}   % vector typeface

%--------------------------------------
% Color parameters
%--------------------------------------
\definecolor{blue}{rgb}   {0,0,1}
\definecolor{red}{rgb}    {1,0,0}
\definecolor{green}{rgb}  {0,1,0}
\definecolor{yellow}{cmyk}{0,0,1,0}
\definecolor{bg_blue}{rgb}{0.95,0.99,1}
\definecolor{bg_red}{rgb} {1,0.95,0.95}
\definecolor{bg_green}{rgb} {0.95,1,0.95}
\definecolor{figcolor}{rgb}{0,0,0.7}
\definecolor{clr:circle}{rgb} {0,0,1}
\definecolor{clr:dot}{rgb} {0,0,0.8}
\definecolor{clr:pzasym}{rgb} {1,0,0}
\definecolor{clr:axis}  {gray}{0.3}
\definecolor{clr:graphpaper}  {gray}{0.8}
\definecolor{clr:zero}  {rgb} {0,0,0.5}
\definecolor{clr:pole}  {rgb} {0.8,0,0}
\definecolor{clr:mcom}  {rgb} {0,0,0.8}
\definecolor{clr:uvect}{rgb} {0,0,0.5}
\definecolor{clr:vector}{rgb} {0.8,0,0}

%--------------------------------------
% tabular columns
%--------------------------------------
\newcolumntype{C}{>{\scriptstyle}l}
\newcolumntype{D}{>{$\scriptsize}l<{$}}

%--------------------------------------
% text typesetting
%--------------------------------------
\newcommand{\ensuretext}[1]{\ensuremath{\text{#1}}}
\renewcommand{\bullet}{\ensuretext{\scriptsize\mancube}}
\newcommand{\tw}{\textwidth}
\newcommand{\hs}{\hspace}
\renewcommand{\bf}{\bfseries}
%\newcommand{\ful}{\underline}
%\newcommand{\tld}[0]{\ensuremath{\sim}}
\newcommand{\mc}[3]{\multicolumn{#1}{#2}{#3}}
\newcommand{\citepx} [2]{\footnote{\cite[page #2]{#1} }\index[xref]{\cite{#1}}}
\renewcommand{\citep} [2]{\footnote{\cite[page #2]{#1} }\index[xref]{\cite{#1}}}
\newcommand{\citepp}[3]{\footnote{\cite[pages #2--#3]{#1} }\index[xref]{\cite{#1}}}
\newcommand{\citec} [2]{\footnote{\cite[#2]{#1}}\index[xref]{\cite{#1}}}
\newcommand{\citen} [1]{\footnote{\cite{#1}}\index[xref]{\cite{#1}}}
\newcommand{\citei} [2][]{\cite[#1]{#2} \index[xref]{\cite{#2}}}

\newcommand{\hi}[1]{#1\index{#1}}  % place here and in the index
\newcommand{\hie}[1]{{\em #1}\index{#1}}  % place here with emphasis and in the index
\newcommand{\hib}[1]{{\bf #1}\index{#1}}  % place here with bold and in the index
\newcommand{\hid}[1]{{\bf #1}\index{#1|textbf}}  % definition term; place here with bold and in the index with bold

\newcommand{\quoteo} [0]{\ding{125}}
\newcommand{\quotec} [0]{\ding{126}}

\newcommand{\refp}[1]{\ref{#1} page~\pageref{#1}}
\newcommand{\refpp}[1]{\ref{#1} (page~\pageref{#1})}
\newcommand{\pref}[1]{\prettyref{#1}}   % prefixed reference
\newcommand{\prefp}[1]{\prettyref{#1} page~\pageref{#1}}  % prefixed reference with page number
\newcommand{\prefpp}[1]{\prettyref{#1} (page~\pageref{#1})} % prefixed reference with (page number)

\newcommand{\bp}[1]{\left(#1\right)}
\newcommand{\bs}[1]{\left[#1\right]}
\newcommand{\bb}[1]{\left\{#1\right\}}
%\newcommand{\brb}[1]{\left.#1\right|}
%
%\newcommand{\ub}[1]{\ensuremath{\underbrace{#1}}}

\newcommand{\attention}[1][]{
  \marginpar[{\hfill\parbox[c][][c]{18mm}{\scriptsize\hspace{4mm}\usebox{\robotBoyR}\\\colorbox{yellow}{#1}}}]
             {\parbox[c][][c]{0cm}{\scriptsize\usebox{\robotGirlL}\\\colorbox{yellow}{#1}}}
   \index{{\bf\em attention markers}!#1}
   %\index{{\bf\em \textcolor{red}{attention markers}}!#1}
   }

\newcommand{\improved}[0]{\attention[improved]}
\newcommand{\new}     [0]{\attention[new]}
\newcommand{\problem} [0]{\attention[problem]}
\newcommand{\noproof} [0]{\attention[no proof]}
\newcommand{\note} [0]{\attention[note]}

%--------------------------------------
% Relations
%--------------------------------------
%\newcommand{\relation}[0]{\ensuremath{\stackrel{R}{-}}}
%\DeclareMathOperator{\relation}{\begin{array}{|c|}\scriptstyle R\end{array}}
%\newcommand{\relation}[0]{\ensuremath{\setlength{\fboxrule}{1pt}\fbox{R}}}
%\newcommand{\eqd}[0]{\ensuremath{\stackrel{\Delta}{=}}}
 \newcommand{\closure} [1]{\overline{#1}   \index[xsym]{$\overline{\quad}$} }
 \newcommand{\relation}[0]{\scriptstyle R  \index[xsym]{$\scriptstyle R $} }
 \newcommand{\eqd}     [0]{\triangleq      \index[xsym]{$\triangleq     $} }
 \newcommand{\eqi}     [0]{\equiv          \index[xsym]{$\equiv         $} }
 \newcommand{\eqa}     [0]{\approx         \index[xsym]{$\approx        $} }
 \newcommand{\eqq}     [0]{\stackrel{?}{=} \index[xsym]{$\stackrel{?}{=}$} }

%--------------------------------------
% Logical/Boolean Operators
%--------------------------------------
%\newcommand{\lor }[0]{\vee                            \index[xsym]{$\vee                           $} }
%\newcommand{\land}[0]{\wedge                          \index[xsym]{$\wedge                         $} }
%\newcommand{\lnot}[0]{\neg                            \index[xsym]{$\neg                           $} }
\newcommand{\ltrue}[0]{\mathsf{\scriptstyle T}         \index[xsym]{$\mathsf{\scriptstyle T}        $} }
\newcommand{\lfals}[0]{\mathbb{\scriptstyle F}         \index[xsym]{$\mathbb{\scriptstyle F}        $} }
\newcommand{\lxor} [0]{\oplus                          \index[xsym]{$\oplus                         $} }
\newcommand{\XOR}  [0]{\oplus                          \index[xsym]{$\oplus                         $} }
\newcommand{\meet} [0]{\wedge                          \index[xsym]{$\wedge                         $} }
\newcommand{\join} [0]{\vee                            \index[xsym]{$\vee                           $} }
\newcommand{\meeta}[0]{\owedge                         \index[xsym]{$\owedge                        $} }
\newcommand{\joina}[0]{\ovee                           \index[xsym]{$\ovee                          $} }
\newcommand{\st}   [0]{\text{\footnotesize such that } \index[xsym]{$\text{\footnotesize such that }$} }

%--------------------------------------
% Number theory
%--------------------------------------
\DeclareMathOperator{\lcm}{lcm}

%--------------------------------------
% Set theory
%--------------------------------------
\newcommand{\setXYZ}[1]{\mathSet #1}  % general sets
\newcommand{\setA}{\setXYZ{A}}
\newcommand{\setB}{\setXYZ{B}}
\newcommand{\setC}{\setXYZ{C}}
\newcommand{\setD}{\setXYZ{D}}
\newcommand{\setX}{\setXYZ{X}}
\newcommand{\setY}{\setXYZ{Y}}
\newcommand{\setZ}{\setXYZ{Z}}

\newcommand{\set}[2]{\ensuremath{\left\{ #1 \;\left|\; #2 \right.\right\} }}
\newcommand{\setn}[1]{\ensuremath{\left\{ #1 \right\} }}
%\newcommand{\seq}[2]{\ensuremath{\left\{#1\right\}_{#2} }}
%\newcommand{\seq}[2]{\ensuremath{\left(#1\right)_{#2} }}
%\newcommand{\seq}[2]{\ensuremath{\lbbbrack#1\rbbbrack_{#2} }} % needs {mathabx} style package
\newcommand{\seq}[2]{\ensuremath{\llbracket#1\rrbracket_{#2} }} %needs stmaryrd style package
\newcommand{\seqn}[1]{\ensuremath{\llbracket#1\rrbracket }}     %needs stmaryrd style package


 \newcommand{\setu}  [0]{\cup            \index[xsym]{$\cup           $} } % set union
 \newcommand{\seti}  [0]{\cap            \index[xsym]{$\cap           $} } % set intersection
 \newcommand{\sets}  [0]{\triangle       \index[xsym]{$\triangle      $} } % set symmetric difference
 \newcommand{\setd}  [0]{\setminus       \index[xsym]{$\setminus      $} } % set difference
 \newcommand{\setc}  [1]{{#1}^c          \index[xsym]{${\cdot}^c      $} } % set compliment
%\newcommand{\seto}  [1]{\left|#1\right| \index[xsym]{$\left\|\cdot\right\|$} } % set order
 \newcommand{\seto}  [1]{\lvert #1 \rvert_\circ \index[xsym]{$\lvert\cdot\rvert_\circ$}} % set order
 \newcommand{\setind}[0]{\chi            \index[xsym]{$\chi           $} } % set indicator function

%--------------------------------------
% Special number system sets (integers, reals, rational, complex, etc)
%--------------------------------------
\newcommand{\setZQR}[1][X]{\mathbb{#1}}  % use "blackboard bold" font from amssymb
%\newcommand{\Znn}[0]{\ensuremath{\Z^\vdash}}
%\newcommand{\Zp} [0]{\ensuremath{\Z^+}}

\newcommand{\setS}[0]{\setZQR[S]}

\renewcommand{\Z}[0]{\setZQR[Z]            \index[xsym]{$\setZQR[Z]$}            }
\newcommand{\Znn}[0]{\setZQR[W]            \index[xsym]{$\setZQR[W]$}            }
\newcommand{\Znp}[0]{\setZQR[Z]^\dashv     \index[xsym]{$\setZQR[Z]^\dashv$}     }
\newcommand{\Zp} [0]{\setZQR[N]            \index[xsym]{$\setZQR[N]$}            }
\newcommand{\Zn} [0]{\setZQR[Z]^-          \index[xsym]{$\setZQR[Z]^-$}          }
\newcommand{\Ze} [0]{\setZQR[Z]_\mathrm{e} \index[xsym]{$\setZQR[Z]_\mathrm{e}$} }
\newcommand{\Zo} [0]{\setZQR[Z]_\mathrm{o} \index[xsym]{$\setZQR[Z]_\mathrm{o}$} }

\newcommand{\R}  [0]{\setZQR[R]            \index[xsym]{$\setZQR[R]$}            }
\newcommand{\Rnn}[0]{\setZQR[R]^\vdash     \index[xsym]{$\setZQR[R]^\vdash$}     }
\newcommand{\Rnp}[0]{\setZQR[R]^\dashv     \index[xsym]{$\setZQR[R]^\dashv$}     }
\newcommand{\Rp} [0]{\setZQR[R]^+          \index[xsym]{$\setZQR[R]^+$}          }
\newcommand{\Rn} [0]{\setZQR[R]^-          \index[xsym]{$\setZQR[R]^-$}          }

\newcommand{\C}[0]{\setZQR[C]              \index[xsym]{$\setZQR[C]$}            }
\newcommand{\Q}[0]{\setZQR[Q]              \index[xsym]{$\setZQR[Q]$}            }

\newcommand{\vZn}[0]{\R^n      }
\newcommand{\vRn}[0]{\R^n      }
\newcommand{\vRm}[0]{\R^m      }
\newcommand{\vRc}[0]{\R^\infty }
\newcommand{\vCn}[0]{\C^n      }
\newcommand{\vCm}[0]{\C^m      }
\newcommand{\vCc}[0]{\C^\infty }

\newcommand{\vLL}[0]{\mathrm{L}^2        \index{$\mathrm{L}^2$}              }
\newcommand{\vII}[0]{\mathrm{I}^2        \index{$\mathrm{I}^2$}              }

\newcommand{\intX}[1][X]{{{#1}^\circ}  \index{${{#1}^\circ} $} } %interior    of X
\newcommand{\clsX}[1][X]{\overline{#1} \index{$\overline{#1}$} } %closure     of X
\newcommand{\cmpX}[1][X]{{{#1}^c}      \index{${{#1}^c}     $} } %complement  of X
\newcommand{\bndX}[1][X]{\partial#1    \index{$\partial#1   $} } %boundary    of X
\newcommand{\drvX}[1][X]{#1^\prime     \index{$#1^\prime    $} } %derived set of X

\newcommand{\intA}{\intX[A] }  %interior    of A
\newcommand{\clsA}{\clsX[A] }  %closure     of A
\newcommand{\cmpA}{\cmpX[A] }  %complement  of A
\newcommand{\bndA}{\bndX[A] }  %boundary    of A
\newcommand{\drvA}{\drvX[A] }  %derived set of A

\newcommand{\intB}{\intX[B] }  %interior    of B
\newcommand{\clsB}{\clsX[B] }  %closure     of B
\newcommand{\cmpB}{\cmpX[B] }  %complement  of B
\newcommand{\bndB}{\bndX[B] }  %boundary    of B
\newcommand{\drvB}{\drvX[B] }  %derived set of B

\newcommand{\intC}{\intX[C] }  %interior    of C
\newcommand{\clsC}{\clsX[C] }  %closure     of C
\newcommand{\cmpC}{\cmpX[C] }  %complement  of C
\newcommand{\bndC}{\bndX[C] }  %boundary    of C
\newcommand{\drvC}{\drvX[C] }  %derived set of C

\newcommand{\intD}{\intX[D] }  %interior    of D
\newcommand{\clsD}{\clsX[D] }  %closure     of D
\newcommand{\cmpD}{\cmpX[D] }  %complement  of D
\newcommand{\bndD}{\bndX[D] }  %boundary    of D
\newcommand{\drvD}{\drvX[D] }  %derived set of D

%--------------------------------------
% functions
%--------------------------------------
\newcommand{\sinc} [1]{\ensuremath{\mathrm{sinc}\left[ #1 \right]}}
\newcommand{\cosb} [1]{\ensuremath{\mathrm{cos}\left[ #1 \right]}}
\newcommand{\sinb} [1]{\ensuremath{\mathrm{sin}\left[ #1 \right]}}
\newcommand{\expb} [1]{\ensuremath{\mathrm{exp}\left[ #1 \right]}}
\newcommand{\atanb}[1]{\ensuremath{\mathrm{atan}\left[ #1 \right]}}
\DeclareMathOperator{\atan}{atan}

%--------------------------------------
% operations
%--------------------------------------
\newcommand{\grad}  [0]   {\ensuremath{\nabla}}
\newcommand{\gradxy}[2]   {\ensuremath{\nabla_#1#2 }}
\newcommand{\deriv} [2]   {\ensuremath{\frac{\mathrm{d}#1}{\mathrm{d}#2} }}
\newcommand{\pderiv}[2]   {\ensuremath{\frac{\partial#1}{\partial#2} }}
\newcommand{\floor} [1]   {{\ensuremath{\left\lfloor #1 \right\rfloor  }}}
\newcommand{\ceil}  [1]   {{\ensuremath{\left\lceil #1 \right\rceil  }}}

%--------------------------------------
% Vector space
%--------------------------------------
\newcommand{\mCmm}[0]{\ensuremath{\C^{m\times m}}}
\newcommand{\mCnn}[0]{\ensuremath{\C^{n\times n}}}
\newcommand{\mCnm}[0]{\ensuremath{\C^{m\times n}}}
\newcommand{\mCmn}[0]{\ensuremath{\C^{m\times n}}}

\newcommand{\mcom}[3][c]{\ensuremath{
  \begin{array}[t]{#1}
    \underbrace{#2}\\
    \text{\color{clr:mcom}\scriptsize #3}
  \end{array}
  }}
\newcommand{\mcoml}[2]{\mcom[l]{#1}{#2}}
\newcommand{\mcomr}[2]{\mcom[r]{#1}{#2}}

 \DeclareMathOperator{\diam}{diam}
 \newcommand{\inprod}[2]{\ensuremath{\left\langle #1,\,#2 \right\rangle }\index[xsym]{$\langle\cdot,\cdot\rangle$}}
 \newcommand{\inproda}[2]{\ensuremath{\left( #1,\,#2 \right) }\index[xsym]{$(\cdot,\cdot)$}}
 \newcommand{\norm}[1]{\left\lVert #1 \right\rVert\index[xsym]{$\lVert\cdot\rVert$}}
 \newcommand{\abs}[1]{\lvert #1 \rvert \index[xsym]{$\lvert\cdot\rvert$}}
 \newcommand{\orthog}{\perp            \index[xsym]{$\perp$}}     % standard orthogonality / inner product space orthogonality
 \newcommand{\orthoga}{{\bigcirc\mkern-21mu\perp}   \index[xsym]{${\bigcirc\mkern-21mu\perp}$}}    % alternate orthogonality
%\newcommand{\orthoga}{\obot           \index[xsym]{$\obot$}}    % alternate orthogonality (needs mathabx package)
%\newcommand{\orthogb}{\boxbot         \index[xsym]{$\boxbot$}}  % alternate orthogonality (needs mathabx package)

 \newcommand{\normop}[1]{
   \left\vert\kern-1.8pt  \left\vert\kern-1.8pt  \left\vert #1
   \right\vert\kern-1.8pt \right\vert\kern-1.8pt \right\vert
   \index[xsym]{$
     \left\vert\kern-1.8pt  \left\vert\kern-1.8pt  \left\vert \cdot
     \right\vert\kern-1.8pt \right\vert\kern-1.8pt \right\vert
     $}
   }

\newcommand{\normi}[1]{\norm{#1}_\infty          \index[xsym]{$norm{\cdot}_\infty$}}
\newcommand{\norms}[1]{\norm{#1}_2               \index[xsym]{$norm{\cdot}_2$}}
\newcommand{\normu}[1]{\norm{#1}_1               \index[xsym]{$norm{\cdot}_1$}}
\newcommand{\dist}[2]{\ensuremath{\mathrm{d}     \left(#1,\;#2\right) } \index[xsym]{$\mathrm{d}$}}
\newcommand{\distsq}[2]{\ensuremath{\mathrm{d}^2 \left[#1,#2\right] } \index[xsym]{$\mathrm{d}^2$}}

\newcommand{\formbox}[1]{\sffamily\[
  \renewcommand{\arraystretch}{1.25}
  \setlength{\fboxrule}{1pt}
  \fcolorbox[rgb]{0,0,1}{0.95,0.99,1}{$\displaystyle #1$}
  \]}
\newcommand{\defbox}[1]{\sffamily\[
  \renewcommand{\arraystretch}{1.25}
  \setlength{\fboxrule}{1pt}
  \fcolorbox[rgb]{1,0,0}{1,0.95,0.95}{
    \fcolorbox[rgb]{1,0,0}{1,0.95,0.95}{$\displaystyle #1$}
  }
  \]}
\newcommand{\exbox}[1]{\sffamily\[
  \renewcommand{\arraystretch}{1.25}
  \ovalbox{$\displaystyle #1$}
  \]}

%name picture quote quote-box
\newcommand{\qboxnpq}[3]{
  \begin{center}
    \shadowbox{\parbox[b]{15\textwidth/16}{\center
      \parbox[t][2\textwidth/16][b]{2\textwidth/16}{\center
        \includegraphics*[width=2\textwidth/16-2ex, keepaspectratio=true, clip=true]
                         {#2}
        }
      \parbox[t]{12\textwidth/16}{\usefont{T1}{pzc}{m}{n}
        \quoteo #3\quotec
       }
      \\[1ex]\footnotesize #1
    }}
  \end{center}
  }

%name picture short quote quote-box
\newcommand{\qboxnps}[3]{%
  \begin{center}%
    \shadowbox{\parbox[b]{15\textwidth/16}{\center%
      \parbox[t][2\textwidth/16][b]{2\textwidth/16}{\center%
        \includegraphics*[width=2\textwidth/16-2ex, keepaspectratio=true, clip=true]%
                         {#2}%
        }%
      \parbox[t]{12\textwidth/16}{\usefont{T1}{pzc}{m}{n}%
        \quoteo #3\quotec\normalfont%
       \\[1ex]\footnotesize #1%
       }%
    }}%
  \end{center}%
  }%

%name picture quote translation quote-box
\newcommand{\qboxnpqt}[4]{%
  \begin{center}%
    \shadowbox{\parbox[b]{15\textwidth/16}{\center%
      \parbox[t]{6\textwidth/16}{\usefont{T1}{pzc}{m}{n}%
        \quoteo #3\quotec%
        }%
      \parbox[t][2\textwidth/16][b]{2\textwidth/16}{\center%
        \includegraphics*[width=2\textwidth/16-2ex, keepaspectratio=true, clip=true]%
                         {#2}%
        }%
      \parbox[t]{6\textwidth/16}{\usefont{T1}{pzc}{m}{n}%
        \quoteo #4\quotec%
       }%
      \\[1ex]\footnotesize #1%
    }}%
  \end{center}%
  }%

%--------------------------------------
% Functions and vectors
%--------------------------------------
\newcommand{\conv}[0]{\ensuremath{\star}}
\DeclareMathOperator{\Rchar}{char}
\DeclareMathOperator{\snr}{SNR}
\newcommand{\snrb} [1]{\ensuremath{\mathrm{SNR}\left[ #1 \right]}}

\newcommand{\ft}  [1]   {\ensuremath{\tilde{\mathrm{#1}}}}
\newcommand{\fs}  [1]   {\ensuremath{\breve{\mathrm{#1}}}}
\newcommand{\LT}  [1]   {\ensuremath{\hat{\mathrm{#1}}}}
\newcommand{\ZT}  [1]   {\ensuremath{\hat{\mathrm{#1}}}}
\newcommand{\fnct}[1]   {\ensuremath{\mathrm{#1}}}
\newcommand{\f}   [1][f]{\fnct{#1}}

\newcommand{\dd}  [1]   {\ensuremath{\;\mathrm{d}#1}}
\newcommand{\dtau}[0]   {\dd{\tau}}
\newcommand{\dth}[0]    {\dd{\theta}}
\newcommand{\ddelt}[0]  {\dd{\delt}}
\newcommand{\dt}  [0]   {\dd{t}}
\newcommand{\df}  [0]   {\dd{f}}
\newcommand{\dx}  [0]   {\dd{x}}
\newcommand{\dy}  [0]   {\dd{y}}
\newcommand{\dz}  [0]   {\dd{z}}
\newcommand{\du}  [0]   {\dd{u}}
\newcommand{\dv}  [0]   {\dd{v}}
\newcommand{\dw}  [0]   {\dd{\omega}}

%\newcommand{\delt}[1][t]{{\ensuremath{{\Delta{#1}}}}}
%\newcommand{\delf}[0]   {\delt[f]}

\newcommand{\ffi }[1]{\fnct{f}^{-1}\left(#1\right)}
\newcommand{\ffp }[1]{\fnct{f}^\prime\left(#1\right)}
\newcommand{\fx  }[0]{\fnct{x}}
\newcommand{\fy  }[0]{\fnct{y}}
\newcommand{\fu  }[0]{\fnct{u}}
\newcommand{\fv  }[0]{\fnct{v}}
\newcommand{\fw  }[0]{\fnct{w}}
\newcommand{\fxd }[0]{\fnct{x_d}}

\newcommand{\fa  }[0]{\fnct{a}}
\newcommand{\fb  }[0]{\fnct{b}}
\newcommand{\fc  }[0]{\fnct{c}}
\newcommand{\fd  }[0]{\fnct{d}}
\newcommand{\ff  }[0]{\fnct{f}}
\newcommand{\fg  }[0]{\fnct{g}}
%\newcommand{\fh  }[0]{\fnct{h}}
\DeclareMathOperator{\fh}{h}
\DeclareMathOperator{\fP}{P}
\DeclareMathOperator{\fR}{R}
\DeclareMathOperator{\fQ}{Q}
\DeclareMathOperator{\fQd}{\dot{Q}}
\DeclareMathOperator{\fQdd}{\ddot{Q}}
\newcommand{\fp  }[0]{\fnct{p}}
\newcommand{\fq  }[0]{\fnct{q}}
\newcommand{\fhb }[0]{\fnct{\bar{h}}}
\newcommand{\fgb }[0]{\fnct{\bar{g}}}
\newcommand{\fphi}[0]{\fnct{\phi}}
\newcommand{\fpsi}[0]{\fnct{\psi}}
\newcommand{\ftheta}[0]{\fnct{\theta}}
%\newcommand{\fs  }[0]{\fnct{s}}
\newcommand{\fr  }[0]{\fnct{r}}
\newcommand{\Falpha  }[0]{\ft{\alpha}}
\newcommand{\Fa  }[0]{\ft{a}}
\newcommand{\Fb  }[0]{\ft{b}}
\newcommand{\Fc  }[0]{\ft{c}}
\newcommand{\Fp  }[0]{\ft{p}}
\newcommand{\Fu  }[0]{\ft{u}}
\newcommand{\Fv  }[0]{\ft{v}}
\newcommand{\Fw  }[0]{\ft{v}}
\newcommand{\Fg  }[0]{\ft{g}}
\newcommand{\Fh  }[0]{\ft{h}}
\newcommand{\Fx  }[0]{\ft{x}}
\newcommand{\Ff  }[0]{\ft{f}}
\newcommand{\Fxd }[0]{\ft{x}_\mathrm{d}}
\newcommand{\Fy  }[0]{\ft{y}}
\newcommand{\Fphi}[0]{\ft{\phi}}
\newcommand{\Fpsi}[0]{\ft{\psi}}
\newcommand{\Ftheta}[0]{\ft{\theta}}
\newcommand{\Fs  }[0]{\ft{s}}
\newcommand{\Lh  }[0]{\LT{h}}
\newcommand{\Zh  }[0]{\ZT{h}}
\newcommand{\Zg  }[0]{\ZT{g}}
\newcommand{\Zf  }[0]{\ZT{f}}
\newcommand{\Lx  }[0]{\LT{x}}
\newcommand{\Zx  }[0]{\LT{x}}
\newcommand{\Zy  }[0]{\LT{y}}

\newcommand{\sym}   [0]{\fnct{\lambda}}
\newcommand{\symf}  [0]{\ft{\lambda}}
\newcommand{\kdelta}[0]{\ensuremath{\bar{\delta}}}

%--------------------------------------
% operators
%--------------------------------------
\newcommand{\opX} [1][X]{{\boldsymbol{\mathOp #1}}                 \index{$\boldsymbol{\mathsf #1}                $}}
\newcommand{\opXb}[2]   {{\boldsymbol{\mathsf #1}}\left[#2\right]  \index{$\boldsymbol{\mathsf #1}\left[#2\right] $}}
\newcommand{\opXa}[1]   {{\boldsymbol{\mathsf #1}}^\ast            \index{$\boldsymbol{\mathsf #1}^\ast           $}}
\newcommand{\opXi}[1]   {{\boldsymbol{\mathsf #1}}^{-1}            \index{$\boldsymbol{\mathsf #1}^{-1}           $}}

\newcommand{\opI}  [0]{\opX [I]    } % identity operator


\newcommand{\opF}  [0]{\opX [F]                 } % Fourier Transform
\newcommand{\opFT} [0]{\opX [F]                 } % Fourier Transform
\newcommand{\opFTa}[0]{\opFT^\ast               } % Fourier Transform adjoint
\newcommand{\opFTi}[0]{\opFT^{-1}               } % Fourier Transform inverse
\newcommand{\opFa} [0]{\opXa{F}                 } % Fourier Transform adjoint
\newcommand{\opFTb}[0]{\opXb[F]                 } % Fourier Transform
\newcommand{\opFS} [0]{\opX [F]_{\mathrm{s}}    } % Fourier Series
\newcommand{\opDFT} [0]{\opX [F]_{\mathrm{d}}   } % Discrete Fourier Transform
\newcommand{\opDTFT} [0]{\opX [F]_{\mathrm{dt}} } % Discrete Time Fourier Transform
\newcommand{\opFi}[0]{\opFT^{-1}} % Inverse Fourier Transform
\newcommand{\kernel}[0]{\ensuremath{\kappa}} % linear operator kernel
\newcommand{\kernelb}[1]{\ensuremath{\kappa\left(#1\right)}} % linear operator kernel

\newcommand{\opW}  [0]{\opX [W]    }
\newcommand{\opWb} [1]{\opXb{W}{#1}}
\newcommand{\opL}  [0]{\opX [L]    }
\newcommand{\opK}  [0]{\opX [K]    }
\newcommand{\opLb} [1]{\opXb{L}{#1}}
\newcommand{\opZ}  [0]{\opX [Z]    }
\newcommand{\opZb} [1]{\opXb{Z}{#1}}
\newcommand{\opV}  [0]{\opX [V]    } %
\newcommand{\opY}  [0]{\opX [Y]    } %

\newcommand{\opA}  [0]{\opX [A]    } % general
\newcommand{\opAa} [0]{\opXa{A}    } %
\newcommand{\opAi} [0]{\opXi{A}    } %
\newcommand{\opB}  [0]{\opX [B]    } % general
\newcommand{\opBa} [0]{\opXa{B}    } %
\newcommand{\opBi} [0]{\opXi{B}    } %
\newcommand{\opC}  [0]{\opX [C]    } % general
\newcommand{\opCa} [0]{\opXa{C}    } %
\newcommand{\opE}  [0]{\opX [E]    } % general
\newcommand{\opP}  [0]{\opX [P]    } % projection
\newcommand{\opPa} [0]{\opXa{P}    } %
\newcommand{\opU}  [0]{\opX [U]    } % unitary
\newcommand{\opUa} [0]{\opXa{U}    } %
\newcommand{\opUi} [0]{\opXi{U}    } %
\newcommand{\opM}  [0]{\opX [M]    } % isometric
\newcommand{\opMa} [0]{\opXa{M}    } %
\newcommand{\opN}  [0]{\opX [N]    } % normal
\newcommand{\opNa} [0]{\opXa{N}    } %
\newcommand{\opS}  [0]{\opX [S]    } % self adjoint
\newcommand{\opSa} [0]{\opXa{S}    } %
\newcommand{\opR}  [0]{\opX [R]    } %
\newcommand{\opRa} [0]{\opXa{R}    } %
\newcommand{\opRi} [0]{\opXi{R}    } %

\newcommand{\opD}  [0]{\opX [D]    } % dialation
\newcommand{\opDa} [0]{\opXa{D}    } %
\newcommand{\opDi} [0]{\opXi{D}    } %
\newcommand{\opT}  [0]{\opX [T]    } % translation
\newcommand{\opTa} [0]{\opXa{T}    } %
\newcommand{\opTi} [0]{\opXi{T}    } %


%--------------------------------------
% Properties of operators
%--------------------------------------
%\newcommand{\oppX} [1]{\mathcal{#1} \index[xsym]{$\mathcal{#1}$}}
\newcommand{\oppX} [1]{\mathOpp #1} 
\newcommand{\oppN} [0]{\oppX{N}     }      % Null space
\newcommand{\oppR} [0]{\oppX{R}     }      % Range
\newcommand{\oppD} [0]{\oppX{D}     }      % Domain
\newcommand{\oppB} [0]{\oppX{B}     }      % set of bounded operators
\newcommand{\oppS} [0]{\oppX{S}     }      % span of a set of vectors

%--------------------------------------
% Vectors
%--------------------------------------
\newcommand{\spans}  [0]{\Rrightarrow \index[xsym]{$\Rrightarrow$}}
%\newcommand{\vect}   [1]{{\boldsymbol{#1}}}
\newcommand{\vect}   [1]{\mathVec #1}
\newcommand{\vectd}  [1]{{\boldsymbol{#1}^\ast}}   % vector from dual space
\renewcommand{\v }   [1]{\vect{#1}}
\newcommand{\va  }   [0]{\vect{a}}
\newcommand{\vb  }   [0]{\vect{b}}
\newcommand{\vg  }   [0]{\vect{g}}
\newcommand{\vh  }   [0]{\vect{h}}
\newcommand{\vp  }   [0]{\vect{p}}
\newcommand{\vq  }   [0]{\vect{q}}
\newcommand{\vx  }   [0]{\vect{x}}
\newcommand{\vy  }   [0]{\vect{y}}
\newcommand{\vz  }   [0]{\vect{z}}
\newcommand{\vxd }   [0]{\vectd{x}}
\newcommand{\vyd }   [0]{\vectd{y}}
\newcommand{\vzd }   [0]{\vectd{z}}
\newcommand{\vye }   [0]{\ensuremath{\hat{\vy}}}
\newcommand{\vu  }   [0]{\vect{u}}
\newcommand{\vv  }   [0]{\vect{v}}
\newcommand{\vw  }   [0]{\vect{w}}
\newcommand{\vzero}  [0]{\vect{0} \index[xsym]{$\vect{0}$}}
\newcommand{\vone}   [0]{\vect{1} \index[xsym]{$\vect{1}$}}
\newcommand{\vpsi}   [0]{\vect{\psi}}
\newcommand{\vphi}   [0]{\vect{\phi}}
\newcommand{\vtheta} [0]{\vect{\theta}}
\newcommand{\vA  }   [0]{\vect{A}}
\newcommand{\vM  }   [0]{\vect{M}}

\newcommand{\dotx}[1][x]{\ensuremath{\dot{#1}}}
\newcommand{\doty}[0]{\dotx[y]}
\newcommand{\dotv}[0]{\dotx[v]}
\newcommand{\dotw}[0]{\dotx[w]}

%--------------------------------------
% Functionals
%--------------------------------------
\renewcommand{\Re} [0]{\ensuremath{\mathcal{R}_\mathrm{e}}\index[xsym]{$\mathcal{R}_\mathrm{e}$}}
\newcommand{\Reb}[1]{\ensuremath{\Re\left[#1\right]}}
\renewcommand{\Im} [0]{\ensuremath{\mathcal{I}_\mathrm{m}}\index[xsym]{$\mathcal{I}_\mathrm{m}$}}
\newcommand{\Imb}[1]{\ensuremath{\Im\left[#1\right]}}

%--------------------------------------
% spaces
%--------------------------------------
\newcommand{\spXYZ} [1]{\ensuremath{\mathSp #1}} % vector space
\newcommand{\spXYZo}[1]{\spXYZ{#1}^\perp} % orthogonal vector space
\newcommand{\spXYZd}[1]{\spXYZ{#1}^\ast}  % dual vector space

\newcommand{\spX} [0]{\spXYZ{X}}        %
\newcommand{\spY} [0]{\spXYZ{Y}}        %
\newcommand{\spZ} [0]{\spXYZ{Z}}        %
\newcommand{\spLL}[0]{\spXYZ{L}^2(\R) \index[xsym]{$\spXYZ{L}^2(\R)$}} % {f:R->C | f is square integrable}
\newcommand{\spPP}[0]{\spXYZ{P}^2(\R) \index[xsym]{$\spXYZ{P}^2(\R)$}} % {f:R->C | f is finite periodic  }
\newcommand{\spLp}[0]{\spXYZ{L}^p(\R) \index[xsym]{$\spXYZ{L}^p(\R)$}} % {f:R->C | f is p integrable     }
\newcommand{\spII}[0]{\spXYZ{I}^2(\Z) \index[xsym]{$\spXYZ{I}^2(\Z)$}} % {f:Z->C | f is square integrable}
\newcommand{\spIp}[0]{\spXYZ{I}^p(\Z) \index[xsym]{$\spXYZ{I}^p(\Z)$}} % {f:Z->C | f is p integrable     }
\newcommand{\spU} [0]{\spXYZ{U}  }        % vector space
\newcommand{\spV} [0]{\spXYZ{V}  }        % vector space
\newcommand{\spW} [0]{\spXYZ{W}  }        % vector space
\newcommand{\spD} [0]{\spXYZ{D}  }        % closed linear subspace
\newcommand{\spH} [0]{\spXYZ{H}  \index[xsym]{$\spXYZ{H} $}}        % Hilbert space
\newcommand{\spI} [0]{\spXYZ{I}  \index[xsym]{$\spXYZ{I} $}}        % Hilbert space

\newcommand{\spXd}[0]{\spXYZd{X} }        %
\newcommand{\spYd}[0]{\spXYZd{Y} }        %
\newcommand{\spXo}[0]{\spXYZo{X} }        %
\newcommand{\spVo}[0]{\spXYZo{V} }        %
\newcommand{\spUo}[0]{\spXYZo{U} }        %


%--------------------------------------
% Measure theory
%--------------------------------------
\newcommand{\msx} [0] {\ensuremath{X}}                % measure space set
\newcommand{\mss} [0] {\ensuremath{\mathbf{S}}}       % measure space sigma-algebra
\newcommand{\msm} [0] {\ensuremath{\mu}}              % measure space measure
\newcommand{\ms}  [0] {\ensuremath{(\msx,\mss,\msm)}} % measure space triple
\newcommand{\mso} [0] {\ensuremath{\wideparen{\mu}}}  % outer measure

%--------------------------------------
% Probability
%--------------------------------------
\newcommand{\pso} [0] {\ensuremath{\Omega}}           % set of outcomes of an experiment
\newcommand{\pse} [0] {\ensuremath{\mathbf{E}}}       % sigma-algebra of events
\newcommand{\psp} [0] {\ensuremath{\mathrm{P}}}       % probability measure function
\newcommand{\ps}  [0] {\ensuremath{(\pso,\pse,\psp)}} % probability space
\newcommand{\pP}[1] {\psp\left\{#1\right\}}
\newcommand{\pPa}[2] {\psp\left\{\left[\left.\left.#1\right]\land\right[#2\right]\right\}}
\newcommand{\pPc}[2] {\psp\left\{\left. #1 \;\right|\; #2 \right\}}

\newcommand{\pp}    [1][p] {\ensuremath{\mathrm{#1}}}
\newcommand{\ppx}   [1][x]{\ensuremath{\pp_\mathsf{#1}}}
\newcommand{\ppy}   [0]{\ppx[y]}
\newcommand{\ppz}   [0]{\ppx[z]}
\newcommand{\ppr}   [0]{\ppx[R]}
\newcommand{\ppth}  [0]{\ppx[\theta]}
\newcommand{\ppxy}  [0]{\ppx[xy]}
\newcommand{\ppyx}  [0]{\ppx[yx]}
\newcommand{\ppb}   [1] {\ensuremath{\mathrm{p\left[#1\right]}}}
\newcommand{\pq}    [0] {\pp[q]}
\newcommand{\pqb}   [1] {\ensuremath{\pq\left[#1\right]}}

\newcommand{\pc}    [1][c] {\ensuremath{\mathrm{#1}}}
\newcommand{\pcx}   [1][X]{\ensuremath{\pc_{\mbox{\tiny{#1}}}}}
\newcommand{\pcy}   [0]{\pcx[Y]}


\newcommand{\pmean} [0]   {\ensuremath{\mu}}
\newcommand{\pmeanx}[1][X]{\ensuremath{\pmean_\mathsf{#1}}}
\newcommand{\pmeany}[0]   {\ensuremath{\pmeanx[Y]}}
\newcommand{\pVar}  [0]   {\ensuremath{\mathrm{Var}}}
\newcommand{\pvar}  [0]   {\ensuremath{\sigma^2}}
\newcommand{\pvarx} [1][X]{\ensuremath{\pvar_\mathsf{#1}}}
\newcommand{\pvary} [0]   {\ensuremath{\pvarx[Y]}}
\newcommand{\pvarxy}[0]   {\ensuremath{\sigma_\mathsf{xy}}}
\newcommand{\pQ}[0] {\ensuremath{\mathrm{Q} }}  % expected value

\DeclareMathOperator{\pE}{E}
\newcommand{\Eb}   [1] {\pE\left[#1\right]}
\newcommand{\E}    [0] {\pE}
%\newcommand{\pE}[0] {\ensuremath{\opE}}   % expected value
\newcommand{\pEb}[1] {\pE\left[#1\right]}
\newcommand{\pEx}[1][x] {\ensuremath{\pE_\mathsf{#1}}} % expected value wrt X
\newcommand{\pEy}[0] {\ensuremath{\pEx[y]}} % expected value wrt Y
\newcommand{\pEz}[0] {\ensuremath{\pEx[z]}} % expected value wrt Y
\newcommand{\pExy}[0] {\ensuremath{\pEx[xy]}} % expected value wrt XY
\newcommand{\pEyx}[0] {\ensuremath{\pEx[yx]}} % expected value wrt XY

\newcommand{\Mx}  [0] {\ensuremath{\mathrm{\mu_\rvx}}}  % mean
\newcommand{\pdf}[0] {\ensuremath{\mathrm{p}}}

\newcommand{\pN}   [2]{\ensuremath{\:\mathrm{N}\left( #1,#2 \right)}} %normal distribution

\newcommand{\Qb}   [1] {\ensuremath{\mathrm{Q}\left[#1\right]}}
\newcommand{\var}  [0] {\ensuremath{\mathrm{var}}\:}                   % variance
\newcommand{\varb} [1] {\ensuremath{\mathrm{var}\left[#1\right]}}      % variance
\newcommand{\cov}  [2] {\ensuremath{\mathrm{cov}\left[#1, #2\right]}}  % covariance

\newcommand{\rvp} [0] {\ensuremath{\mathbf{p}}}       % random variable
\newcommand{\rvq} [0] {\ensuremath{\mathbf{q}}}       % random variable
\newcommand{\rvx} [0] {\ensuremath{\mathbf{x}}}       % random variable
\newcommand{\rvy} [0] {\ensuremath{\mathbf{y}}}
\newcommand{\rvr} [0] {\ensuremath{\mathbf{r}}}
\newcommand{\rvt} [0] {\ensuremath{\mathbf{\theta}}}

\newcommand{\pdfp}[0] {\ensuremath{\mathrm{p}}}
\newcommand{\pdfpb}[1] {\ensuremath{\mathrm{p\left[#1\right]}}}
\newcommand{\pdfx}[0] {\ensuremath{\mathrm{p}_\rvx}}  % probability density function on X
\newcommand{\cdfx}[0] {\ensuremath{\mathrm{c}_\rvx}}  % cummulative distribution function on X

\newcommand{\pdfy}[0] {\ensuremath{\mathrm{p}_\rvy}}
\newcommand{\cdfy}[0] {\ensuremath{\mathrm{c}_\rvy}}
\newcommand{\My}  [0] {\ensuremath{\mathrm{\mu_\rvy}}}

\newcommand{\pdft}[0] {\ensuremath{\mathrm{p}_\rvt}}
\newcommand{\cdft}[0] {\ensuremath{\mathrm{c}_\rvt}}
\newcommand{\Mt}  [0] {\ensuremath{\mathrm{\mu_\rvt}}}

\newcommand{\pdfxy}[0]  {\ensuremath{\mathrm{p}_{\rvx\rvy}}}
\newcommand{\pdfxgy}[0] {\ensuremath{\mathrm{p}_{\rvx|\rvy}}}
\newcommand{\pdfygx}[0] {\ensuremath{\mathrm{p}_{\rvy|\rvx}}}

%\newcommand{\coinhead}[0]{ \ensuremath{$\smiley$} }
%\newcommand{\coinhead}[0]{ \smiley }
%\newcommand{\coinhead}[0]{ \ensuremath{\oplus} }
%\newcommand{\coinhead}[0]{H}
%\newcommand{\coinhead}[0]{ \ensuremath{$\Sun$} }
\newcommand{\coinhead}[0]{ \Sun }

%\newcommand{\cointail}[0]{ \ensuremath{$\frownie$} }
%\newcommand{\cointail}[0]{ \frownie }
%\newcommand{\cointail}[0]{ \ensuremath{\ominus} }
%\newcommand{\cointail}[0]{T}
%\newcommand{\cointail}[0]{ \ensuremath{$\NoSun$} }
\newcommand{\cointail}[0]{ \NoSun }
\newcommand{\powerset}[0]{\mathcal{P}}

%--------------------------------------
% Random processes
%--------------------------------------
\newcommand{\Rxx} [1][xx] {\ensuremath{\mathrm{R_{#1}}}}  % Autocorrelation function
\newcommand{\Sxx} [1][xx] {\ensuremath{\mathrm{S_{#1}}}}  % spectral density
\newcommand{\LSxx}[1][xx] {\ensuremath{\mathrm{\hat{S}_{#1}}}}  % Laplace spectral density
\newcommand{\ZSxx}[1][xx] {\ensuremath{\mathrm{\hat{S}_{#1}}}}  % Z-domain spectral density
\newcommand{\avgRxx} [1][xx] {\ensuremath{\mathrm{\bar{R}_{#1}}}}  % Autocorrelation function
\newcommand{\avgSxx} [1][xx] {\ensuremath{\mathrm{\bar{S}_{#1}}}}  % spectral density

\newcommand{\Rhh} [0] {\Rxx[hh]}
\newcommand{\Rll} [0] {\Rxx[\lambda\lambda]}
\newcommand{\Ryy} [0] {\Rxx[yy]}
\newcommand{\Rpp} [0] {\Rxx[pp]}
\newcommand{\Rqq} [0] {\Rxx[qq]}
\newcommand{\Rww} [0] {\Rxx[ww]}
\newcommand{\Rss} [0] {\Rxx[ss]}
\newcommand{\Rzz} [0] {\Rxx[zz]}
\newcommand{\avgRss} [0] {\avgRxx[ss]}

\newcommand{\Rxy} [0] {\Rxx[xy]} % Cross-correlation function
\newcommand{\Ryx} [0] {\Rxx[yx]}
\newcommand{\Rpq} [0] {\Rxx[pq]}
\newcommand{\Rqp} [0] {\Rxx[qp]}
\newcommand{\Rphi}[0] {\Rxx[\phi\phi]}
\newcommand{\Rpsi}[0] {\Rxx[\psi\psi]}
\newcommand{\Rhs} [0] {\Rxx[\phi\psi]}

\newcommand{\Shh} [0] {\Sxx[hh]}
\newcommand{\Syy} [0] {\Sxx[yy]}
\newcommand{\Sphi}[0] {\Sxx[\phi\phi]}
\newcommand{\Spsi}[0] {\Sxx[\psi\psi]}
\newcommand{\Shs} [0] {\Sxx[\phi\psi]}
\newcommand{\LSphi} [0] {\LSxx[\phi\phi]}
\newcommand{\LSyy} [0] {\LSxx[yy]}
\newcommand{\ZSyy} [0] {\ZSxx[yy]}
\newcommand{\Spp} [0] {\Sxx[pp]}
\newcommand{\Sqq} [0] {\Sxx[qq]}
\newcommand{\Sww} [0] {\Sxx[ww]}
\newcommand{\Sss} [0] {\Sxx[ss]}
\newcommand{\avgSss} [0] {\avgSxx[ss]}

\newcommand{\Sxy} [0] {\Sxx[xy]} % Cross-correlation function
\newcommand{\LSxy} [0] {\LSxx[xy]} % Cross-correlation function
\newcommand{\LSyx} [0] {\LSxx[yx]} % Cross-correlation function
\newcommand{\ZSxy} [0] {\ZSxx[xy]} % Cross-correlation function
\newcommand{\Syx} [0] {\Sxx[yx]}
\newcommand{\Spq} [0] {\Sxx[pq]}
\newcommand{\Sqp} [0] {\Sxx[qp]}


%--------------------------------------
% Estimation theory
%--------------------------------------
\newcommand{\est}    [2][\theta] {\ensuremath{\hat{#1}_\mathrm{#2}}} % maximum apriori
\newcommand{\estn}   [1][\theta] {\est[#1]{}}    % no subscript
\newcommand{\estMAP} [1][\theta] {\est[#1]{map}} % maximum apriori
\newcommand{\estML}  [1][\theta] {\est[#1]{ml}}  % maximum likelihood
\newcommand{\estB}   [1][\theta] {\est[#1]{b}}   % Bayesian
\newcommand{\estMM}  [1][\theta] {\est[#1]{mm}}  % minimax
\newcommand{\estNP}  [1][\theta] {\est[#1]{np}}  % Neyman-Pearson
\newcommand{\estMS}  [1][\theta] {\est[#1]{mms}} % minimum mean square
\newcommand{\estLS}  [1][\theta] {\est[#1]{ls}} % least square

\newcommand{\fCost}[0]{\ensuremath{C}}
%\newcommand{\vp   } [0]{\vect{\theta}}
\newcommand{\vpo  } [0]{\vp_\mathrm{opt}}
\newcommand{\vpio } [0]{\ensuremath{\check{\vpo}}}
\newcommand{\vpe  } [0]{\ensuremath{\hat{\vp}}}
\newcommand{\ve   } [0]{\vect{e}}
\newcommand{\p   } [0]{\ensuremath{\theta}}

\newcommand{\hhcmp}[0]{\ensuremath{\mathrm{h}}}
\newcommand{\hhcmpf}[0]{\ft{\hhcmp}}  % composite


%--------------------------------------
% Renew Commands
%--------------------------------------
\renewcommand{\baselinestretch}{1}
%\renewcommand{\arraystretch}{1.5}

%--------------------------------------
% Counters
%--------------------------------------
\newtheorem{assumption} {Assumption} [chapter]
\newtheorem{axiom}      {Axiom}      [chapter]
\newtheorem{conjecture} {Conjecture} [chapter]
\newtheorem{corollary}  {Corollary}  [chapter]
%\newtheorem{definition} {Definition} [chapter]
\newtheorem{example}    {Example}    [chapter]
\newtheorem{hypothesis} {Hypothesis} [chapter]
\newtheorem{identity}   {Identity}   [chapter]
\newtheorem{lemma}      {Lemma}      [chapter]
\newtheorem{proposition}{Proposition}[chapter]
\newtheorem{theorem}    {Theorem}    [chapter]

%--------------------------------------
% Environments
%--------------------------------------
\newenvironment{fsJ}{\begin{tiny}        }{ \end{tiny}          }
\newenvironment{fsK}{\begin{scriptsize}  }{ \end{scriptsize}    }
\newenvironment{fsL}{\begin{footnotesize}}{ \end{footnotesize}  }
\newenvironment{fsM}{\begin{small}       }{ \end{small}         }
\newenvironment{fsN}{\begin{normalsize}  }{ \end{normalsize}    }
\newenvironment{fsO}{\begin{large}       }{ \end{large}         }
\newenvironment{fsP}{\begin{Large}       }{ \end{Large}         }
\newenvironment{fsQ}{\begin{LARGE}       }{ \end{LARGE}         }
\newenvironment{fsR}{\begin{huge}        }{ \end{huge}          }
\newenvironment{fsS}{\begin{Huge}        }{ \end{Huge}          }

\newenvironment{proof}
  {
    \begin{sffamily}       % use sans-serif font (no serif)
    \ding{46}              % use small pencil-down
    {\bfseries\scshape\footnotesize Proof: }
    \begin{footnotesize}   % change font size
   %\begin{changebar}      % start change bar environment -- gave PS problem
  }
  {
   %\end{changebar}        % end change bar environment
    \end{footnotesize}     % end new font size
    \hfill \ding{47}       % use small pencil-up
    \end{sffamily}         % end sans-serif font
  }

\newenvironment{marray}{\begin{displaymath}\renewcommand{\arraystretch}{1} \begin{array}[t]{rclllllllllllllllllllllll} }
                       {\end{array} \end{displaymath} }

\newenvironment{liste}
%  {\begin{list}{$\bullet$}{
   {\begin{list}{\scriptsize\mancube}{
      \setlength{\topsep        }{0ex}
      \setlength{\partopsep     }{0ex}
      \setlength{\parsep        }{0ex}
      \setlength{\itemsep       }{0ex}
      \setlength{\leftmargin    }{4ex}
      \setlength{\rightmargin   }{4ex}
      \setlength{\listparindent }{0ex}
      \setlength{\labelwidth    }{1ex}
      \setlength{\labelsep      }{1ex}
      \setlength{\itemindent    }{0ex}
      }}
   {\end{list}}


\newcounter{enume_cntr}
\newenvironment{enume}
   {\begin{list}{\arabic{enume_cntr}. }{
      \usecounter{enume_cntr}
      \setlength{\topsep        }{0ex}
      \setlength{\partopsep     }{0ex}
      \setlength{\parsep        }{0ex}
      \setlength{\itemsep       }{0ex}
      \setlength{\leftmargin    }{4ex}
      \setlength{\rightmargin   }{4ex}
      \setlength{\listparindent }{0ex}
      \setlength{\labelwidth    }{5ex}
      \setlength{\labelsep      }{0ex}
      \setlength{\itemindent    }{0ex}
      }}
   {\end{list}}

\newtheorem{definition} {Definition} [chapter]
%\newcounter{definition}[chapter]
%\renewenvironment{definition}
%  {
%    \refstepcounter{definition}
%    {\bf Definition \arabic{chapter}.\arabic{definition}}
%    \begin{sffamily}
%  }
%  {
%    \end{sffamily}
%    %\hfill \fbox{\tiny D}
%    \hfill $\Box$
%  }

\newenvironment{sourcecode}{ \begin{scriptsize}\begin{verbatim} }
                           { \end{verbatim}    \end{scriptsize} }

%--------------------------------------
% Picture boxes
%--------------------------------------
%\begin{fsK}
\setlength{\unitlength}{0.15mm}

%     \newbox{\picSampler}
%     \savebox{\picSampler}(0,0){
%       \put(-110,-110){\makebox ( 220,220){}       }
%       \put(  10,  -50 ){\dashbox{4}( 80,100)   {} }
%       \put(   0,  -40 ){\makebox ( 100,  0)[b]{\scriptsize sampler}      }
%       \put(   0,    0 ){\line    (   1,  0)   { 40}          }
%       \put(  40,    0 ){\line    (   1,  1)   { 25}          }
%       \put(  60,    0 ){\line    (   1,  0)   { 40}          }
%     }
%
%     \newbox{\picMultT}
%     \savebox{\picMultT}(0,0){
%       \put( -50,   0){\line    (   1,  0)   { 40}          }
%       \put(   0,   0){\circle{20} }
%       \put( -50, -50){\makebox (100,100)   {$\times$} }
%       \put(  10,   0){\line    (   1,  0)   { 40}          }
%       \put(   0, -50){\line    (   0,  1)   { 40}          }
%     }
%
%     \newbox{\picMultL}
%     \savebox{\picMultL}(0,0){
%       \put( -50,   0){\line    (   1,  0)   { 40}          }
%       \put(   0,   0){\circle{20} }
%       \put( -50, -50){\makebox (100,100)   {$\times$} }
%       \put(  10,   0){\line    (   1,  0)   { 40}          }
%       \put(   0,  50){\line    (   0, -1)   { 40}          }
%     }
%
%     \newbox{\picAddE}
%     \savebox{\picAddE}(0,0){
%       \put(   0,   0){\circle{20} }
%       \put( -50, -50){\makebox (100,100)   {$+$} }
%       \put(  10,   0){\line    (   1,  0)   { 40}          }
%       \put(   0,  50){\line    (   0, -1)   { 40}          }
%       \put(   0, -50){\line    (   0,  1)   { 40}          }
%     }
%
%     \newbox{\picAddX}
%     \savebox{\picAddX}(0,0){
%       \put(   0,   0){\circle{20} }
%       \put( -50, -50){\makebox (100,100)   {$+$} }
%       \put( -50,   0){\line    (   1,  0)   { 40}          }
%       \put(   0,  50){\line    (   0, -1)   { 40}          }
%       \put(   0, -50){\line    (   0,  1)   { 40}          }
%     }
%
%     \newbox{\picAWGN}
%     \savebox{\picAWGN}(0,0){
%       \put(-100,-100){\makebox ( 200,200){}       }
%       \put(   0, -50){\dashbox{4}( 100,100)   {\scriptsize $+$}          }
%       \put(   0, -40){\makebox ( 100,100)[b]{\scriptsize{noise}}      }
%       \put(   0, -50){\makebox ( 100, 95)[t]{\scriptsize $n(t)$}       }
%       \put(  50,   0){\circle{20}                          }
%       \put( -50,   0){\vector  (   1,  0)   {90}           }
%       \put(  60,   0){\vector    (   1,  0)   {90}           }
%       \put(  50,  30){\vector  (   0, -1)   {20}           }
%     }
%
%
%     %\end{fsK}

%--------------------------------------
% Picture boxes
%--------------------------------------
\setlength{\unitlength}{0.03mm}
\newbox {\robotBoyR}
\savebox{\robotBoyR}{
\color[rgb]{1   ,0   ,0}
  \begin{picture}(150,325)(0,0)
  \put( 0, 0 ){
    \multiput(10,275)(5,0){17}{\line(0,1){30}}               % hair
    %\multiput(10,275)(0,5){5}{\line(1,0){80}}                % hair
    %\multiput(60,275)(0,5){5}{\line(1,0){30}}                % hair
    \put(  0,175){\framebox(100,100)}                        % head
    \put( 75,250){\circle{20}}                               % eye outer
    \put( 80,250){\circle*{10}}                              % eye pupil
    \put( 75,200){\circle{20}}                               % mouth
    \multiput(30,150)(0,5){5}{\line(1,0){40}}                % neck
    \put(  0, 50){\framebox(100,100){}}                      % torso
    \multiput(60,140)(5,0){15}{\line(0,-1){30}}              % arm
    \multiput(10,0)(0,5){10}{\line(1,0){30}}                 % leg
    \multiput(60,0)(0,5){10}{\line(1,0){30}}                 % leg
  }
  \end{picture}
}

\newbox {\robotBoyL}
\savebox{\robotBoyL}{
\color[rgb]{1,0,0}
  \begin{picture}(150,325)(0,0)
  \put( 0, 0 ){
    \multiput(10,275)(5,0){17}{\line(0,1){30}}               % hair
    \put(  0,175){\framebox(100,100)}                        % head
    \put( 25,250){\circle{20}}                               % eye outer
    \put( 20,250){\circle*{10}}                              % eye pupil
    \put( 25,200){\circle{20}}                               % mouth
    \multiput(30,150)(0,5){5}{\line(1,0){40}}                % neck
    \put(  0, 50){\framebox(100,100){}}                      % torso
    \multiput(40,140)(-5,0){15}{\line(0,-1){30}}            % arm
    \put( 25,25){\circle{40}}                                % leg
    \put( 75,25){\circle{40}}                                % leg
  }
  \end{picture}
}

\newbox{\robotGirlL}
\savebox{\robotGirlL}{
\color[rgb]{1 ,0 ,0}
  \begin{picture}(150,325)(0,0)
  \put( 0, 0 ){
    \put(-10,280){\line(1,0){155}}                             % hair very top
    \multiput(-10,260)(0,5){4}{\line(1,0){110}}                % hair top
    \multiput(100,280)(5,0){10}{\line(0,-1){200}}            % hair back
    \put(  0,175){\framebox(100,80)}                         % head
    \put( 25,240){\circle{20}}                               % eye outer
    \put( 20,240){\circle*{10}}                              % eye pupil
    \put( 25,190){\circle{20}}                               % mouth
    \multiput(30,150)(0,5){5}{\line(1,0){40}}                % neck
    \put(30,150){\line(-1,-4){25}}                           % dress left
    \put(70,150){\line( 1,-4){25}}                           % dress right
    \put( 5, 50){\line( 1, 0){90}}                           % dress bottom
    \multiput(40,125)(-14,0){6}{\circle{25}}                 % arm
    \multiput(40,20)(0,5){6}{\line(1,0){20}}                 % leg
    \put( 50,10){\circle{20}}                                % foot
  }
  \end{picture}
}










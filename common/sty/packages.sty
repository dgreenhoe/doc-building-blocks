%============================================================================
% LaTeX style file
% Daniel J. Greenhoe
%============================================================================

%--------------------------------------
% Style Packages
%--------------------------------------
 \usepackage{etex}                     % deal with counter problem. 2018016utc note: no longer necessary for xifthen
                                       
                                       %Document support
                                       %------------------------------------
 \usepackage{xifthen}                  % if then else support, includes \cnttest
 \usepackage{calc}                     % calculation
%\usepackage{xkeyval}                  % extended key val support
 \usepackage{array}                    % new tabular and array support, \newcolumntype
 \usepackage{longtable}                % tabular with page breaks
% \usepackage[calc,showdow]{datetime2}           % date and time formats
% \usepackage{datetime2-calc}           % can be used to calculate GMT zone date/time
% \DTMsetup{calc,showdow=true}   % options for datetime2
 \usepackage{xcolor}                   % color support
 \usepackage{graphicx}                 % 
%\usepackage[xetex]{graphicx}          % graphics
%\usepackage{extramarks}               % extra header marks
 \usepackage{fancyhdr}                 % headers
 \usepackage[Glenn]{fncychap}          % fancy chapter headings: Sonny, Lenny, Glenn, Conny, Rejne, Bjarne
%2013jul30\usepackage{poster}                   % support for multisheet posters and banners
 \usepackage{url}                      % url support: \url{}  \path{}
%20150801\usepackage{cite}            % SEEMS TO CONFLICT WITIH JURABIB \CITE AND \FULLCITE.  modifies LATEX's normal citation mechanism for improved handling of numeric citations
\usepackage{graphpap}                 % graph paper in figures
%\RequirePackage{index}                % multiple index support
%\usepackage{makeidx}                  % make index
% \usepackage{mathtools}                % Aboxed command for putting boxes around stuff in {align*} environment. ref: http://tex.stackexchange.com/questions/30214/mbox-does-not-draw-a-box-inside-align. can use \boxed instead (from AMS?)
%20171121%\usepackage{index}                    % multiple index support. problem with expansion of counters in \index{...}
 \usepackage[makeindex,nonewpage]{imakeidx} % multiple indices and no expansion problem
 \indexsetup{level=\section,toclevel=section,noclearpage=true}
 \usepackage{fancybox}                 % shadow, oval, and double boxes
 \usepackage[multiple]{footmisc}       % footnote support
 \usepackage{fancyvrb}                 % fancy verbatim -- supports verbatim in footnotes plus more
 \usepackage{nextpage}                 % \cleartooddpage, \cleartoevenpage
 \usepackage{multicol}                 % multiple column support
 \usepackage{colortbl}                 % color in tables
%\usepackage{xecjk}

 \usepackage{watermark}                % watermark package 
%\usepackage{xetex-pstricks}           % pstricks help for XeLaTeX and XeTeX
 \usepackage{pst-node}                 % psmatrix
 \usepackage[tiling]{pst-fill}         % pst fill package
 \usepackage{pst-plot}                 % ps plots
 \usepackage{multido}                  % loop support for ps diagrams
 \usepackage{nccrules}                 % dashed patterns
%\usepackage{rotating}                 % rotation tools
%2015nov01sun\usepackage{pst-eps}                  % eps extraction
 \usepackage{pstricks}                 % graphics support
 \usepackage{pstricks-add}             % fixe and addons for pstricks
 \usepackage{pst-grad}                 % gradients
 \usepackage{pgfplots}                 % plotting support; includes 3d mesh plotting
 %\pgfplotsset{
 %  width=200mm,
 %  compat=1.4,
 %  every axis/.append style={line width=2pt},
 %  }
 %\usepackage{pst-3d}                   % 3D imaging
 \usepackage{pst-3dplot}               % 3D imaging
 \usepackage{geometry}%

%------------------------------------
% Time
% examples for use:
%   \begin{document}\timestamp\end{document}
%   \begin{document}{\dateLong\today} {\settimeformat{timeUTC}\currenttime\end{document}
%------------------------------------
 \usepackage{datetime}           % date and time formats--seems to have problem with \markboth header command
%\newdateformat{dateLong}{{\THEYEAR} {\monthname[\THEMONTH]} {\twodigit{\THEDAY}} {(\dayofweekname{\THEDAY}{\THEMONTH}{\THEYEAR})} {\THEHOUR}:{\THEMINUTE}}
 \newdateformat{dateLong}{{\THEYEAR} {\monthname[\THEMONTH]} {\twodigit{\THEDAY}} {(\dayofweekname{\THEDAY}{\THEMONTH}{\THEYEAR})}}
 \newdateformat{dateShort}{\THEYEAR\hspace{0.25ex}\shortmonthname[\THEMONTH]\hspace{0.25ex}\THEDAY}
 \newdateformat{dateYear}{\THEYEAR}
 \newtimeformat{timeUTC}{{{\twodigit{\THEHOURXII}:\twodigit{\THEMINUTE}}\amorpmname} {UTC}}

%------------------------------------
% Hyperref
%------------------------------------
\usepackage{hyperref} % hyperlinks in text
\hypersetup{%
  pdfauthor={Daniel J. Greenhoe},
  pdfcreator={XeLaTeX; XeTeX version 3.14159265-2.6-0.99991},
  pdfmenubar=true,
  pdftoolbar=true,
  final=true,
  debug=false,
  pdfborder={0 0 0},
  colorlinks=true,
  allcolors=blue,
 %linkcolor=blue,
 %citecolor=blue,
 %anchorcolor=blue,
  }

                                      % mathematics
                                      %------------------------------------
\usepackage{cancel}                  % allows diagonal cancelation
\renewcommand{\CancelColor}{\color{red}} % color of cancellation marks
\usepackage{slashed}                 % useful for overlapping math symbols: \declareslashed
\usepackage{amsthm}
\usepackage{mathtools}
\usepackage{xfrac} % "allows the user to type?set frac?tions in the form ¡¥n/d¡¦" http://www.ctan.org/pkg/xfrac
  %---------------------------------------
  % circled number list support
  % reference: http://tex.stackexchange.com/questions/7032/good-way-to-make-textcircled-numbers
  %\usepackage{tikz}
  %\usepackage{enumitem}                 % circled list number support; 2013 August 18 Sunday
  %\newcommand{\circled}[1]{\tikz[baseline=(char.base)]{\node[shape=circle,draw,inner sep=1pt] (char) {#1};}}% adapted from http://tex.stackexchange.com/questions/7032/good-way-to-make-textcircled-numbers
  %%\newenvironment{cenum}{\begin{enumerate}[label=\protect\circled{\arabic*}]}{\end{enumerate}} % reference: http://tex.stackexchange.com/questions/7032/good-way-to-make-textcircled-numbers
  %\newenvironment{cenum}{\begin{enumerate}}{\end{enumerate}} % reference: http://tex.stackexchange.com/questions/7032/good-way-to-make-textcircled-numbers
  %---------------------------------------

%------------------------------------
% cross references
%------------------------------------
 \usepackage{prettyref}               % references with prefixes
   \newrefformat{chp}  {{\scshape~Chapter}~\ref{#1}}
   \newrefformat{app}  {{\scshape~Appendix}~\ref{#1}}
   \newrefformat{def}  {Definition~\ref{#1}}
   \newrefformat{lem}  {Lemma~\ref{#1}}
   \newrefformat{ilem}  {(\ref{#1})~lemma} % item lemma
   \newrefformat{idef}  {definition~\ref{#1}} % item definition
   \newrefformat{prop} {Proposition~\ref{#1}}
   \newrefformat{tbl}  {Table~\ref{#1}}
   \newrefformat{thm}  {Theorem~\ref{#1}}
   \newrefformat{cnj}  {Conjecture~\ref{#1}}
   \newrefformat{cor}  {Corollary~\ref{#1}}
   \newrefformat{fig}  {Figure~\ref{#1}}
   \newrefformat{tab}  {Table~\ref{#1}}
   \newrefformat{ex}   {Example~\ref{#1}}
   \newrefformat{ax}   {Axiom~\ref{#1}}
   \newrefformat{item} {item~(\ref{#1})}
   %\newrefformat{item} {(\ref{#1})}
   \newrefformat{lit}  {Literature item~\ref{#1}}
   \newrefformat{equ}  {equation~\eqref{#1}}
   \newrefformat{eq}   {equation~\eqref{#1}}
   \newrefformat{sen}  {Sentence Table~\ref{#1}}
   \newrefformat{voc}  {Vocabulary Table~\ref{#1}}
   \newrefformat{theme}{Theme~\ref{#1}}
   \newrefformat{cnt}{Counterexample~\ref{#1}}
   \newrefformat{rem}{Remark~\ref{#1}}

%------------------------------------
% glossary support
%------------------------------------
% \usepackage{glossaries}

%------------------------------------
% source code listing
%------------------------------------
%\newcommand{\indexstylecmd}[1]{\index{GNU Octave!\textcolor{blue}{#1}}}
 \newcommand{\indexstylecmd}[1]{\index{GNU Octave!#1}}
 \usepackage{listings}                % source code listing support
 \lstloadlanguages{Octave,MuPAD}
 \lstset{ language         = Octave      ,
          alsolanguage     = Gnuplot     ,
          basicstyle       = \scriptsize ,
          keywordstyle     = \bfseries ,
          identifierstyle  =             ,
%          indexstyle       = ,
          indexstyle       = [1]\indexstylecmd,
          commentstyle     = \color{blue},
          numberstyle      = \tiny\color{blue},
          showstringspaces = false       ,
          numbers          = left        ,
          numbersep        = 5pt         ,
          xleftmargin      = 5mm         ,
          xrightmargin     = 5mm         ,
          showlines        = false       ,
          emptylines       = 3           ,
          breaklines       = true        ,
          breakatwhitespace= true        ,
          breakindent      = 12ex        ,
          frame            = single      ,
          frameround       = tttt        ,
          tabsize          = 2           ,
          showtabs         = false       ,
          emph             = {freqz,graw},
          emphstyle        = \bfseries,
          index            = [1][keywords]{freqz,graw},
%         keywords     = {freqz,graw}
%         morekeywords     = {freqz,graw}
        }

\ifthenelse{\isundefined{\C}}{\newcommand{\C}{\BbbC}}{\renewcommand{\C}{\BbbC}}%



%\usepackage{alphalph} % allows alphabetic counters greater than 26: A,B,C,...,Y,Z,AA,AB,AC,...
%\proofmodetrue                       % side margin display of indexing
%\usepackage[DVIps]{changebar}        % change bars -- used in proofs -- gave PS problem
%\usepackage{indxcite}                % author index support
%\usepackage{shadow}                  % shadow boxes
% \usepackage[perpage,symbol*]{footmisc}       % footnote support
% \DefineFNsymbols{dan}[text]{* {**} {***}}  % does not seem to work
% \setfnsymbol{dan}                   % does not seem to work
%\usepackage{eepic}                   % picture support -- circles, lines -- causes problems with attention robots
%\usepackage{repeatindex}             % repeat the index header for new column or page -- cannot get this to work
%\usepackage{pict2e}                  %
%\usepackage{supertabular}            % tabular with page breaks -- did not work right with tbl of eps figures
%\usepackage{layouts}
%\usepackage{textcase}                 %utilities to change case
%\usepackage{zref-savepos}



 

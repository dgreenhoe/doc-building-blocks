%============================================================================
% Daniel J. Greenhoe
% XeLaTeX file
%============================================================================

%=======================================
\chapter{Relations and Functions}
%=======================================

%=======================================
\section{Relations}
%=======================================
\qboxnpq
  {\href{http://en.wikipedia.org/wiki/Charles_Peirce}{Charles Sanders Peirce}
   \href{http://www-history.mcs.st-andrews.ac.uk/Timelines/TimelineF.html}{(1839--1914)},
   \href{http://www-history.mcs.st-andrews.ac.uk/BirthplaceMaps/Places/USA.html}{American} mathematician and logician
   \footnotemark
  }
  {../common/people/peirce.jpg}
  {A \textsc{dual} relative term, such as ``lover," ``benefactor," ``servant,"
   is a common name signifying a pair of objects. 
   Of the two members of the pair, a determinate 
   one is generally the first, and the other the second; 
   so that if the order is reversed, 
   the pair is not considered as remaining the same.}
  \citetblt{
    quote: & \citerp{peirce1883}{187} \\
    image: & \scs\url{ http://www-history.mcs.st-andrews.ac.uk/history/PictDisplay/Peirce_Benjamin.html} 
    }

%=======================================
\subsection{Definition and examples}
%=======================================
A relation on the sets $\setX$ and $\setY$ is any subset of the Cartesian product
$\cprodXY$ (next definition).
Alternatively, a relation is a generalization of a \hie{function}
(\prefp{def:rel_f})
in the sense that both are subsets of a Cartesian product,
but the relation allows mapping from a single element in its domain to two different
elements in its range, whereas functions do not---
a single element in a function's domain may map to one and only one element
in its range.
The set of all relations in $\cprodXY$ is denoted $\clRxy$,
which is suitable since the number of relations in $\cprodXY$ when
$\setX$ and $\setY$ are finite is $2^{\seto{\setX}\cdot\seto{\setY}}$
(\prefp{prop:rel_order}).
\ifexclude{wsd}{
Examples include the following:
\\\begin{tabular}{@{\qquad$\imark$\;}lll}
  \pref{ex:rel_123_12}  & \prefpo{ex:rel_123_12}  & Relations in the Cartesian product $\setn{x_1,x_2,x_3}\cprod\setn{y_1,y_2}$ \\
  \pref{ex:f_123_12}    & \prefpo{ex:f_123_12}    & Functions in the Cartesian product $\setn{x_1,x_2,x_3}\cprod\setn{y_1,y_2}$ \\
  \pref{ex:f_xyz_xyz}   & \prefpo{ex:f_xyz_xyz}   & Functions in the Cartesian product $\setn{x,y,z}\cprod\setn{x,y,z}$ \\
  \pref{ex:rel_f_disc}  & \prefpo{ex:rel_f_disc}  & discrete examples \\
  \pref{ex:rel_f_cont}  & \prefpo{ex:rel_f_cont}  & continuous examples
\end{tabular}
}

%---------------------------------------
\begin{definition}
\label{def:relation}
\footnote{
  \citerpg{maddux2006}{4}{0444520139},
  \citerpg{halmos1960}{26}{0387900926}
  }
%---------------------------------------
Let $\setX$ and $\setY$ be sets.
\defbox{\begin{array}{M}%
  A \hid{relation} $\symx{\relation}:\setX\to\setY$
  is any subset of $\cprodXY$. That is,
    \\\indentx$\ds\relation \subseteq \cprodXY $
    \\
  A pair $\opair{x}{y}\in\relation$ is alternatively denoted $x\relation y$.\\
  The set of all relations that are subsets of $\cprodXY$ is denoted $\symx{\clRxy}$;
  that is,
    \\\indentx$\ds\clRxy \eqd \set{\relation}{\relation\subseteq\brp{\cprodXY}}$.
\end{array}}
\end{definition}

%---------------------------------------
\begin{example}
%\label{ex:op_inv}
\index{function!inverse} 
\index{inverse function}
\mbox{}\\
%---------------------------------------
\begin{minipage}{\tw-60mm}%
$\begin{array}{Mrcl}
  Let & \setX &\eqd \setn{1,\, 2,\, 3} \\
      & \setY &\eqd \setn{A,\, B}   \\
      & \rel  &\eqd \setn{\opair{1}{A},\, \opair{2}{A},\, \opair{3}{B}}
\end{array}$\\
The sets $\setX$ and $\setY$ and the relation $\rel$ are illustrated to the right.
\end{minipage}%
\hfill%
\tbox{\includegraphics{../common/math/graphics/pdfs/fnct123ab.pdf}}
\end{example}

%---------------------------------------
\begin{proposition}
\label{prop:rel_order}
%---------------------------------------
Let $\clR{\setX}{\setY}$ be the set of all relations from a set $\setX$ to a set $\setY$.
Let $\seton$ be the counting measure for sets.
\propbox{
  \mcomr{\seto{\clR{\setX}{\setY}}}{number of possible relations in $\cprodXY$}
    = 2^\seto{\cprodXY}
    = 2^{\seto{\setX}\cdot\seto{\setY}}
  }
\end{proposition}
\begin{proof}
  \begin{enumerate}
    \item Let $\setX$ be a finite set with $m$ elements.\\
    \item Let $\setY$ be a finite set with $n$ elements.\\
    \item Then the number of elements in $\setX\times\setY$ is $mn$.
    \item A relation is any subset of $\setX\times\setY$, which may (represent this with a 1)
          or may not (represent this with a 0) contain a given element of $\setX\times\setY$.
    \item Therefore, the number of possible relations is $2^{mn}=2^{\seto{\setX}\cdot\seto{\setY}}$.
  \end{enumerate}
\end{proof}

\ifexclude{wsd}{
\pref{ex:rel_123_12} (next) lists all of the 64 possible relations in the
Cartesian product $\setn{x_1,\,x_2,\,x_3}\cprod\setn{y_1,\,y_2}$.
Eight of these 64 relations are also functions.
These eight functions are listed in \prefpp{ex:f_123_12}.
Of these eight functions, six are \prope{surjective}.
These six surjective functions are listed in \prefpp{ex:f_123_12_surjective}.
%---------------------------------------
\begin{example}
\label{ex:rel_123_12}
%---------------------------------------
Let $\setX\eqd\setn{x_1,\,x_2,\,x_3}$ and $\setY\eqd\setn{y_1,\,y_2}$.
Let $\clRxy$ be the set of all relations in $\cprodXY$.
There are a total of
$\seto{\clRxy} = 2^{\seto{\setX}\cdot\seto{\setY}} = 2^{3\cprod2} = 64$ possible relations.
These are listed below.
Of these 64 relations, only 8 are \hie{functions},
as listed in \prefpp{ex:f_123_12}.
%\begin{footnotesize}
\begin{longtable}{|MNM *{6}{M} M|}
  \hline
  \mc{10}{G}{relations in $\setn{x_1,\,x_2,\,x_3}\cprod\setn{y_1,\,y_2}$}\\
  \hline
  \relation_{ 1} &=& \mc{8}{M|}{\emptyset} \\
  \relation_{ 2} &=& \{ & \opair{x_1}{y_1}, &                   &                   &                   &                   &                  & \}\\
  \relation_{ 3} &=& \{ &                   & \opair{x_1}{y_2}  &                   &                   &                   &                  & \}\\
  \relation_{ 4} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}  &                   &                   &                   &                  & \}\\
  \relation_{ 5} &=& \{ &                   &                   & \opair{x_2}{y_1}  &                   &                   &                  & \}\\
  \relation_{ 6} &=& \{ & \opair{x_1}{y_1}, &                   & \opair{x_2}{y_1}  &                   &                   &                  & \}\\
  \relation_{ 7} &=& \{ &                   & \opair{x_1}{y_2}, & \opair{x_2}{y_1}  &                   &                   &                  & \}\\
  \relation_{ 8} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}, & \opair{x_2}{y_1}, &                   &                   &                  & \}\\
  \relation_{ 9} &=& \{ &                   &                   &                   & \opair{x_2}{y_2}  &                   &                  & \}\\
  \relation_{10} &=& \{ & \opair{x_1}{y_1}, &                   &                   & \opair{x_2}{y_2}  &                   &                  & \}\\
  \relation_{11} &=& \{ &                   & \opair{x_1}{y_2}  &                   & \opair{x_2}{y_2}  &                   &                  & \}\\
  \relation_{12} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}  &                   & \opair{x_2}{y_2}  &                   &                  & \}\\
  \relation_{13} &=& \{ &                   &                   & \opair{x_2}{y_1}  & \opair{x_2}{y_2}  &                   &                  & \}\\
  \relation_{14} &=& \{ & \opair{x_1}{y_1}, &                   & \opair{x_2}{y_1}  & \opair{x_2}{y_2}  &                   &                  & \}\\
  \relation_{15} &=& \{ &                   & \opair{x_1}{y_2}, & \opair{x_2}{y_1}  & \opair{x_2}{y_2}  &                   &                  & \}\\
  \relation_{16} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}, & \opair{x_2}{y_1}, & \opair{x_2}{y_2}  &                   &                  & \}\\
  \relation_{17} &=& \{ &                   &                   &                   &                   & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{18} &=& \{ & \opair{x_1}{y_1}, &                   &                   &                   & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{19} &=& \{ &                   & \opair{x_1}{y_2}  &                   &                   & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{20} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}  &                   &                   & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{21} &=& \{ &                   &                   & \opair{x_2}{y_1}  &                   & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{22} &=& \{ & \opair{x_1}{y_1}, &                   & \opair{x_2}{y_1}  &                   & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{23} &=& \{ &                   & \opair{x_1}{y_2}, & \opair{x_2}{y_1}  &                   & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{24} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}, & \opair{x_2}{y_1}, &                   & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{25} &=& \{ &                   &                   &                   & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{26} &=& \{ & \opair{x_1}{y_1}, &                   &                   & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{27} &=& \{ &                   & \opair{x_1}{y_2}  &                   & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{28} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}  &                   & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{29} &=& \{ &                   &                   & \opair{x_2}{y_1}  & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{30} &=& \{ & \opair{x_1}{y_1}, &                   & \opair{x_2}{y_1}  & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{31} &=& \{ &                   & \opair{x_1}{y_2}, & \opair{x_2}{y_1}  & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{32} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}, & \opair{x_2}{y_1}, & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  &                  & \}\\
  \relation_{33} &=& \{ &                   &                   &                   &                   &                   & \opair{x_3}{y_2} & \}\\
  \relation_{34} &=& \{ & \opair{x_1}{y_1}, &                   &                   &                   &                   & \opair{x_3}{y_2} & \}\\
  \relation_{35} &=& \{ &                   & \opair{x_1}{y_2}  &                   &                   &                   & \opair{x_3}{y_2} & \}\\
  \relation_{36} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}  &                   &                   &                   & \opair{x_3}{y_2} & \}\\
  \relation_{37} &=& \{ &                   &                   & \opair{x_2}{y_1}  &                   &                   & \opair{x_3}{y_2} & \}\\
  \relation_{38} &=& \{ & \opair{x_1}{y_1}, &                   & \opair{x_2}{y_1}  &                   &                   & \opair{x_3}{y_2} & \}\\
  \relation_{39} &=& \{ &                   & \opair{x_1}{y_2}, & \opair{x_2}{y_1}  &                   &                   & \opair{x_3}{y_2} & \}\\
  \relation_{40} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}, & \opair{x_2}{y_1}, &                   &                   & \opair{x_3}{y_2} & \}\\
  \relation_{41} &=& \{ &                   &                   &                   & \opair{x_2}{y_2}  &                   & \opair{x_3}{y_2} & \}\\
  \relation_{42} &=& \{ & \opair{x_1}{y_1}, &                   &                   & \opair{x_2}{y_2}  &                   & \opair{x_3}{y_2} & \}\\
  \relation_{43} &=& \{ &                   & \opair{x_1}{y_2}  &                   & \opair{x_2}{y_2}  &                   & \opair{x_3}{y_2} & \}\\
  \relation_{44} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}  &                   & \opair{x_2}{y_2}  &                   & \opair{x_3}{y_2} & \}\\
  \relation_{45} &=& \{ &                   &                   & \opair{x_2}{y_1}  & \opair{x_2}{y_2}  &                   & \opair{x_3}{y_2} & \}\\
  \relation_{46} &=& \{ & \opair{x_1}{y_1}, &                   & \opair{x_2}{y_1}  & \opair{x_2}{y_2}  &                   & \opair{x_3}{y_2} & \}\\
  \relation_{47} &=& \{ &                   & \opair{x_1}{y_2}, & \opair{x_2}{y_1}  & \opair{x_2}{y_2}  &                   & \opair{x_3}{y_2} & \}\\
  \relation_{48} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}, & \opair{x_2}{y_1}, & \opair{x_2}{y_2}  &                   & \opair{x_3}{y_2} & \}\\
  \relation_{49} &=& \{ &                   &                   &                   &                   & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{50} &=& \{ & \opair{x_1}{y_1}, &                   &                   &                   & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{51} &=& \{ &                   & \opair{x_1}{y_2}  &                   &                   & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{52} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}  &                   &                   & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{53} &=& \{ &                   &                   & \opair{x_2}{y_1}  &                   & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{54} &=& \{ & \opair{x_1}{y_1}, &                   & \opair{x_2}{y_1}  &                   & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{55} &=& \{ &                   & \opair{x_1}{y_2}, & \opair{x_2}{y_1}  &                   & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{56} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}, & \opair{x_2}{y_1}, &                   & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{57} &=& \{ &                   &                   &                   & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{58} &=& \{ & \opair{x_1}{y_1}, &                   &                   & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{59} &=& \{ &                   & \opair{x_1}{y_2}  &                   & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{60} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}  &                   & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{61} &=& \{ &                   &                   & \opair{x_2}{y_1}  & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{62} &=& \{ & \opair{x_1}{y_1}, &                   & \opair{x_2}{y_1}  & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{63} &=& \{ &                   & \opair{x_1}{y_2}, & \opair{x_2}{y_1}  & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \relation_{64} &=& \{ & \opair{x_1}{y_1}, & \opair{x_1}{y_2}, & \opair{x_2}{y_1}, & \opair{x_2}{y_2}  & \opair{x_3}{y_1}  & \opair{x_3}{y_2} & \}\\
  \hline
\end{longtable}
%\end{footnotesize}
\end{example}
}

%---------------------------------------
\begin{example}
\label{ex:rel_123_12_common}
\hspace{1pt}\\
%---------------------------------------
  Let $\setX\eqd\setn{1,\,2,\,3}$, $\setY\eqd\setn{1,\,2}$, 
  and $\clRxy$ the set of all of the $2^{3\times2}=64$ relations in $\cprodXY$.
  Furthermore, let $x_1\eqd1$, $x_2\eqd2$, $x_3\eqd3$, $y_1\eqd1$, and $y_2\eqd2$.
  \ifexclude{wsd}{Then the following common relations are the relations of \prefpp{ex:rel_123_12}:}
\begin{minipage}{10\tw/16-3mm}%
  $\begin{array}{|cclcl|}
    \hline
    \leq &\equiv& \setn{\opair{1}{1},\,\opair{1}{2},\,\opair{2}{2}}   &\equiv& \relation_{12} \\
    \geq &\equiv& \setn{\opair{1}{1},\,\opair{2}{1},\,\opair{2}{2},\, \opair{3}{1},\,\opair{3}{2}}   &\equiv& \relation_{62} \\
    <    &\equiv& \setn{\opair{1}{2}}   &\equiv& \relation_{3} \\
    >    &\equiv& \setn{\opair{2}{1},\, \opair{3}{1},\,\opair{3}{2}}   &\equiv& \relation_{53} \\
    =    &\equiv& \setn{\opair{1}{1},\, \opair{2}{2}}   &\equiv& \relation_{10}\\
    \hline
  \end{array}$
\end{minipage}%
\hfill\tbox{\includegraphics{../common/math/graphics/pdfs/123le12.pdf}}\hfill\mbox{}\\%
\end{example}

%=======================================
\subsection{Calculus of Relations}
%=======================================
%---------------------------------------
\begin{proposition}
\footnote{
  \citerpg{suppes1972}{58}{0486616304}
  }
\label{prop:rel_emptyset}
%---------------------------------------
Let $\clRxy$ be the set of all relations in $\cprodXY$.
\formbox{
  \emptyset\in\clRxy
  \qquad
  \text{($\emptyset$ is a relation)}
  }
\end{proposition}
\begin{proof}
\begin{align*}
  \emptyset
    &\subseteq \cprodXY
  \\&\implies \text{$\emptyset$ is a relation.}
    && \text{by definition of relation \prefp{def:relation}}
\end{align*}
\end{proof}

%---------------------------------------
\begin{proposition}
\footnote{
  \citerpg{suppes1972}{58}{0486616304}
  }
\label{prop:rel_subset}
%---------------------------------------
Let $\clRxy$ be the set of all relations from the sets $\setX$ to the set $\setY$.
\propbox{
  \brbr{\begin{array}{lDD}
    \rel\in\clRxy         & ($\rel$ is a relation) & and \\
    \rela \subseteq \rel  & ($\rela$ is a subset of $\rel$)
  \end{array}}
  \qquad\implies\qquad
  \begin{array}{lD}
    \rela\in\clRxy & ($\rela$ is a relation)
  \end{array}
  }
\end{proposition}
\begin{proof}
\begin{align*}
  \rela
    &\subseteq \rel
    &&         \text{by right hypothesis}
  \\&\subseteq \cprodXY
    && \text{by definition of relation \prefp{def:relation}}
  \\&\implies \text{$\emptyset$ is a relation.}
    && \text{by definition of relation \prefp{def:relation}}
\end{align*}
\end{proof}

A function does not always have an inverse that is also a function.
But unlike functions, \emph{every} relation has an inverse that is also a relation.
Note that since all functions are relations,
every function \emph{does} have an inverse that is at least a relation,
and in some cases this inverse is also a function.
%---------------------------------------
\begin{definition}
\label{def:rel_inverse}
\footnote{
  \citerpgc{suppes1972}{61}{0486616304}{Defintion 6, inverse=``converse"},
  \citerpg{kelley1955}{7}{0387901256},
  \citorpc{peirce1883}{188}{inverse=``converse"}
  }
\index{relation!inverse}
%---------------------------------------
Let $\rel$ be a relation in $\clRxy$.
\defbox{\begin{array}{M}%
  $\symxd{\reli}$ is the \relxd{inverse} of relation $\rel$ if
  \\\indentx
  $\reli\eqd\set{\opair{y}{x}\in\cprodYX}{\opair{x}{y}\in\rel}$
  \\
  The inverse relation $\reli$ is also called the \relxd{converse} of $\rel$.
\end{array}}
\end{definition}


%---------------------------------------
\begin{example}
\index{function!inverse} 
\index{inverse function}
%---------------------------------------
%\begin{minipage}{9\tw/16-3mm}%
$\begin{array}[t]{|Mlcl|}
  \hline
  Let  & \setX &\eqd& \setn{1,\, 2,\, 3} \\
  and  & \setY &\eqd& \setn{A,\, B}   \\
  and  & \rel  &\eqd& \setn{\opair{1}{A},\, \opair{2}{A},\, \opair{2}{B},\, \opair{3}{B}}.\\
  Then & \reli &=& \setn{\opair{A}{1},\, \opair{A}{2},\, \opair{B}{2},\, \opair{B}{3}}.\\
  \hline
\end{array}$
\\
The sets $\setX$ and $\setY$ and the relations $\rel$ and $\reli$ are illustrated below.
\\
\includegraphics[height=50mm]{../common/math/graphics/pdfs/fnct123ab123.pdf}
\end{example}




%---------------------------------------
\begin{example}
\label{ex:op_inv_leq}
\hspace{1pt}\\
%---------------------------------------
\begin{minipage}{\tw-60mm}%
Let $\setX\eqd\setn{1,2,3}$.
Then the ``less than or equal to" relation $\leq$ in $\clRxx$ is
\\\indentx$\leq \equiv \setn{\opair{1}{1},\, \opair{1}{2},\, \opair{1}{3},\, \opair{2}{2},\, \opair{2}{3},\, \opair{3}{3}}$
\\and it's inverse $\leq^{-1}$ is equivalent to the ``greater than or equal to" relation $\geq$:
\\\indentx$\leq^{-1} \equiv \setn{\opair{1}{1},\, \opair{2}{1},\, \opair{3}{1},\, \opair{2}{2},\, \opair{3}{2},\, \opair{3}{3}} \equiv \geq$.
\end{minipage}%
\hfill%
\tbox{\includegraphics{../common/math/graphics/pdfs/fnct123le123.pdf}}
\end{example}


%---------------------------------------
\begin{example}
\index{function!inverse} 
\index{inverse function}
\hspace{1pt}\\
%---------------------------------------
\begin{minipage}{\tw-80mm}%
Let $\relation$ be the \hie{ellipse} relation in $\clRrr$ such that
\\\indentx$ \relation \eqd \set{\opair{x}{y}\in\R^2}{\frac{x^2}{2^2} + \frac{y^2}{1^2}=1}$.
\\Then the inverse relation $\reli$ is 
\\\indentx$ \reli = \set{\opair{x}{y}\in\R^2}{\frac{x^2}{2^2} + \frac{2^2}{2^2}=1}$.
\\Both of these relations are illustrated to the right.
\end{minipage}%
\hfill\tbox{\begin{tabular}{cc}
   \includegraphics{../common/math/graphics/pdfs/ellipse21.pdf}
  &\includegraphics{../common/math/graphics/pdfs/ellipse12.pdf}
  \\
  $\rel$ & $\reli$
\end{tabular}}
\end{example}

%---------------------------------------
\begin{example}
%\label{ex:op_inv}
\index{function!inverse} 
\index{inverse function}
%---------------------------------------
Let $\opI\in\clFxx$ be an identity function,
and $\ff,\ffi\in\clFxx$ be functions.
\\\indentx 
  $\ffi$ is the \hid{inverse} of $\ff$ if $\ff\ffi = \ffi\ff = \opI$.
\end{example}


%\ifexclude{wsd}{
%---------------------------------------
\begin{theorem}
\label{thm:rel_inv_inv}
\footnote{
  \citerpg{kelley1955}{8}{0387901256},
  \citorp{peirce1883}{188}
  }
%---------------------------------------
Let $\rel$ be a relation with inverse $\reli$.
\thmbox{
  \brp{\reli}^{-1} = \rel
  }
\end{theorem}
\begin{proof}
\begin{align*}
  \brp{\reli}^{-1}
    &= \mcom{\set{\opair{x}{y}}{\opair{y}{x}\in\rel}}{$\reli$}^{-1}
    && \text{by definition of $\reli$ (\prefp{def:rel_inverse})}
  \\&= \set{\opair{x}{y}}{\opair{y}{x}\in\set{\opair{y}{x}}{\opair{x}{y}\in\rel}}
    && \text{by definition of $\reli$ (\prefp{def:rel_inverse})}
  \\&= \set{\opair{x}{y}}{\opair{x}{y}\in\rel}
  \\&= \rel
\end{align*}
\end{proof}


%---------------------------------------
\begin{example}
%\label{ex:op_inv_inv}
\index{function!inverse} 
\index{inverse function}
%---------------------------------------
%\begin{minipage}{9\tw/16-3mm}%
$\begin{array}[t]{|Mlcl|}
  \hline
  Let  & \setX &\eqd& \setn{1,\, 2,\, 3} \\
  and  & \setY &\eqd& \setn{A,\, B}   \\
  and  & \rel  &\eqd& \setn{\opair{1}{A},\, \opair{2}{A},\, \opair{2}{B},\, \opair{3}{B}}.\\
  Then & \reli &=& \setn{\opair{A}{1},\, \opair{A}{2},\, \opair{B}{2},\, \opair{B}{3}}\\
  and  & \brp{\reli}^{-1} &=& \setn{\opair{1}{A},\, \opair{2}{A},\, \opair{2}{B},\, \opair{3}{B}} = \rel.\\
  \hline
\end{array}$
\\
The sets $\setX$ and $\setY$ and the relations $\rel$, $\reli$, and $\brp{\reli}^{-1}$ are illustrated below.
\\
{\psset{unit=8mm}%
\psset{fillstyle=none}%
  \begin{pspicture}(-1,-2)(13,2.8)
    \psellipse[linecolor=set](0,0)(1,2)%
    \psellipse[linecolor=set](4,0)(1,2)%
    \psellipse[linecolor=set](8,0)(1,2)%
    \psellipse[linecolor=set](12,0)(1,2)%
    \psdot(0, 1)% 1
    \psdot(0, 0)% 2
    \psdot(0,-1)% 3
    \psdot(4, 1)% A
    \psdot(4,-1)% B
    \psdot(8, 1)% 1
    \psdot(8, 0)% 2
    \psdot(8,-1)% 3
    \psdot(12, 1)% A
    \psdot(12,-1)% B
    \psbezier[linecolor=blue]{->}(0, 1)(1, 2)(3, 2)(4, 1)%     (1,A)
    \psline  [linecolor=blue]{->}(0, 0)(4, 1)%                 (2,A)
    \psline  [linecolor=blue]{->}(0, 0)(4,-1)%                 (2,B)
    \psbezier[linecolor=blue]{->}(0,-1)(1,-2)(3,-2)(4,-1)%     
    \psbezier[linecolor=blue]{->}(4, 1)(5, 2)(7, 2)(8, 1)%     (1,A)
    \psline  [linecolor=blue]{->}(4, 1)(8, 0)%                 (2,A)
    \psline  [linecolor=blue]{->}(4,-1)(8, 0)%                 (2,B)
    \psbezier[linecolor=blue]{->}(4,-1)(5,-2)(7,-2)(8,-1)%
    \psbezier[linecolor=blue]{->}(8, 1)(9, 2)(11, 2)(12, 1)%   (1,A)
    \psline  [linecolor=blue]{->}(8, 0)(12, 1)%                (2,A)
    \psline  [linecolor=blue]{->}(8, 0)(12,-1)%                (2,B)
    \psbezier[linecolor=blue]{->}(8,-1)(9,-2)(11,-2)(12,-1)%
    \rput[b]( 0, 2.1){$\setX$}
    \uput [90]{0}( 4, 2){$\setY$}
    \uput [90]{0}( 8, 2){$\setX$}
    \uput [90]{0}(12, 2){$\setY$}
    \uput [90]{0}( 2, 2){$\rel$}
    \uput [90]{0}( 6, 2){$\reli$}
    \uput [90]{0}(10, 2){$\brp{\reli}^{-1}$}
    \uput[180]{0}( 0, 1){$1$}
    \uput[180]{0}( 0, 0){$2$}
    \uput[180]{0}( 0,-1){$3$}
    \uput[270]{0}( 4, 1){$A$}
    \uput [90]{0}( 4,-1){$B$}
    \uput [90]{0}( 8, 1){$1$}
    \uput [90]{0}( 8, 0){$2$}
    \uput [90]{0}( 8,-1){$3$}
    \uput  [0]{0}(12, 1){$A$}
    \uput  [0]{0}(12,-1){$B$}
    {\scriptsize
    \rput[t] (2, 1.6){$\opair{1}{A}$}
    \rput[tl](2.5, 0.6){$\opair{2}{A}$}
    \rput[bl](2.5,-0.6){$\opair{2}{B}$}
    \rput[b] (2,  -1.6){$\opair{3}{B}$}
    \rput[t] (6,   1.6){$\opair{A}{1}$}
    \rput[tr](5.5, 0.6){$\opair{A}{2}$}
    \rput[br](5.5,-0.6){$\opair{B}{2}$}
    \rput[b] (6,  -1.6){$\opair{B}{3}$}
    \rput[t] (10,   1.6){$\opair{1}{A}$}
    \rput[tl](10.5, 0.6){$\opair{2}{A}$}
    \rput[bl](10.5,-0.6){$\opair{2}{B}$}
    \rput[b] (10,  -1.6){$\opair{3}{B}$}
    }%
   %\psgrid[gridcolor=green,subgridcolor=green](-1,-2)(13,3)
  \end{pspicture}%
}
%\end{minipage}%
\end{example}


%---------------------------------------
\begin{example}
%---------------------------------------
Let $\setX\eqd\setn{1,2,3}$.
Let $\leq\in\clRxx$ be the ``less than or equal to" relation in $\clRxx$.
\begin{align*}
  \brp{\leq^{-1}}^{-1} 
    &\eqd \brp{\setn{\opair{1}{1},\,\opair{1}{2},\,\opair{1}{3},\,\opair{2}{2},\,\opair{2}{3},\,\opair{3}{3}}^{-1}}^{-1}
  \\&=    \brp{\setn{\opair{1}{1},\,\opair{2}{1},\,\opair{3}{1},\,\opair{2}{2},\,\opair{3}{2},\,\opair{3}{3}}}^{-1}
  \\&=    \brp{\setn{\opair{1}{1},\,\opair{1}{2},\,\opair{1}{3},\,\opair{2}{2},\,\opair{2}{3},\,\opair{3}{3}}}
  \\&\eqd \leq
\end{align*}
{\psset{unit=8mm}
\psset{fillstyle=solid}%
  \begin{pspicture}(-1,-2)(13,2.8)
    \psellipse[linecolor=set](0,0)(1,2)%
    \psellipse[linecolor=set](4,0)(1,2)%
    \psellipse[linecolor=set](8,0)(1,2)%
    \psellipse[linecolor=set](12,0)(1,2)%
   %
    \psdot(0, 1)% 1
    \psdot(0, 0)% 2
    \psdot(0,-1)% 3
    \psdot(4, 1)% 1
    \psdot(4, 0)% 2
    \psdot(4,-1)% 3
    \psdot(8, 1)% 1
    \psdot(8, 0)% 2
    \psdot(8,-1)% 3
    \psdot(12, 1)% 1
    \psdot(12, 0)% 2
    \psdot(12,-1)% 3
   %
   %\psbezier[linecolor=blue]{->}(0, 1)(1, 2)(3, 2)(4, 1)%     (1,1)
    \psline  [linecolor=blue] {->}(0, 1)(4, 1)%                 (1,1)
    \psline  [linecolor=blue] {->}(0, 1)(4, 0)%                 (1,2)
    \psline  [linecolor=blue] {->}(0, 1)(4,-1)%                 (1,3)
    \psline  [linecolor=red]  {->}(0, 0)(4, 0)%                 (2,2)
    \psline  [linecolor=red]  {->}(0, 0)(4,-1)%                 (2,3)
    \psline  [linecolor=green]{->}(0,-1)(4,-1)%                 (3,3)
   %\psbezier[linecolor=blue]{->}(0,-1)(1,-2)(3,-2)(4,-1)%     (3,3)
   %
    \psline  [linecolor=blue] {->}(4, 1)(8, 1)%                 (1,1)
    \psline  [linecolor=blue] {->}(4, 0)(8, 1)%                 (2,1)
    \psline  [linecolor=blue] {->}(4,-1)(8, 1)%                 (3,1)
    \psline  [linecolor=red]  {->}(4, 0)(8, 0)%                 (2,2)
    \psline  [linecolor=red]  {->}(4,-1)(8, 0)%                 (3,2)
    \psline  [linecolor=green]{->}(4,-1)(8,-1)%                 (3,3)
   %
    \psline  [linecolor=blue] {->}(8, 1)(12, 1)%                 (1,1)
    \psline  [linecolor=blue] {->}(8, 1)(12, 0)%                 (1,2)
    \psline  [linecolor=blue] {->}(8, 1)(12,-1)%                 (1,3)
    \psline  [linecolor=red]  {->}(8, 0)(12, 0)%                 (2,2)
    \psline  [linecolor=red]  {->}(8, 0)(12,-1)%                 (2,3)
    \psline  [linecolor=green]{->}(8,-1)(12,-1)%                 (3,3)
   %
    \uput [90]{0}( 0, 2){$\setX$}
    \uput [90]{0}( 4, 2){$\setX$}
    \uput [90]{0}( 8, 2){$\setX$}
    \uput [90]{0}(12, 2){$\setX$}
    \uput [90]{0}( 2, 2){$\le$}
    \uput [90]{0}( 6, 2){${\le}^{-1}$}
    \uput [90]{0}(10, 2){$\brp{\le^{-1}}^{-1}$}
    \uput[180]{0}(0, 1){$1$}
    \uput[180]{0}(0, 0){$2$}
    \uput[180]{0}(0,-1){$3$}
    \uput [90]{0}(4, 1){$1$}
    \uput [90]{0}(4, 0){$2$}
    \uput [90]{0}(4,-1){$3$}
    \uput [90]{0}(8, 1){$1$}
    \uput [90]{0}(8, 0){$2$}
    \uput [90]{0}(8,-1){$3$}
    \uput  [0]{0}(12, 1){$1$}
    \uput  [0]{0}(12, 0){$2$}
    \uput  [0]{0}(12,-1){$3$}
   %\psgrid[gridcolor=green,subgridcolor=green](-1,-2)(13,3)
  \end{pspicture}%
}
\end{example}


%---------------------------------------
\begin{definition}
\label{def:rel_comp}
\footnote{
  \citerppg{kelley1955}{7}{8}{0387901256},
  \citerpg{fuhrmann2012}{2}{1461403375}
  }
%---------------------------------------
Let $\rel\in\clRxy$ and $\rela\in\clR{\setY}{\setZ}$ be relations.
Let $\land$ be the logical and function.
\defbox{\begin{array}{M}\indxs{\circ}
  The composition function $\circ$ on relations $\rel$ and $\rela$ is defined as
  \\\indentx$\ds
    \rela\circ\rel \eqd
    \set{\opair{x}{z}}{\exists y \st \opair{x}{y}\in\rel \;\land\; \opair{y}{z}\in\rela}
  $
\end{array}}
\end{definition}


%---------------------------------------
\begin{theorem}
\label{thm:rel_sor_inv}
\footnote{
  \citerpg{kelley1955}{8}{0387901256}
  }
%---------------------------------------
Let $\setX$, $\setY$, and $\setZ$ be sets.
\thmbox{\begin{array}{rcl@{\qquad}l@{\qquad}D}
  \brp{\rel\circ\rela}^{-1}
    &=& \brp{\relai}\circ\brp{\reli}
    &   \forall \rel\in\clRwx,\,\rela\in\clRxy
    &   \text{(\prope{idempotent})}
    \\
  \relb\circ\brp{\rela\circ\rel}
    &=& \brp{\relb\circ\rela}\circ\rel
    &   \forall \rel\in\clRwx,\,\rela\in\clRxy,\,\relb\in\clRyz
    &   \text{(\prope{associative})}
\end{array}}
\end{theorem}
\begin{proof}
\begin{align*}
  \brp{\rel\circ\rela}^{-1}
    &= \set{\opair{x}{z}}{\exists y \st \opair{x}{y}\in\rel \text{ and } \opair{y}{z}\in\rela}^{-1}
    && \text{by definition of $\circ$ (\prefpo{def:rel_comp})}
  \\&= \set{\opair{z}{x}}
           {\opair{x}{z}\in
            \set{\opair{x}{z}}{\exists y \st \opair{x}{y}\in\rel \text{ and } \opair{y}{z}\in\rela}
            }
    && \text{by definition of $\reli$ (\prefpo{def:rel_inverse})}
  \\&= \set{\opair{z}{x}}{\exists y \st \opair{x}{y}\in\rel \text{ and } \opair{y}{z}\in\rela}
  \\&= \set{\opair{z}{x}}{\exists y \st \opair{y}{x}\in\reli \text{ and } \opair{z}{y}\in\relai}
    && \text{by definition of $\reli$ (\prefpo{def:rel_inverse})}
  \\&= \brp{\relai}\circ\brp{\reli}
    && \text{by definition of $\circ$ (\prefpo{def:rel_comp})}
\end{align*}
  \\
\begin{align*}
  &\relb\circ\brp{\rela\circ\rel}
  \\&= \set{\opair{w}{z}}
           {\exists y \st \opair{w}{y}\in\brp{\rela\circ\rel} \text{ and } \opair{y}{z}\in\relb}
    \\&\qquad\text{by definition of $\circ$ (\prefpo{def:rel_comp})}
  \\&= \set{\opair{w}{z}}
           {\exists y \st \opair{w}{y}\in\set{\opair{w}{y}}{\exists x \st \opair{w}{x}\in\rel\text{ and } \opair{x}{y}\in\rela}
            \text{ and } \opair{y}{z}\in\relb}
    \\&\qquad\text{by definition of $\circ$ (\prefpo{def:rel_comp})}
  \\&= \set{\opair{w}{z}}
           {\exists x,y \st \opair{w}{x}\in\rel \text{ and } \opair{x}{y}\in\rela \text{ and } \opair{y}{z}\in\relb}
  \\&= \set{\opair{w}{z}}
           {\exists x \st \opair{w}{x}\in\rel \text{ and } \opair{x}{z}\in\set{\opair{x}{z}}{\exists y \st \opair{x}{y}\in\rela\text{ and } \opair{y}{z}\in\relb}}
  \\&= \set{\opair{w}{z}}
           {\exists x \st \opair{w}{x}\in\rel \text{ and } \opair{x}{z}\in\brp{\rela\circ\relb}}
    \\&\qquad\text{by definition of $\circ$ (\prefpo{def:rel_comp})}
  \\&= \brp{\relb\circ\rela}\circ\rel
    \\&\qquad\text{by definition of $\circ$ (\prefpo{def:rel_comp})}
\end{align*}
\end{proof}





%---------------------------------------
\begin{example}
%\label{ex:op_inv_inv}
\index{function!inverse} 
\index{inverse function}
\hspace{1pt}\\
%---------------------------------------
%\begin{minipage}{9\tw/16-3mm}%
$\begin{array}[t]{|Mlcl|}
  \hline
  Let  & \setX &\eqd& \setn{1,\, 2,\, 3} \\
  and  & \setY &\eqd& \setn{A,\, B}   \\
  and  & \setZ &\eqd& \setn{\text{red},\, \text{green},\, \text{blue}}   \\
  and  & \rel  &\eqd& \setn{\opair{1}{A},\, \opair{2}{A},\, \opair{2}{B},\, \opair{3}{B}}.\\
  and  & \rela &\eqd& \setn{\opair{A}{\text{\text{red}}},\, \opair{A}{\text{green}},\, \opair{B}{\text{blue}}}.\\
  Then & \rel\circ\rela &=& \setn{\opair{1}{\text{red}},\, \opair{1}{\text{green}},\, \opair{2}{\text{green}},\, \opair{2}{\text{blue}},\, \opair{3}{\text{blue}}}.\\
  and  & \brp{\rel\circ\rela}^{-1} &=& \setn{\opair{\text{red}}{1},\, \opair{\text{green}}{1},\, \opair{\text{green}}{2},\, \opair{\text{blue}}{2},\, \opair{\text{blue}}{3}}.\\
       &                           &=&\relai\circ\reli\\
  \hline
\end{array}$
\\
The quanitities are illustrated below.
\\
{\psset{unit=8mm}
\psset{fillstyle=none}%
  \begin{pspicture}(-1,-2)(19,2.8)
    \psellipse[linecolor=set](0,0)(1,2)%
    \psellipse[linecolor=set](4,0)(1,2)%
    \psellipse[linecolor=set](8,0)(1,2)%
    \psdot(0, 1)% 1
    \psdot(0, 0)% 2
    \psdot(0,-1)% 3
    \psdot(4, 1)% A
    \psdot(4,-1)% B
    \psdot(8, 1)% 1
    \psdot(8, 0)% 2
    \psdot(8,-1)% 3
    \psbezier[linecolor=blue]{->}(0, 1)(1, 2)(3, 2)(4, 1)%     (1,A)
    \psline  [linecolor=blue]{->}(0, 0)(4, 1)%                 (2,A)
    \psline  [linecolor=blue]{->}(0, 0)(4,-1)%                 (2,B)
    \psbezier[linecolor=blue]{->}(0,-1)(1,-2)(3,-2)(4,-1)%     
    \psbezier[linecolor=blue]{->}(4, 1)(5, 2)(7, 2)(8, 1)%     (1,A)
    \psline  [linecolor=blue]{->}(4, 1)(8, 0)%                 (2,A)
    \psbezier[linecolor=blue]{->}(4,-1)(5,-2)(7,-2)(8,-1)%
    \uput [90]{0}( 0, 2){$\setX$}
    \uput [90]{0}( 4, 2){$\setY$}
    \uput [90]{0}( 8, 2){$\setZ$}
    \uput [90]{0}( 2, 2){$\rel$}
    \uput [90]{0}( 6, 2){$\rela$}
    \uput[180]{0}(0, 1){$1$}
    \uput[180]{0}(0, 0){$2$}
    \uput[180]{0}(0,-1){$3$}
    \uput [90]{0}(4, 1){$A$}
    \uput[270]{0}(4,-1){$B$}
    \uput  [0]{0}(8, 1){red}
    \uput  [0]{0}(8, 0){green}
    \uput  [0]{0}(8,-1){blue}
    %
    {\scriptsize%
    \rput[t] (2, 1.6){$\opair{1}{A}$}
    \rput[tl](2.5, 0.6){$\opair{2}{A}$}
    \rput[bl](2.5,-0.6){$\opair{2}{B}$}
    \rput[b] (2,  -1.6){$\opair{3}{B}$}
    \rput[t] (6,   1.6){$\opair{A}{\text{red}}$}
    \rput[tr](5.5, 0.6){$\opair{A}{\text{green}}$}
    \rput[b] (6,  -1.6){$\opair{B}{\text{blue}}$}
    }%
   %\psgrid[gridcolor=green,subgridcolor=green](-1,-2)(13,3)
  \end{pspicture}%
}%
%\end{minipage}%
\end{example}

%} % end wsd exclude



%---------------------------------------
\begin{definition}
\footnote{
  \citerp{munkres2000}{16},
  \citerpg{kelley1955}{7}{0387901256}
  }
\label{def:rel_range}
\label{def:rel_domain}
\label{def:rel_image}
\label{def:rel_null}
%---------------------------------------
Let $\rel\in\clRxy$ be a relation.
\defbox{%
  \begin{array}{llcl}
    \text{The \relxd{domain} of $\rel$ is }
      & \symxd{\oppD}(\rel) &\eqd& \set{x\in\setX}{\exists y \st \opair{x}{y}\in\rel}.
      \\
    \text{The \relxd{image set} of $\rel$ is}
      & \symxd{\oppI}(\rel) &\eqd& \set{y\in\setY}{\exists x \st \opair{x}{y}\in\rel}.
      \\
    \text{The \relxd{null space} of $\rel$ is}
      & \symxd{\oppN}(\rel) &\eqd& \set{x\in\setX}{\opair{x}{0}\in\rel}.
      \\
    \text{The \relxd{range} of $\rel$ is}
      & \mc{3}{l}{\text{any set $\symxd{\oppR}(\rel)$ such that $\oppI(\rel)\subseteq\oppR(\rel)$}}
  \end{array}
  }
\end{definition}


%---------------------------------------
\begin{example}
%---------------------------------------
Let $\rel\eqd \sin x$. Then \ldots
\\
\begin{minipage}{\tw/2-3mm}
  $\begin{array}{lcl}
      \symxd{\oppD}(\rel) &=& \R
      \\
      \symxd{\oppI}(\rel) &=& -1 \le y \le 1
      \\
      \symxd{\oppN}(\rel) &=& \set{n\pi}{n\in\Z}.
      \\
      \symxd{\oppR}(\rel) &=& \R
  \end{array}$
\end{minipage}%
\hfill%
\begin{minipage}{\tw/2-3mm}\small
  \psset{unit=8mm}
  \begin{pspicture}(-4.5,-1.5)(4.5,1.5)
    \psaxes[linecolor=green,labels=y,ticks=all,showorigin=false]{<->}(0,0)(-4.5,-1.5)(4.5,1.5)
    \psplot[plotpoints=200,linecolor=blue]{-4}{4}{x 180 mul sin}
    \uput[0]{0}(4.5,0){$x$}
    \multido{\i=-4+1}{9}{%
      \uput[270]{0}(\i,0){$\i\pi$}
      }
  \end{pspicture}
\end{minipage}
\end{example}

%---------------------------------------
\begin{example}
%---------------------------------------
Let $\rel\eqd \cos x$. Then \ldots
\\
\begin{minipage}{\tw/2-3mm}
  $\begin{array}{lcl}
      \symxd{\oppD}(\rel) &=& \R
      \\
      \symxd{\oppI}(\rel) &=& -1 \le y \le 1
      \\
      \symxd{\oppN}(\rel) &=& \set{\brp{n+\frac{1}{2}}\pi}{n\in\Z}.
      \\
      \symxd{\oppR}(\rel) &=& \R
  \end{array}$
\end{minipage}%
\hfill%
\begin{minipage}{\tw/2-3mm}\small
  \psset{unit=8mm}
  \begin{pspicture}(-4.5,-1.5)(4.5,1.5)
    \psaxes[linecolor=green,labels=y,ticks=all,showorigin=false]{<->}(0,0)(-4.5,-1.5)(4.5,1.5)
    \psplot[plotpoints=200,linecolor=blue]{-4}{4}{x 180 mul cos}
    \uput[0]{0}(4.5,0){$x$}
    \multido{\i=-4+1}{9}{%
      \uput[270]{0}(\i,0){$\i\pi$}
      }
  \end{pspicture}
\end{minipage}
\end{example}

%---------------------------------------
\begin{example}
\citep{rudinf}{99}
\label{ex:op_null}
\label{ex:op_range}
\label{ex:op_domain}
\index{function!null space}
\index{function!range}
\index{function!domain}
%---------------------------------------
Let $\spX$ and $\spY$ be linear functions
and $\clFxy$ be the set of all functions from $\spX$ to $\spY$.
Let $\ff$ be an function in $\clFxy$.
%\defbox{\indxs{\oppD}\indxs{\oppI}\indxs{\oppN}
\\\indentx$\begin{array}{lrcl}
    \text{The \hib{domain} of $\ff$ is }
    & \oppD(\ff) &\eqd& \spX
    \\
    \text{The \hib{range} of $\ff$ is}
    & \oppI(\ff) &\eqd& \set{\vy\in\spY}{\exists \vx\in\spX \st \vy=\ff \vx }
    \\
    \text{The \hib{null space} of $\ff$ is}
    & \oppN(\ff) &\eqd& \set{\vx\in\spX}{\ff \vx=0}
  \end{array}$%}
\end{example}

\ifexclude{wsd}{
%---------------------------------------
\begin{theorem}
\footnote{
  \citerppg{suppes1972}{60}{61}{0486616304}
  }
\label{thm:rel_DU}
%---------------------------------------
Let $\oppD\brp{\rel}$ be the domain of a relation $\rel$ and $\oppI\brp{\rel}$ the image of $\rel$.
\thmbox{\begin{array}{>{\ds}rc>{\ds}l @{\qquad\qquad} >{\ds}rc>{\ds}l}
  \oppD\brp{\setopu_{i\in\setI}\rel_i} &=&         \setopu_{i\in\setI}\oppD\brp{\rel_i} &
  \oppI\brp{\setopu_{i\in\setI}\rel_i} &=&         \setopu_{i\in\setI}\oppI\brp{\rel_i} \\
  \oppD\brp{\setopi_{i\in\setI}\rel_i} &\subseteq& \setopi_{i\in\setI}\oppD\brp{\rel_i} &
  \oppI\brp{\setopi_{i\in\setI}\rel_i} &\subseteq& \setopi_{i\in\setI}\oppI\brp{\rel_i} \\
   \oppD\brp{\rel\setd\rela} &\supseteq& \oppD\brp{\rel}\setd\oppD\brp{\rela}          &
   \oppI\brp{\rel\setd\rela} &\supseteq& \oppI\brp{\rel}\setd\oppI\brp{\rela}
\end{array}}
\end{theorem}
\begin{proof}
\begin{align*}
  \oppD\brp{\setopu_{i\in\setI}\rel_i}
    &= \set{x}{\exists y \st \opair{x}{y}\in\setopu_{i\in\setI}\rel_i}
    && \text{by \prefp{def:rel_domain}}
  \\&= \set{x}{\exists y \st \opair{x}{y}\in\set{\opair{x}{y}}{\logopo_i\opair{x}{y}\in\rel_i}}
    && \text{by \prefp{def:setops}}
  \\&= \set{x}{\exists y \st \logopo_i\opair{x}{y}\in\rel_i}
  \\&= \set{x}{\logopo_i\brs{\exists y \st \opair{x}{y}\in\rel_i}}
  \\&= \setopu_i\set{x}{\exists y \st \opair{x}{y}\in\rel_i}
    && \text{by \prefp{def:setops}}
  \\&= \setopu_i\oppD\brp{\rel_i}
    && \text{by \prefp{def:rel_domain}}
  \\
  \\
  \oppD\brp{\setopi_{i\in\setI}\rel_i}
    &= \set{x}{\exists y \st \opair{x}{y}\in\setopi_{i\in\setI}\rel_i}
    && \text{by \prefp{def:rel_domain}}
  \\&= \set{x}{\exists y \st \opair{x}{y}\in\set{\opair{x}{y}}{\logopa_i\opair{x}{y}\in\rel_i}}
    && \text{by \prefp{def:setops}}
  \\&= \set{x}{\exists y \st \logopa_i\opair{x}{y}\in\rel_i}
  \\&= \set{x}{\logopa_i\brs{\exists y \st \opair{x}{y}\in\rel_i}}
  \\&= \setopi_i\set{x}{\exists y \st \opair{x}{y}\in\rel_i}
    && \text{by \prefp{def:setops}}
  \\&= \setopi_i\oppD\brp{\rel_i}
    && \text{by \prefp{def:rel_domain}}
%  \\
%  \\
%  \oppD\brp{\rel\setd\rela}
%    &= \oppD\brp{\rel\seti\setC\rela}
%    && \text{by \prefp{thm:ss_rel_gg}}
%  \\&= \set{x}{\exists y \st \opair{x}{y}\in\brp{\rel\seti\setC\rela}}
%    && \text{by \prefp{def:rel_domain}}
%  \\&= \set{x}{\exists y \st \brs{\opair{x}{y}\in\rel \land \opair{x}{y}\in\setC\rela}}
%    && \text{by \prefp{def:setops}}
%  \\&?\supseteq? \set{x}{\brs{\exists y \st \opair{x}{y}\in\rel} \land \brs{\exists y \st \opair{x}{y}\in\setC\rela}}
%  \\&= \set{x}{\brs{\exists y \st \opair{x}{y}\in\rel}} \seti \set{x}{\brs{\exists y \st \opair{x}{y}\in\setC\rela}}
%    && \text{by \prefp{def:setops}}
%  \\&= \oppD\brp{\rel} \seti \oppD\brp{\setC\rela}
\end{align*}
%\problem
\end{proof}


%---------------------------------------
\begin{example}
\hspace{1pt}\\%
%---------------------------------------
\begin{minipage}{\tw-64mm}
\begin{tabular}{rMNM}
  Let  & \setX &\eqd& \setn{1,2,3} \\
  and  & \setY &\eqd& \setn{A,B,C} \\
  and  & \rel  &\eqd& \setn{\opair{1}{A},\, \opair{2}{B},\, \opair{3}{C}}\\
  and  & \rela &\eqd& \setn{\opair{1}{A},\, \opair{1}{B},\, \opair{2}{C},\, \opair{3}{C}}. \\
\end{tabular}%
\end{minipage}%
\hfill%
\begin{minipage}{60mm}%
\psset{unit=5mm}
  \begin{pspicture}(-1,-2)(4,3)
    \psellipse[linecolor=set](0,0)(1,2)%
    \psellipse[linecolor=set](3,0)(1,2)%
    \psdot(0, 1)% 1
    \psdot(0, 0)% 2
    \psdot(0,-1)% 3
    \psdot(3, 1)% A
    \psdot(3, 0)% B
    \psdot(3,-1)% C
    \psline[linecolor=blue] {->}(0, 1)(3, 1)% (1,A)
    \psline[linecolor=red]  {->}(0, 0)(3, 0)% (1,B)
    \psline[linecolor=green]{->}(0,-1)(3,-1)% (1,C)
    \uput[90]{0}(0, 2){$\setX$}
    \uput[90]{0}(3, 2){$\setY$}
    \uput[90]{0}(1.5, 2){$\rel$}
    \uput[180]{0}(-0, 1){$1$}
    \uput[180]{0}(-0, 0){$2$}
    \uput[180]{0}(-0,-1){$3$}
    \uput  [0]{0}(3, 1){$A$}
    \uput  [0]{0}(3, 0){$B$}
    \uput  [0]{0}(3,-1){$C$}
    %\psgrid[gridcolor=green,subgridcolor=green](-1,-2)(5,3)
  \end{pspicture}%
  \hspace{8mm}
  \begin{pspicture}(-1,-2)(4,3)
    \psellipse[linecolor=set](0,0)(1,2)%
    \psellipse[linecolor=set](3,0)(1,2)%
    \psdot(0, 1)% 1
    \psdot(0, 0)% 2
    \psdot(0,-1)% 3
    \psdot(3, 1)% A
    \psdot(3, 0)% B
    \psdot(3,-1)% C
    \psline[linecolor=blue] {->}(0, 1)(3, 1)% (1,A)
    \psline[linecolor=blue] {->}(0, 1)(3, 0)% (1,B)
    \psline[linecolor=red]  {->}(0, 0)(3,-1)% (2,C)
    \psline[linecolor=green]{->}(0,-1)(3,-1)% (1,C)
    \uput[90]{0}(0, 2){$\setX$}
    \uput[90]{0}(3, 2){$\setY$}
    \uput[90]{0}(1.5, 2){$\rela$}
    \uput[180]{0}(-0, 1){$1$}
    \uput[180]{0}(-0, 0){$2$}
    \uput[180]{0}(-0,-1){$3$}
    \uput  [0]{0}(3, 1){$A$}
    \uput  [0]{0}(3, 0){$B$}
    \uput  [0]{0}(3,-1){$C$}
    %\psgrid[gridcolor=green,subgridcolor=green](-1,-2)(5,3)
  \end{pspicture}%
\end{minipage}

\begin{align*}
  \oppD\brp{\rel\setu\rela} 
    &= \oppD\brp{\setn{\opair{1}{A},\, \opair{2}{B},\, \opair{3}{C}} \setu \setn{\opair{1}{A},\, \opair{1}{B},\, \opair{2}{C},\, \opair{3}{C}}}.
  \\&= \oppD\setn{\opair{1}{A},\, \opair{1}{B},\, \opair{2}{B},\, \opair{2}{C},\, \opair{3}{C}}
  \\&= \setn{1,\,2,\,3}
  \\&= \setn{1,\,2,\,3}\setu\setn{1,\,2\,3}
  \\&=  \oppD\rel \setu \oppD\rela
  \\
  \oppD\brp{\rel\seti\rela} 
    &= \setn{\opair{1}{A},\, \opair{3}{C}} 
  \\&= \setn{1,\,3}
  \\&\subseteq \setn{1,\,2,\,3}\seti\setn{1,\,2\,3}
  \\&=  \oppD\rel \seti \oppD\rela
  \\
  \oppI\brp{\rel\setu\rela} 
    &= \oppI\brp{\setn{\opair{1}{A},\, \opair{2}{B},\, \opair{3}{C}} \setu \setn{\opair{1}{A},\, \opair{1}{B},\, \opair{2}{C},\, \opair{3}{C}}}.
  \\&= \oppI\setn{\opair{1}{A},\, \opair{1}{B},\, \opair{2}{B},\, \opair{2}{C},\, \opair{3}{C}}
  \\&= \setn{A,\,B,\,C}
  \\&= \setn{A,\,B,\,C}\setu\setn{A,\,B\,C}
  \\&= \oppI\rel \setu \oppI\rela
  \\
  \oppI\brp{\rel\seti\rela} 
    &= \setn{\opair{1}{A},\, \opair{3}{C}} 
  \\&= \setn{A,\,C}
  \\&\subseteq \setn{A,\,B,\,C}\seti\setn{A,\,B\,C}
  \\&=  \oppI\rel \seti \oppI\rela
\end{align*}

\end{example}



%---------------------------------------
\begin{example}
\hspace{1pt}\\%
%---------------------------------------
\begin{minipage}{\tw-64mm}
\begin{tabular}{rMNM}
  Let  & \setX &\eqd& \setn{-1,0,1} \\
  and  & \setY &\eqd& \setn{-1,0,1} \\
  and  & \rel  &\eqd& \setn{\opair{-1}{-1},\, \opair{0}{0},\, \opair{1}{1}}\\
  and  & \rela &\eqd& \setn{\opair{-1}{1},\, \opair{0}{0},\, \opair{1}{-1}}. \\
\end{tabular}%
\end{minipage}%
\hfill%
\begin{minipage}{60mm}%
\psset{unit=5mm}
  \begin{pspicture}(-1,-2)(4,3)
    \psellipse[linecolor=set](0,0)(1,2)%
    \psellipse[linecolor=set](3,0)(1,2)%
    \psdot(0, 1)%  1
    \psdot(0, 0)%  0
    \psdot(0,-1)% -1
    \psdot(3, 1)%  1
    \psdot(3, 0)%  0
    \psdot(3,-1)% -1
    \psline[linecolor=blue] {->}(0, 1)(3, 1)% ( 1, 1)
    \psline[linecolor=red]  {->}(0, 0)(3, 0)% ( 0, 0)
    \psline[linecolor=green]{->}(0,-1)(3,-1)% (-1,-1)
    \uput[90]{0}(0, 2){$\setX$}
    \uput[90]{0}(3, 2){$\setY$}
    \uput[90]{0}(1.5, 2){$\rel$}
    \uput[180]{0}(0, 1){$ 1$}
    \uput[180]{0}(0, 0){$ 0$}
    \uput[180]{0}(0,-1){$-1$}
    \uput  [0]{0}(3, 1){$ 1$}
    \uput  [0]{0}(3, 0){$ 0$}
    \uput  [0]{0}(3,-1){$-1$}
    %\psgrid[gridcolor=green,subgridcolor=green](-1,-2)(5,3)
  \end{pspicture}%
  \hspace{8mm}
  \begin{pspicture}(-1,-2)(4,3)
    \psellipse[linecolor=set](0,0)(1,2)%
    \psellipse[linecolor=set](3,0)(1,2)%
    \psdot(0, 1)%  1
    \psdot(0, 0)%  0
    \psdot(0,-1)% -1
    \psdot(3, 1)%  1
    \psdot(3, 0)%  0
    \psdot(3,-1)% -1
    \psline[linecolor=blue] {->}(0, 1)(3,-1)% ( 1,-1)
    \psline[linecolor=red]  {->}(0, 0)(3, 0)% ( 0, 0)
    \psline[linecolor=green]{->}(0,-1)(3, 1)% (-1, 1)
    \uput[90]{0}(0, 2){$\setX$}
    \uput[90]{0}(3, 2){$\setY$}
    \uput[90]{0}(1.5, 2){$\rela$}
    \uput[180]{0}(0, 1){$ 1$}
    \uput[180]{0}(0, 0){$ 0$}
    \uput[180]{0}(0,-1){$-1$}
    \uput  [0]{0}(3, 1){$ 1$}
    \uput  [0]{0}(3, 0){$ 0$}
    \uput  [0]{0}(3,-1){$-1$}
    %\psgrid[gridcolor=green,subgridcolor=green](-1,-2)(5,3)
  \end{pspicture}%
\end{minipage}

\begin{align*}
  \oppD\brp{\rel\setu\rela} 
    &= \oppD\brp{\setn{\opair{-1}{-1},\, \opair{0}{0},\, \opair{1}{1}} \setu \setn{\opair{-1}{1},\, \opair{0}{0},\, \opair{1}{-1}}}.
  \\&= \oppD\setn{\opair{-1}{-1},\, \opair{0}{0},\, \opair{1}{1},\, \opair{-1}{1},\, \opair{1}{-1}}
  \\&= \setn{-1,\,0,\,1}
  \\&= \setn{-1,\,0,\,1}\setu\setn{-1,\,0\,1}
  \\&=  \oppD\rel \setu \oppD\rela
  \\
  \oppD\brp{\rel\seti\rela} 
    &= \oppD\brp{\setn{\opair{-1}{-1},\, \opair{0}{0},\, \opair{1}{1}} \seti \setn{\opair{-1}{1},\, \opair{0}{0},\, \opair{1}{-1}}}.
  \\&= \oppD\setn{\opair{0}{0}}
  \\&= \setn{0}
  \\&\subseteq \setn{-1,\,0,\,1}\seti\setn{-1,\,0\,1}
  \\&=  \oppD\rel \seti \oppD\rela
  \\
  \oppI\brp{\rel\setu\rela} 
    &= \oppI\brp{\setn{\opair{-1}{-1},\, \opair{0}{0},\, \opair{1}{1}} \setu \setn{\opair{-1}{1},\, \opair{0}{0},\, \opair{1}{-1}}}.
  \\&= \oppI\setn{\opair{-1}{-1},\, \opair{0}{0},\, \opair{1}{1},\, \opair{-1}{1},\, \opair{1}{-1}}
  \\&= \setn{-1,\,0,\,1}
  \\&= \setn{-1,\,0,\,1}\setu\setn{-1,\,0\,1}
  \\&=  \oppI\rel \setu \oppD\rela
  \\
  \oppI\brp{\rel\seti\rela} 
    &= \oppI\brp{\setn{\opair{-1}{-1},\, \opair{0}{0},\, \opair{1}{1}} \seti \setn{\opair{-1}{1},\, \opair{0}{0},\, \opair{1}{-1}}}.
  \\&= \oppI\setn{\opair{0}{0}}
  \\&= \setn{0}
  \\&\subseteq \setn{-1,\,0,\,1}\seti\setn{-1,\,0\,1}
  \\&=  \oppI\rel \seti \oppI\rela
\end{align*}

\end{example}


%---------------------------------------
\begin{example}
\hspace{1pt}\\%
%---------------------------------------
\begin{minipage}{\tw-64mm}
\begin{tabular}{rMNM}
  Let  & \ff(x)  &\eqd& x\\
  and  & \fg(x)  &\eqd& -x.\\
\end{tabular}%
\end{minipage}%
\hfill%
\begin{minipage}{60mm}%
\psset{unit=8mm}
  \begin{pspicture}(-2,-2)(2,2)
    \psaxes[linecolor=green]{<->}(0,0)(-1.5,-1.5)(1.5,1.5)
    \psline[linecolor=blue] (-1,-1)(1, 1)%
    \psline[linecolor=red]  (-1,1)(1,-1)%
    \uput[45] {0}(1, 1){$\ff$}
    \uput[-45]{0}(1,-1){$\fg$}
    \uput[0]{0}(1.5, 0){$x$}
    \uput[0]{0}(0, 1.5){$y$}
    %\psgrid[gridcolor=green,subgridcolor=green](-1,-2)(5,3)
  \end{pspicture}%
\end{minipage}

\begin{align*}
  \oppD\brp{\ff\setu\fg} 
    &= \oppD\brp{\set{\opair{x}{y}\in\R^2}{y=x}\setu\set{\opair{x}{y}\in\R^2}{y=-x}}
  \\&= \oppD\set{\opair{x}{y}\in\R^2}{y=x\text{ or }y=-x}
  \\&= \R
  \\&= \R\setu\R
  \\&= \brp{\oppD\set{\opair{x}{y}\in\R^2}{y=x}}\setu\brp{\oppD\set{\opair{x}{y}\in\R^2}{y=-x}}
  \\
  \oppD\brp{\ff\seti\fg} 
    &= \oppD\brp{\set{\opair{x}{y}\in\R^2}{y=x}\seti\set{\opair{x}{y}\in\R^2}{y=-x}}
  \\&= \oppD\set{\opair{x}{y}\in\R^2}{y=x\text{ and }y=-x}
  \\&= \oppD\setn{\opair{0}{0}}
  \\&= \setn{0}
  \\&\subseteq \R
  \\&= \R\seti\R
  \\&= \brp{\oppD\set{\opair{x}{y}\in\R^2}{y=x}}\seti\brp{\oppD\set{\opair{x}{y}\in\R^2}{y=-x}}
  \\
  \oppI\brp{\ff\setu\fg} 
    &= \oppI\brp{\set{\opair{x}{y}\in\R^2}{y=x}\setu\set{\opair{x}{y}\in\R^2}{y=-x}}
  \\&= \oppI\set{\opair{x}{y}\in\R^2}{y=x\text{ or }y=-x}
  \\&= \R
  \\&= \R\setu\R
  \\&= \brp{\oppI\set{\opair{x}{y}\in\R^2}{y=x}}\setu\brp{\oppI\set{\opair{x}{y}\in\R^2}{y=-x}}
  \\
  \oppI\brp{\ff\seti\fg} 
    &= \oppI\brp{\set{\opair{x}{y}\in\R^2}{y=x}\seti\set{\opair{x}{y}\in\R^2}{y=-x}}
  \\&= \oppI\set{\opair{x}{y}\in\R^2}{y=x\text{ and }y=-x}
  \\&= \oppI\setn{\opair{0}{0}}
  \\&= \setn{0}
  \\&\subseteq \R
  \\&= \R\seti\R
  \\&= \brp{\oppI\set{\opair{x}{y}\in\R^2}{y=x}}\seti\brp{\oppI\set{\opair{x}{y}\in\R^2}{y=-x}}
\end{align*}
\end{example}





%---------------------------------------
\begin{definition}
\label{def:R(A)}
\footnote{
  \citerpg{kelley1955}{8}{0387901256}
  }
%---------------------------------------
Let $\rel$ be a relation in $\clRxy$.
\defbox{\begin{array}{rcl@{\qquad}C@{\qquad}D}
  \rel(\setA) &\eqd& \set{y\in\setY}{\exists x\in\setA \st \opair{x}{y}\in\rel}
    & \forall \setA\in\psetx
    & (\hid{image} of $\setA$ under $\rel$)
    \\
  \reli(\setB) &\eqd& \set{x\in\setX}{\exists y\in\setB \st \opair{x}{y}\in\rel}
    & \forall \setB\in\psety
    & (\hid{image} of $\setB$ under $\reli$)
  \end{array}}
\end{definition}

%---------------------------------------
\begin{theorem}
\footnote{
  \citerpg{kelley1955}{8}{0387901256}
  }
%---------------------------------------
\thmbox{\begin{array}{>{\ds}rc>{\ds}l}
  \rel(\emptyset)                      &=&         \emptyset  \\
  \rel\brp{\setopu_{i\in\setI}\setA_i} &=&         \setopu_{i\in\setI}\rel\brp{\setA_i} \\
  \rel\brp{\setopi_{i\in\setI}\setA_i} &\subseteq& \setopi_{i\in\setI}\rel\brp{\setA_i}
\end{array}}
\end{theorem}
\begin{proof}
\begin{align*}
  \rel(\emptyset)
    &= \set{y\in\setY}{\exists x\in\emptyset \st \opair{x}{y}\in\rel}
    && \text{by \prefp{def:R(A)}}
  \\&= \emptyset
  \\
  \rel\brp{\setopu_{i\in\setI}\setA_i}
    &= \set{y\in\setY}{\exists x\in\setopu_{i\in\setI}\setA_i \st \opair{x}{y}\in\rel}
    && \text{by \prefp{def:R(A)}}
  \\&= \set{y\in\setY}{\exists x\in\set{x\in\setX}{\logopo_{i\in\setI}x\in\setA_i} \st \opair{x}{y}\in\rel}
    && \text{by \prefp{def:setops}}
  \\&= \set{y\in\setY}{\exists x\in\setX \st \brs{\logopo_{i\in\setI}x\in\setA_i} \land \opair{x}{y}\in\rel}
  \\&= \set{y\in\setY}{\exists x\in\setX \st \logopo_{i\in\setI}\brs{x\in\setA_i \land \opair{x}{y}\in\rel}}
  \\&= \set{y\in\setY}{\logopo_{i\in\setI}\brs{\exists x\in\setX \st x\in\setA_i \land \opair{x}{y}\in\rel}}
  \\&= \setopu_{i\in\setI}\set{y\in\setY}{\exists x\in\setX \st x\in\setA_i \land \opair{x}{y}\in\rel}
    && \text{by \prefp{def:setops}}
  \\&= \setopu_{i\in\setI}\rel\brp{\setA_i}
    && \text{by \prefp{def:R(A)}}
  \\
  \rel\brp{\setopi_{i\in\setI}\setA_i}
    &= \set{y\in\setY}{\exists x\in\setopi_{i\in\setI}\setA_i \st \opair{x}{y}\in\rel}
    && \text{by \prefp{def:R(A)}}
  \\&= \set{y\in\setY}{\exists x\in\set{x\in\setX}{\logopa_{i\in\setI}x\in\setA_i} \st \opair{x}{y}\in\rel}
    && \text{by \prefp{def:setops}}
  \\&= \set{y\in\setY}{\exists x\in\setX \st \brs{\logopa_{i\in\setI}x\in\setA_i} \land \opair{x}{y}\in\rel}
  \\&= \set{y\in\setY}{\exists x\in\setX \st \logopa_{i\in\setI}\brs{x\in\setA_i \land \opair{x}{y}\in\rel}}
  \\&\subseteq \set{y\in\setY}{\logopa_{i\in\setI}\brs{\exists x\in\setX \st x\in\setA_i \land \opair{x}{y}\in\rel}}
  \\&= \setopi_{i\in\setI}\set{y\in\setY}{\exists x\in\setX \st x\in\setA_i \land \opair{x}{y}\in\rel}
    && \text{by \prefp{def:setops}}
  \\&= \setopi_{i\in\setI}\rel\brp{\setA_i}
    && \text{by \prefp{def:R(A)}}
\end{align*}
\end{proof}

\pref{def:rel_types} (next) provides some properties associated with special types of relations.
Relations can be defined based on their properties.
For example, \hie{equivalence relations} \ifdochas{found}{(\prefp{def:eq_rel})}
are \prope{reflexive}, \prope{symmetric}, and \prope{transitive};
whereas \hie{order relations} are \ifdochas{order}{(\prefp{def:order_rel})}
are \prope{reflexive}, \prope{anti-symmetric}, and \prope{transitive}.
%---------------------------------------
\begin{definition}
\label{def:rel_types}
\footnote{
  \citerpgc{suppes1972}{69}{0486616304}{Defintion 10--Definition 17},
  \citerpg{kelley1955}{9}{0387901256}
  }
%---------------------------------------
Let $\setX$ be a set and $\rel$ a relation in $\clRxx$.
\defbox{\begin{array}{MMl@{\qquad}C}
  $\rel$ is \propd{reflexive}          & if & x\rel x                                       & \forall x\in\setX \\
  $\rel$ is \propd{irreflexive}        & if & \opair{x}{x}\notin\rel                       & \forall x\in\setX \\
  $\rel$ is \propd{symmetric}          & if & x\rel y \implies y\rel x                      & \forall x,y\in\setX \\
  $\rel$ is \propd{asymmetric}         & if & x\rel y \implies \opair{y}{x}\notin\rel      & \forall x,y\in\setX \\
  $\rel$ is \propd{anti-symmetric}     & if & x\rel y \text{ and } y\rel x \implies x=y     & \forall x,y\in\setX \\
  $\rel$ is \propd{transitive}         & if & x\rel y \text{ and } y\rel z \implies x\rel z & \forall x,y,z\in\setX\\
  $\rel$ is \propd{connected}          & if & x\ne  y \implies x\rel y \text{ or } y\rel x & \forall x,y,z\in\setX\\
  $\rel$ is \propd{strongly connected} & if & x\rel y \text{ or } y\rel x                   & \forall x,y,z\in\setX
\end{array}}
\end{definition}
} % end wsd exclude

%---------------------------------------
\begin{definition}
\label{def:rel_id}
\footnote{
  \citerpg{kelley1955}{9}{0387901256}
  }
%---------------------------------------
\defbox{\begin{array}{M}\indxs{\relid}
  The \relxd{identity element} $\symxd{\relid}(\setX)$ with respect to $\rel\in\clRxx$ is
  defined as
  \\\indentx$\ds \relid(\setX) \eqd \set{\opair{x}{x}}{\opair{x}{x}\in\rel}.$
  \\
  The identity element $\relid(\setX)$ may also be denoted as simply $\relid$.
\end{array}}
\end{definition}


%---------------------------------------
\begin{proposition}
%---------------------------------------
Let $\relid$ be the identity element in $\clRxx$ with respect to the composition function $\circ$.
\propbox{
  \relid \circ \rel = \rel \circ \relid = \rel
  \qquad\forall\rel\in\clRxx
  }
\end{proposition}


%---------------------------------------
\begin{example}
\label{ex:opI}
\citep{michel1993}{411}
\index{function!identity}
\index{identity function}
%---------------------------------------
Let $\spX$ be a linear space\ifsxref{vector}{def:vspace}
and $\clFxx$ the set of all functions from $\spX$ to $\spX$ \xrefP{def:function}.
Let $\opI$ be an function in $\clFxx$.
\indxs{\opI}
$\opI$ is an \hid{identity function} in $\clFxx$ if 
$\opI\vx =\vx \qquad \forall \vx\in\spX$.
\end{example}

%\ifexclude{wsd}{
%---------------------------------------
\begin{theorem}
\footnote{
  \citerpg{kelley1955}{9}{0387901256}
  }
%---------------------------------------
Let $\rel$ be a relation in $\clRxx$.
Let $\relid$ be the identity element in $\clRxx$ with respect to composition.
\thmbox{\begin{array}{Mcrcl}
  $\rel$ is reflexive                &\iff&     \relid              &\subseteq& \rel      \\
  $\rel$ is symmetric                &\iff&     \rel               &=&         \reli \\
  $\rel$ is anti-symmetric           &\iff&     \rel\seti\reli &=&         \emptyset \\
  $\rel$ is transitive               &\iff&     \rel\circ\rel      &\subseteq& \rel      \\
  $\rel$ is transitive and reflexive &\implies& \rel\circ\rel      &=&         \rel
\end{array}}
\end{theorem}
\begin{proof}
\begin{align*}
  \text{$\rel$ is \prope{reflexive}}\index{relation!reflexive}
    &\iff \opair{x}{x}\in\rel \qquad\forall x\in\setX
    &&    \text{by \prefp{def:rel_types}}
  \\&\iff \relid\subseteq\rel
    &&    \text{by \prefp{def:rel_id}}
  \\
  \text{$\rel$ is \prope{symmetric}}\index{relation!symmetric}
    &\iff \brs{\opair{x}{y}\in\rel \implies \opair{y}{x}\in\rel}
    &&    \text{by \prefp{def:rel_types}}
  \\&\iff \rel=\reli
    &&    \text{by \prefp{def:rel_inverse}}
  \\
  \text{$\rel$ is \prope{anti-symmetric}}\index{relation!anti-symmetric}
    &\iff \brs{\opair{x}{y}\in\rel \implies \opair{y}{x}\notin\rel}
    &&    \text{by \prefp{def:rel_types}}
  \\&\iff \rel\setopi\reli=\emptyset
    &&    \text{by \prefp{def:rel_inverse}}
  \\
  \text{$\rel$ is \prope{transitive}}\index{relation!transitive}
    &\iff \brs{\opair{x}{y},\opair{y}{z}\in\rel \implies \opair{x}{z}\in\rel}
    &&    \text{by \prefp{def:rel_types}}
  \\&\iff \rel\circ\rel\subseteq\rel
    &&    \text{by \prefp{def:rel_comp}}
  \\
  \text{$\rel$ is \prope{transitive} and \prope{reflexive}}
    &\iff     \brs{\rel\circ\rel\subseteq\rel \text{ and } \relid\subseteq\rel}
    &&        \text{by previous results}
  \\&\implies \brs{\rel\circ\rel\subseteq\rel \text{ and } \rel=\relid\circ\rel\subseteq\rel\circ\rel}
    &&        \text{by definition of $\relid$ \prefpo{def:rel_id}}
  \\&\iff     \brs{\rel\circ\rel\subseteq\rel \text{ and } \rel\subseteq\rel\circ\rel}
  \\&\implies \rel\circ\rel=\rel
\end{align*}
\end{proof}

%} %end wsd exclude

%=======================================
\section{Functions}
%=======================================
The function is a special case of the relation in that while both are subsets of
a Cartesian product, an element in the domain of a function can only map to
\emph{one} element in the range (\pref{def:rel_f}---next definition).
The set of all functions in the Cartesian product $\cprodXY$ is
denoted $\clFxy$;
this is suitable because the number of functions in $\cprodXY$
for finite $\setX$ and $\setY$ is $\seto{\setY}^\seto{\setX}$ (\prefp{prop:f_order}).
The fact that not all functions are relations is demonstrated in
\prefpp{ex:rel_f_disc} (discrete cases) and \prefpp{ex:rel_f_cont} (continuous cases).
%=======================================
\subsection{Definition and examples}
%=======================================
%---------------------------------------
\begin{definition}
\footnote{
  %\citerpg{halmos1960}{30}{0387900926},
  \citerpg{suppes1972}{86}{0486616304},
  \citerpg{kelley1955}{10}{0387901256},
  %\citerp{kbr}{161}\\
  \citor{bourbaki1939},
  \citerp{bottazzini}{7}
  }
\label{def:rel_f}
\label{def:f}
\label{def:function}
\label{def:clFxy}
%---------------------------------------
Let $\setX$ and $\setY$ be sets.
Let $\land$ be the ``logical and" operation\ifsxref{logic}{def:log_op}.
\defbox{\begin{array}{M}\indxs{\ff}\indxs{\clFxy}
  A relation $\ff\in\clR{\setX}{\setY}$ is a \hid{function} if
    \\\indentx$\ds
       \opair{x}{y_1}\in\ff \; \land \; \opair{x}{y_2}\in\ff \implies y_1=y_2
       \qquad\scriptstyle
       \text{(for each $x$, there is only one $\ff(x)$)}
    $\\
  The set of all functions in $\clR{\setX}{\setY}$ is denoted
    \\\indentx
      $\ds\hxs{\clFxy} \eqd \set{\ff\in\clR{\setX}{\setY}}{\text{$\ff$ is a function}}.$
    \\
  A function may also be referred to as a \hid{correspondence}, \hid{transformation}, or \hid{map}.
\end{array}}
\end{definition}
As indicated in \pref{def:rel_f} (previous definition),
functions customarily come disguised in different names
depending on the context in which they are found.
This is particularly true with respect to \hie{vector spaces}, as illustrated next:
\\\indentx\begin{tabular}{cll}
  \circOne  & \hie{function}:   & maps from a field to a field\\
  \circTwo  & \hie{functional}: & maps from a vector space to a field\\
  \circThree& \hie{function}:   & maps from a vector space to a vector space
\end{tabular}\\
However, no matter what name is used, a function is still a function as long as it
satisfies \pref{def:rel_f}.


%---------------------------------------
\begin{definition}
\footnote{
  \citerpp{burris2000}{25}{26}
  }
\label{def:arity}
%---------------------------------------
\defbox{\begin{array}{MM}
  A function $\ff\in\clF{\sid^n}{\setY}$                      & is said to have \propd{arity} $n$. \\
  A function $\ff\in\clF{\sid^3}{\setY}$                      & is said to be   \propd{ternary}.     \\
  A function $\ff\in\clF{\sid^2}{\setY}$                      & is said to be   \propd{binary}.      \\
  A function $\ff\in\clF{\sid^1}{\setY}\eqd\clF{\sid}{\setY}$ & is said to be   \propd{unary}.       \\
  A function $\ff\in\clF{\sid^0}{\setY}\eqd\setY$             & is said to be   \propd{nullary}.
\end{array}}
\end{definition}

%---------------------------------------
\begin{example}
\label{ex:rel_f_disc}
%---------------------------------------
The figure below illustrates two discrete examples of relations that \emph{are} functions
and two that are \emph{not}.

\begin{center}
  \input{../common/math/graphics/relfnctd.tex}
\end{center}
\end{example}

%---------------------------------------
\begin{example}
\label{ex:rel_f_cont}
\footnote{
  \citerpg{apostol1975}{34}{9861541039}
  }
%---------------------------------------
The figures below illustrates one example of a continuous relation that is \emph{not} a function
and one that \emph{is}.
\\
  \begin{center}
  {\psset{unit=10mm}%
  \input{../common/math/graphics/relfnctc.tex}}
  \end{center}
\end{example}

%---------------------------------------
\begin{proposition}
\footnote{
  \citerpg{comtet1974}{4}{9027704414}
  }
\label{prop:f_order}
%---------------------------------------
Let $\clFxy$ be the set of all functions from a set $\setX$ to a set $\setY$.
Let $\seton$ be the counting measure for sets.
\propbox{
  \mcomr{\seto{\clFxy}}
        {number of possible functions in $\cprodXY$}
    = \seto{\setY}^\seto{\setX}
  }
\end{proposition}
\begin{proof}
Let $\setX\eqd\setn{x_1,\,x_2,\,\ldots,x_m}$.\\
Let $\setY\eqd\setn{y_1,\,y_2,\,\ldots,y_n}$.\\
Then $x_1$ can map to exactly one of the $n$ elements in set $\setY$: $y_1$, $y_2$, \ldots, or $y_n$.\\
Likewise, $x_2$ can also map to one of the $n$ elements in set $\setY$.\\
So, the total number of possible functions in $\clFxy$ is 
\[ n^m = \seto{\setY}^\seto{\setX} \]
\end{proof}

\ifexclude{wsd}{
%---------------------------------------
\begin{example}
\label{ex:f_123_12}
%---------------------------------------
Let $\setX\eqd\setn{x_1,\,x_2,\,x_3}$ and $\setY\eqd\setn{y_1,\,y_2}$.
There are a total of
$\seto{\sssetR} = 2^{\seto{\setX}\cdot\seto{\setY}} = 2^{3\cprod2} = 64$
possible relations on $\cprodXY$,
as listed in \prefpp{ex:rel_123_12}.
Let $\sssetF\eqd\seqn{\ssetF_1,\,\ssetF_2,\,\ssetF_3,\,\ldots}$
be the set of all {\bf functions} from $\setX$ to $\setY$.
There are a total of
$\seto{\sssetF} = \seto{\setY}^{\seto{\setX}} = 2^3 = 8$ possible functions.
These 8 functions are listed below.
Of these 8 functions, 6 are \prope{surjective},
as listed in \prefpp{ex:f_123_12_surjective}.\\
%\begin{longtable}{|*{2}{MNM@{\,} *{3}{M@{\,}} M|}}
\begin{tabular}{|*{2}{MNM@{\,} *{3}{M@{\,}} M|}}
  \hline
  \mc{14}{G}{functions on $\setn{x_1,\,x_2,\,x_3}\cprod\setn{y_1,\,y_2}$}\\
  \hline
  \ssetF_{1} &=& \{ & \opair{x_1}{y_1}, & \opair{x_2}{y_1}, & \opair{x_3}{y_1} & \} & \ssetF_{5} &=& \{ & \opair{x_1}{y_1}, & \opair{x_2}{y_1}, & \opair{x_3}{y_2} & \}\\
  \ssetF_{2} &=& \{ & \opair{x_1}{y_2}, & \opair{x_2}{y_1}, & \opair{x_3}{y_1} & \} & \ssetF_{6} &=& \{ & \opair{x_1}{y_2}, & \opair{x_2}{y_1}, & \opair{x_3}{y_2} & \}\\
  \ssetF_{3} &=& \{ & \opair{x_1}{y_1}, & \opair{x_2}{y_2}, & \opair{x_3}{y_1} & \} & \ssetF_{7} &=& \{ & \opair{x_1}{y_1}, & \opair{x_2}{y_2}, & \opair{x_3}{y_2} & \}\\
  \ssetF_{4} &=& \{ & \opair{x_1}{y_2}, & \opair{x_2}{y_2}, & \opair{x_3}{y_1} & \} & \ssetF_{8} &=& \{ & \opair{x_1}{y_2}, & \opair{x_2}{y_2}, & \opair{x_3}{y_2} & \}\\
  \hline
\end{tabular}
%\end{longtable}
\end{example}

%---------------------------------------
\begin{example}
\label{ex:f_xyz_xyz}
%---------------------------------------
Let $\setX\eqd\setn{x,\,y,\,z}$
There are a total of
$\seto{\sssetR} = 2^\seto{\setX\cprod\setX}=2^{\seto{\setX}\cdot\seto{\setX}} = 2^{3\cprod3} = 2^9 = 512$
possible relations on $\setX^2$.
Of these 512 relations, only 27 are \textbf{functions}.
These 27 functions are listed below.
Of these 27 functions, only 7 are \prope{surjective} functions,
as listed in \prefpp{ex:f_xyz_xyz_surjective}.
\\\begin{longtable}{|*{2}{MNM MMM M|}}
  \hline
  \mc{14}{G}{functions on $\setn{x,\,y,\,z}\cprod\setn{x,\,y,\,z}$}\\
  \hline
    \ssetF_{ 1} &=& \{ & \opair{x}{x}, & \opair{y}{x}, & \opair{z}{x} & \} &  \ssetF_{15} &=& \{ & \opair{x}{z}, & \opair{y}{y}, & \opair{z}{y} & \}
  \\\ssetF_{ 2} &=& \{ & \opair{x}{y}, & \opair{y}{x}, & \opair{z}{x} & \} &  \ssetF_{16} &=& \{ & \opair{x}{x}, & \opair{y}{z}, & \opair{z}{y} & \}
  \\\ssetF_{ 3} &=& \{ & \opair{x}{z}, & \opair{y}{x}, & \opair{z}{x} & \} &  \ssetF_{17} &=& \{ & \opair{x}{y}, & \opair{y}{z}, & \opair{z}{y} & \}
  \\\ssetF_{ 4} &=& \{ & \opair{x}{x}, & \opair{y}{y}, & \opair{z}{x} & \} &  \ssetF_{18} &=& \{ & \opair{x}{z}, & \opair{y}{z}, & \opair{z}{y} & \}
  \\\ssetF_{ 5} &=& \{ & \opair{x}{y}, & \opair{y}{y}, & \opair{z}{x} & \} &  \ssetF_{19} &=& \{ & \opair{x}{x}, & \opair{y}{x}, & \opair{z}{z} & \}
  \\\ssetF_{ 6} &=& \{ & \opair{x}{z}, & \opair{y}{y}, & \opair{z}{x} & \} &  \ssetF_{20} &=& \{ & \opair{x}{y}, & \opair{y}{x}, & \opair{z}{z} & \}
  \\\ssetF_{ 7} &=& \{ & \opair{x}{x}, & \opair{y}{z}, & \opair{z}{x} & \} &  \ssetF_{21} &=& \{ & \opair{x}{z}, & \opair{y}{x}, & \opair{z}{z} & \}
  \\\ssetF_{ 8} &=& \{ & \opair{x}{y}, & \opair{y}{z}, & \opair{z}{x} & \} &  \ssetF_{22} &=& \{ & \opair{x}{x}, & \opair{y}{y}, & \opair{z}{z} & \}
  \\\ssetF_{ 9} &=& \{ & \opair{x}{z}, & \opair{y}{z}, & \opair{z}{x} & \} &  \ssetF_{23} &=& \{ & \opair{x}{y}, & \opair{y}{y}, & \opair{z}{z} & \}
  \\\ssetF_{10} &=& \{ & \opair{x}{x}, & \opair{y}{x}, & \opair{z}{y} & \} &  \ssetF_{24} &=& \{ & \opair{x}{z}, & \opair{y}{y}, & \opair{z}{z} & \}
  \\\ssetF_{11} &=& \{ & \opair{x}{y}, & \opair{y}{x}, & \opair{z}{y} & \} &  \ssetF_{25} &=& \{ & \opair{x}{x}, & \opair{y}{z}, & \opair{z}{z} & \}
  \\\ssetF_{12} &=& \{ & \opair{x}{z}, & \opair{y}{x}, & \opair{z}{y} & \} &  \ssetF_{26} &=& \{ & \opair{x}{y}, & \opair{y}{z}, & \opair{z}{z} & \}
  \\\ssetF_{13} &=& \{ & \opair{x}{x}, & \opair{y}{y}, & \opair{z}{y} & \} &  \ssetF_{27} &=& \{ & \opair{x}{z}, & \opair{y}{z}, & \opair{z}{z} & \}
  \\\ssetF_{14} &=& \{ & \opair{x}{y}, & \opair{y}{y}, & \opair{z}{y} & \} &              & &    &               &               &              &   
  \\\hline
\end{longtable}
\end{example}
} % end wsd exclude

%---------------------------------------
\begin{definition}
\label{def:f=g}
\index{function!equality}
\index{equality!functions}
\footnote{
  \citerpg{berberian1961}{73}{0821819127}
  }
%---------------------------------------
Let $\clFxy$ be the set of functions from a set $\setX$ to a set $\setY$.
\defbox{\begin{array}{M}
  Functions $\ff\in\clFxy$ and $\fg\in\clFxy$ are \hid{equal} if
  \\\qquad $\ds\ff(x)=\fg(x) \qquad\forall x\in\setX$
  \\
  This is denoted as $\ff\eqo\fg$.
\end{array}}
\end{definition}


%\ifexclude{wsd}{
%=======================================
\subsection{Properties of functions}
%=======================================
%%---------------------------------------
%\begin{definition}
%\footnote{
%  \citerpgc{davis2005}{4}{0071243399}{Definition 1.6}
%  }
%%---------------------------------------
%Let $\ff$ be a \structe{function} \xref{def:f} in $\clFxy$.
%Let $\psetX$ be the \structe{power set} \xref{def:pset} of the set $\setX$.
%\defboxt{
%  The \hid{direct image} $\hxs{\ff(\setA)}$ of $\setA$ under the function $\ff$ is 
%  \\\indentx$\ff(\setA)\eqd\set{\ff(x)}{x\in\setX}$.
%  }
%\end{definition}

%---------------------------------------
\begin{theorem}
\footnote{
  \citerppg{davis2005}{6}{8}{0071243399},
  \citerpg{vaidyanathaswamy1960}{10}{0486404560}
  }
\label{thm:f_emptyset}
\label{thm:f_isotone}
%---------------------------------------
Let $\ff$ be a \structe{function} \xref{def:f} in $\clFxy$ with inverse relation $\ff^{-1}$ in $\clRxy$.
\thmbox{\begin{array}{>{\scy}r >{\ds}l >{\ds}r c >{\ds}l @{\qquad}C @{\qquad}D}
  1.&
    &\ff(\emptyset)
    &=& \emptyset
    & \forall \ff\in\clFxy
    \\
  2.&
    &\ff^{-1}(\emptyset)
    &=& \emptyset
    &   \forall \ff\in\clFxy
    \\
  3.&\setA\subseteq\setB \implies 
    &\ff(\setA)
    &\subseteq& \ff(\setB)
    & \forall \ff\in\clFxy,\, \setA,\setB\in\ssP{\setX}
    & (\prope{isotone})
    \\
  4.&\setA\subseteq\setB \implies 
    &\ff^{-1}(\setA)
    &\subseteq& \ff^{-1}(\setB)
    &   \forall \ff\in\clFxy,\, \setA,\setB\in\ssP{\setY}
    & (\prope{isotone})
\end{array}}
\end{theorem}
\begin{proof}
\begin{align*}
\intertext{1. Proof that $\ff(\emptyset) = \emptyset$:}
  \ff(\emptyset)
    &= \set{y\in\setY}{\exists x\in\emptyset \st \opair{x}{y}\in\ff}
    && \text{by \prefp{def:R(A)}}
  \\&= \emptyset
    && \text{by definition of $\emptyset$ \prefpo{def:set_emptyset}}
\\
\intertext{2. Proof that $\setA\subseteq\setB \implies \ff(\setA) \subseteq \ff(\setB)$:}
  \ff(\setA)
    &= \set{y\in\setY}{\exists x\in\setA \st \opair{x}{y}\in\ff}
    && \text{by \prefp{def:R(A)}}
  \\&\subseteq \set{y\in\setY}{\exists x\in\setB \st \opair{x}{y}\in\ff}
    && \text{by left hypothesis}
  \\&= \ff(\setB)
    && \text{by \prefp{def:R(A)}}
\intertext{3. Proof that $\ff^{-1}(\emptyset) = \emptyset$:}
  \ff^{-1}(\emptyset)
    &= \set{x\in\setX}{\exists y\in\emptyset \st \opair{x}{y}\in\ff}
    && \text{by \prefp{def:R(A)}}
  \\&= \emptyset
    && \text{by definition of $\emptyset$ \prefpo{def:set_emptyset}}
\\
\intertext{4. Proof that $\setA\subseteq\setB \implies \ff^{-1}(\setA) \subseteq \ff^{-1}(\setB)$:}
  \ff^{-1}(\setA)
    &= \set{x\in\setX}{\exists y\in\setA \st \opair{x}{y}\in\ff^{-1}}
    && \text{by \prefp{def:R(A)}}
  \\&\subseteq \set{x\in\setX}{\exists y\in\setB \st \opair{x}{y}\in\ff}
    && \text{by left hypothesis}
  \\&= \ff^{-1}(\setB)
    && \text{by \prefp{def:R(A)}}
\end{align*}
\end{proof}

%=======================================
\subsection{Types of functions}
%=======================================
In general, a function $\ff\in\clFxy$ can be described as ``\hie{into}"
because $\ff$ maps each element of $\setX$ \emph{into} $\setY$ such that
$\ff(\setX) \subseteq \setY$.
However there are some common more restrictive special types of functions.
These are defined in \pref{def:f_types} (next defintion). % and illustrated in \pref{fig:f_types} (next).
%---------------------------------------
\begin{definition}
\label{def:f_types}
\footnote{
  \citerpp{michel1993}{14}{15},
  \citerpg{fuhrmann2012}{2}{1461403375},
  \citerpg{comtet1974}{5}{9027704414}
  }
\index{functions!onto}                \index{functions!surjective}
\index{functions!one-to-one}          \index{functions!injective}
\index{functions!one-to-one and onto} \index{functions!bijective}
%---------------------------------------
Let $\ff\in\clFxy$.
\defbox{\begin{array}{M}\indxs{\clSj{\setX}{\setY}}\indxs{\clIj{\setX}{\setY}}\indxs{\clBj{\setX}{\setY}}
  \begin{tabular}{lll}
   $\ff$ is \hid{surjective} & (also called \hid{onto})         & \text{if $\ff(\setX)=\setY$}  \\
   $\ff$ is \hid{injective}  & (also called \hid{one-to-one})   & \text{if $\ff(x_n) = \ff(x_m) \implies x_n=x_m$} \\
   $\ff$ is \hid{bijective}  & (also called \textbf{one-to-one} & \text{if $\ff$ is both surjective and injective}.\\
                             & \textbf{and onto})\index{one-to-one and onto}
  \end{tabular}
  \\
  We also define the following sets of functions:
  \\\indentx$\begin{array}{rcl@{\qquad}D}
    \clSj{\setX}{\setY}
      &\eqd& \set{\ff\in\clFxy}{\text{$\ff$ is surjective}}
      &      \text{(the set of all surjective functions in $\clFxy$)}
      \\
    \clIj{\setX}{\setY}
      &\eqd& \set{\ff\in\clFxy}{\text{$\ff$ is injective}}
      &      \text{(the set of all injective functions in $\clFxy$)}
      \\
    \clBj{\setX}{\setY}
      &\eqd& \set{\ff\in\clFxy}{\text{$\ff$ is bijective}}
      &      \text{(the set of all bijective functions in $\clFxy$)}
  \end{array}$
\end{array}}
\end{definition}

The types described in \pref{def:f_types} are illustrated below:
\\
\begin{center}
{\psset{unit=7mm}
\begin{tabular*}{\tw}{c@{\extracolsep\fill}ccc}
\begin{pspicture}(-1,0)(3,5)
  \psellipse[linecolor=set](0,2.5)(0.5,2)
  \psellipse[linecolor=set](2,2.5)(0.5,2)
  \psline[linecolor=blue]{->}(0,4)(2,3)
  \psline[linecolor=blue]{->}(0,3)(2,4)
  \psline[linecolor=blue]{->}(0,2)(2,3)
  \psline[linecolor=blue]{->}(0,1)(2,2)
  \psdot(0,4) 
  \psdot(0,3)
  \psdot(0,2)
  \psdot(0,1)
  \psdot(2,4)
  \psdot(2,3)
  \psdot(2,2)
  \psdot(2,1)
  \uput[180]{0}(0,4){$x_4$}  
  \uput[180]{0}(0,3){$x_3$}  
  \uput[180]{0}(0,2){$x_2$}  
  \uput[180]{0}(0,1){$x_1$}  
  \uput  [0]{0}(2,4){$y_4$}  
  \uput  [0]{0}(2,3){$y_3$}  
  \uput  [0]{0}(2,2){$y_2$}  
  \uput  [0]{0}(2,1){$y_1$}  
  \uput [90]{0}(0,4.5){$\setX$}
  \uput [90]{0}(2,4.5){$\setY$}
\end{pspicture}
&
\begin{pspicture}(-1,0)(3,5)
  \psellipse[linecolor=set](0,2.5)(0.5,2)
  \psellipse[linecolor=set](2,2.5)(0.5,2)
  \psline[linecolor=blue]{->}(0,4)(2,3)
  \psline[linecolor=blue]{->}(0,3)(2,4)
  \psline[linecolor=blue]{->}(0,2)(2,2)
  \psline[linecolor=blue]{->}(0,1)(2,2)
  \psdot(0,4) 
  \psdot(0,3)
  \psdot(0,2)
  \psdot(0,1)
  \psdot(2,4)
  \psdot(2,3)
  \psdot(2,2)
  %\psdot(2,1)
  \uput[180]{0}(0,4){$x_4$}  
  \uput[180]{0}(0,3){$x_3$}  
  \uput[180]{0}(0,2){$x_2$}  
  \uput[180]{0}(0,1){$x_1$}  
  \uput  [0]{0}(2,4){$y_3$}  
  \uput  [0]{0}(2,3){$y_2$}  
  \uput  [0]{0}(2,2){$y_1$}  
  %\uput  [0]{0}(2,1){$y_1$}  
  \uput [90]{0}(0,4.5){$\setX$}
  \uput [90]{0}(2,4.5){$\setY$}
\end{pspicture}
&
\begin{pspicture}(-1,0)(3,5)
  \psellipse[linecolor=set](0,2.5)(0.5,2)
  \psellipse[linecolor=set](2,2.5)(0.5,2)
  \psline[linecolor=blue]{->}(0,4)(2,3)
  \psline[linecolor=blue]{->}(0,3)(2,4)
  \psline[linecolor=blue]{->}(0,2)(2,2)
 %\psline[linecolor=blue]{->}(0,2)(2,1)
 %\psline[linecolor=blue]{->}(0,1)(2,1)
  \psdot(0,4) 
  \psdot(0,3)
  \psdot(0,2)
 %\psdot(0,1)
  \psdot(2,4)
  \psdot(2,3)
  \psdot(2,2)
  \psdot(2,1)
  \uput[180]{0}(0,4){$x_3$}  
  \uput[180]{0}(0,3){$x_2$}  
  \uput[180]{0}(0,2){$x_1$}  
 %\uput[180]{0}(0,1){$x_1$}  
  \uput  [0]{0}(2,4){$y_4$}  
  \uput  [0]{0}(2,3){$y_3$}  
  \uput  [0]{0}(2,2){$y_2$}  
  \uput  [0]{0}(2,1){$y_1$}  
  \uput [90]{0}(0,4.5){$\setX$}
  \uput [90]{0}(2,4.5){$\setY$}
\end{pspicture}
&
\begin{pspicture}(-1,0)(3,5)
  \psellipse[linecolor=set](0,2.5)(0.5,2)
  \psellipse[linecolor=set](2,2.5)(0.5,2)
  \psline[linecolor=blue]{->}(0,4)(2,3)
  \psline[linecolor=blue]{->}(0,3)(2,4)
  \psline[linecolor=blue]{->}(0,2)(2,2)
 %\psline[linecolor=blue]{->}(0,2)(2,1)
  \psline[linecolor=blue]{->}(0,1)(2,1)
  \psdot(0,4) 
  \psdot(0,3)
  \psdot(0,2)
  \psdot(0,1)
  \psdot(2,4)
  \psdot(2,3)
  \psdot(2,2)
  \psdot(2,1)
  \uput[180]{0}(0,4){$x_4$}  
  \uput[180]{0}(0,3){$x_3$}  
  \uput[180]{0}(0,2){$x_2$}  
  \uput[180]{0}(0,1){$x_1$}  
  \uput  [0]{0}(2,4){$y_4$}  
  \uput  [0]{0}(2,3){$y_3$}  
  \uput  [0]{0}(2,2){$y_2$}  
  \uput  [0]{0}(2,1){$y_1$}  
  \uput [90]{0}(0,4.5){$\setX$}
  \uput [90]{0}(2,4.5){$\setY$}
\end{pspicture}
\\  ``\prope{into}"   & ``\prope{onto}"    & ``\prope{one-to-one}"    & ``\prope{one-to-one and onto}"
\\  (arbitrary function in $\clFxy$) & \prope{surjective} & \prope{injective}        & \prope{bijective}
\end{tabular*}
}
\end{center}


%---------------------------------------
\begin{example}
\hspace{1pt}\\
%---------------------------------------
\begin{minipage}{\tw/2-3mm}
In the set $\clFrr$, the function $\sin x$ is \prope{not injective},
\prope{not surjective}, and \prope{not bijective}.
\end{minipage}%
\hfill%
\begin{minipage}{\tw/2-3mm}\small
  \psset{unit=8mm}
  \begin{pspicture}(-4.5,-1.5)(4.5,1.5)
    \psaxes[linecolor=green,labels=y,ticks=all,showorigin=false]{<->}(0,0)(-4.5,-1.5)(4.5,1.5)
    \psplot[plotpoints=200,linecolor=blue]{-4}{4}{x 180 mul sin}
    \uput[0]{0}(4.5,0){$x$}
    \multido{\i=-4+1}{9}{%
      \uput[270]{0}(\i,0){$\i\pi$}
      }
  \end{pspicture}
\end{minipage}
\end{example}


%---------------------------------------
\begin{example}
\hspace{1pt}\\
%---------------------------------------
\begin{minipage}{\tw/2-3mm}\small
  In the set $\clFrr$, the function $x\sin x$ is \prope{surjective}, but \prope{not injective} and 
  \prope{not bijective}.
\end{minipage}
\hfill
\begin{minipage}{\tw/2-3mm}\small
  \psset{unit=8mm}
  \begin{pspicture}(-4.5,-4.5)(4.5,4.5)
    \psaxes[linecolor=green,labels=y,ticks=all,showorigin=false]{<->}(0,0)(-4.5,-4)(4.5,4)
    \psplot[plotpoints=200,linecolor=blue]{-4}{4}{x 180 mul sin x mul}
    \uput[0]{0}(4.5,0){$x$}
    \multido{\i=-4+1}{9}{%
      \uput[270]{0}(\i,0){$\i\pi$}
      }
  \end{pspicture}
\end{minipage}
\end{example}

%---------------------------------------
\begin{example}
\hspace{1pt}\\
%---------------------------------------
\begin{minipage}{\tw/2-3mm}
In the set $\clFrr$, the function $y=\frac{1}{4}x$ is \prope{injective}, \prope{surjective}, and \prope{bijective}.
\end{minipage}%
\hfill%
\begin{minipage}{\tw/2-3mm}
  \psset{unit=8mm}
  \begin{pspicture}(-4.5,-1.5)(4.5,1.5)
    \psaxes[linecolor=green]{<->}(0,0)(-4.5,-1.5)(4.5,1.5)
    %\psplot[plotpoints=200,linecolor=blue,plotstyle=polygon]{-4}{4}{x 180 mul sin}
    \psplot[plotpoints=200,linecolor=blue]{-4}{4}{0.25 x mul}
    \uput[0]{0}(4.5,0){$x$}
  \end{pspicture}
\end{minipage}
\end{example}

%---------------------------------------
%---------------------------------------
\begin{minipage}{\tw/2-3mm}
\begin{example}
  In the set $\clFrr$, the function $e^x$ is \prope{injective}, but \prope{not surjective} and \prope{not bijective}.
\end{example}
\end{minipage}
\hfill\tbox{\includegraphics{../common/math/graphics/pdfs/ex_convex.pdf}}\hfill\mbox{}\\%

%---------------------------------------
\begin{example}
%---------------------------------------
  In the set $\clFrr$, the function $\tan x$ is \prope{not injective}, \prope{not surjective} 
  (it's range does not include $\frac{\pi}{2}$, $\frac{3\pi}{2}$, etc.) and  
  \prope{not bijective}.

  \psset{xunit=18.85mm,yunit=12mm}
  \begin{pspicture}(-3,-2.2)(3,2.2)
    \small%
    \psaxes[linecolor=green,labels=y,ticks=all,showorigin=false]{<->}(0,0)(-3,-2.1)(3,2.1)
    \multido{\na=-2.35+1.00,\nb=-1.65+1.00}{5}{%
      \psplot[plotpoints=200,linecolor=blue]{\na}{\nb}{x 180 mul tan}
      }
    \psline[linecolor=red,linestyle=dotted](-3,1)(3,1)% horizontal y=1 line
    \psline[linecolor=red,linestyle=dotted](-3,-1)(3,-1)% horizontal y=-1 line
    \multido{\n=-2.5+1.0}{6}{% vertical asymtop lines
      \psline[linecolor=red,linestyle=dotted](\n,-2)(\n,2)% vertical asymtop lines
      }
    \multido{\nt=-1.75+1.00,\nb=-2.25+1.00}{5}{% vertical y=+-1 lines
      \psline[linecolor=red,linestyle=dotted](\nt,0)(\nt,1)% vertical y=1 line
      \psline[linecolor=red,linestyle=dotted](\nb,0)(\nb,-1)% vertical y=-1 line
      }
    \uput[0]{0}(3,0){$x$}
    \uput[270]{0}(0.25,0){$\frac{\pi}{4}$}
    \uput[270]{0}(0.50,0){$\frac{\pi}{2}$}
   %\uput[270]{0}(0.75,0){$\frac{3\pi}{4}$}
    \uput[270]{0}(1.00,0){$\pi$}
   %\uput[270]{0}(1.25,0){$\frac{5\pi}{4}$}
    \uput[270]{0}(1.50,0){$\frac{3\pi}{2}$}
   %\uput[270]{0}(1.75,0){$\frac{7\pi}{4}$}
    \uput[270]{0}(2.00,0){$2\pi$}
   %\uput[270]{0}(2.25,0){$\frac{9\pi}{4}$}
    \uput[270]{0}(2.50,0){$\frac{5\pi}{2}$}
    %
    \uput[270]{0}(-0.50,0){$-\frac{\pi}{2}$}
    \uput[270]{0}(-0.25,0){$-\frac{\pi}{4}$}
   %\uput[270]{0}(-0.75,0){$-\frac{3\pi}{4}$}
    \uput[270]{0}(-1.00,0){$-\pi$}
   %\uput[270]{0}(-1.25,0){$-\frac{5\pi}{4}$}
    \uput[270]{0}(-1.50,0){$-\frac{3\pi}{2}$}
   %\uput[270]{0}(-1.75,0){$-\frac{7\pi}{4}$}
    \uput[270]{0}(-2.00,0){$-2\pi$}
   %\uput[270]{0}(-2.25,0){$-\frac{9\pi}{4}$}
    \uput[270]{0}(-2.50,0){$-\frac{5\pi}{2}$}
  \end{pspicture}%
\end{example}




%---------------------------------------
\begin{theorem}
\label{thm:onto_onto}
\footnote{
  \citerpp{durbin2000}{16}{17}
  }
%---------------------------------------
\thmbox{
  \begin{array}{MMM@{\qquad}c@{\qquad}lM}
    $\ff$ and $\fg$ &are& surjective & \implies & \fg\circ\ff &is surjective \\
    $\fg\circ\ff$   &is & surjective & \implies & \fg         &is surjective \\
    $\ff$ and $\fg$ &are& injective  & \implies & \fg\circ\ff &is injective \\
    $\fg\circ\ff$   &is & injective  & \implies & \ff         &is injective
  \end{array}}
\end{theorem}
\begin{proof}
\begin{align*}
  \text{$\ff,\fg$ are surjective}
    &\implies \ff(\setX)=\setY,\;\text{and}\; \fg(\setY)=\setZ
    &&        \text{by definition of surjective \prefpo{def:f_types}}
  \\&\implies \fg\circ\ff(\setX)=\fg(\setY)=\setZ
  \\&\implies \text{$\fg\circ\ff$ is surjective}
    &&        \text{by definition of surjective \prefpo{def:f_types}}
  \\\\
  \text{$\fg\circ\ff$ is surjective}
    &\implies \fg\circ\ff(\setX)=\setZ
    &&        \text{by definition of surjective \prefpo{def:f_types}}
  \\&\implies \fg(\ff(\setX))=\setZ
  \\&\implies \fg(\setY)=\setZ
    &&        \text{because $\ff(\setX)\subseteq\setY$ and by isotone property \prefpo{thm:f_isotone}}
  \\&\implies \text{$\fg$ is surjective}
    &&        \text{by definition of surjective \prefpo{def:f_types}}
  \\\\
  \fg\circ\ff(x_1)=\fg\circ\ff(x_2)
    &\implies \fg(\ff(x_1))=\fg(\ff(x_2))
  \\&\implies \ff(x_1)=\ff(x_2)
    &&        \text{because $\fg$ is injective}
  \\&\implies x_1=x_2
    &&        \text{because $\ff$ is injective}
  \\&\implies \text{$\fg\circ\ff$ is injective}
  \\\\
  \ff(x_1)=\ff(x_2)
    &\implies \fg(\ff(x_1))=\fg(\ff(x_2))
  \\&\implies \fg\circ\ff(x_1)=\fg\circ\ff(x_2)
  \\&\implies x_1=x_2
    &&        \text{because $\fg\circ\ff$ is injective}
  \\&\implies \text{$\ff$ is injective}
\end{align*}
\end{proof}


%---------------------------------------
\begin{theorem}[Bernstein-Cantor-Schr\"oder Theorem]
\footnote{
  \citerp{schroder2003}{116},
  \citerp{nievergelt2002}{213},
  \citerpg{suppes1972}{95}{0486616304},
  \citerppc{fraenkel1953}{102}{103}{???}
  }
\label{thm:bsc}
\index{Bernstein-Cantor-Schr\"oder Theorem}
\index{theorems!Bernstein-Cantor-Schr\"oder}
%---------------------------------------
\formbox{
  \brp{\exists \ff\in\clIj{\setX}{\setY}}
  \text{ and }
  \brp{\exists \fg\in\clIj{\setY}{\setX}}
  \qquad\implies\qquad
  \exists\fh\in\clBj{\setX}{\setY}
  }
\end{theorem}



%---------------------------------------
\begin{example}
\label{ex:f_123_12_surjective}
%---------------------------------------
Let $\setX\eqd\setn{x_1,\,x_2,\,x_3}$ and $\setY\eqd\setn{y_1,\,y_2}$.
There are a total of $\seto{\sssetR} = 2^{3\cprod2} = 64$ possible relations,
as listed in \prefpp{ex:rel_123_12}.
There are a total of $\seto{\sssetF} = 2^3 = 8$ possible functions,
as listed in \prefpp{ex:f_123_12}.
Let $\sssetS\eqd\seqn{\ssetS_1,\,\ssetS_2,\,\ssetS_3,\,\ldots}$
be the set of all \hib{surjective} functions from $\setX$ to $\setY$.
There are a total of $\seto{\sssetS} = 6$ possible surjective functions, as listed next:
\\\indentx
\begin{tabular}{|*{2}{MNM@{\,} *{3}{M@{\,}} M|}}
  \hline
  \mc{14}{G}{surjective functions on $\setn{x_1,\,x_2,\,x_3}\cprod\setn{y_1,\,y_2}$}\\
  \hline
  \ssetS_{1} &=& \{ & \opair{x_1}{y_2}, & \opair{x_2}{y_1}, & \opair{x_3}{y_1} & \} & \ssetS_{4} &=& \{ & \opair{x_1}{y_1}, & \opair{x_2}{y_1}, & \opair{x_3}{y_2} & \}\\
  \ssetS_{2} &=& \{ & \opair{x_1}{y_1}, & \opair{x_2}{y_2}, & \opair{x_3}{y_1} & \} & \ssetS_{5} &=& \{ & \opair{x_1}{y_2}, & \opair{x_2}{y_1}, & \opair{x_3}{y_2} & \}\\
  \ssetS_{3} &=& \{ & \opair{x_1}{y_2}, & \opair{x_2}{y_2}, & \opair{x_3}{y_1} & \} & \ssetS_{6} &=& \{ & \opair{x_1}{y_1}, & \opair{x_2}{y_2}, & \opair{x_3}{y_2} & \}\\
  \hline
\end{tabular}
\end{example}






%---------------------------------------
\begin{example}
\label{ex:f_xyz_xyz_surjective}
%---------------------------------------
Let $\setX\eqd\setn{x,\,y,\,z}$
There are a total of
$\seto{\sssetR} = 2^\seto{\setX\cprod\setX}=2^{\seto{\setX}\cdot\seto{\setX}} = 2^{3\cprod3} = 2^9 = 512$
possible relations on $\setX\cprod\setX$.
Of these 512 relations, only 27 are \textbf{functions}.
These 27 functions are listed in \prefpp{ex:f_xyz_xyz}.
Of these 27 functions, only 7 are \prope{surjective} functions, as listed below.
Actually, in the case of a function mapping from a finite set onto the same finite set,
The set $\sssetS$ of surjective functions is equal to the set of injective functions
and the set of bijective functions.
\\\indentx
\begin{tabular}{|*{2}{MNM MMM M|}}
  \hline
  \mc{14}{G}{surjective functions on $\setn{x,\,y,\,z}\cprod\setn{x,\,y,\,z}$}\\
  \hline
  \tblx \ssetS_{1} &=& \{ & \opair{x}{z}, & \opair{y}{x}, & \opair{z}{x} & \}  \tblc \ssetS_{5} &=& \{ & \opair{x}{x}, & \opair{y}{z}, & \opair{z}{y} & \}
  \tbln \ssetS_{2} &=& \{ & \opair{x}{z}, & \opair{y}{y}, & \opair{z}{x} & \}  \tblc \ssetS_{6} &=& \{ & \opair{x}{y}, & \opair{y}{x}, & \opair{z}{z} & \}
  \tbln \ssetS_{3} &=& \{ & \opair{x}{y}, & \opair{y}{z}, & \opair{z}{x} & \}  \tblc \ssetS_{7} &=& \{ & \opair{x}{x}, & \opair{y}{y}, & \opair{z}{z} & \}
  \tbln \ssetS_{4} &=& \{ & \opair{x}{z}, & \opair{y}{x}, & \opair{z}{y} & \}  \tblc            & &    &               &               &              &   
  \\\hline
\end{tabular}
\end{example}


%=======================================
\subsection{Image relations}
%=======================================
Consider two subsets $\setA$ and $\setB$ of the domain of a function $\ff$.
What is the relationship between the image under $\ff$ of their union and the union of their images under $\ff$?
Are they equal? Is one a subset of the other?
What is the relationship between the image of their intersection under $\ff$ and the intersection of their images $\ff$?
\pref{thm:f_imgs} (next theorem) answers these questions.

{\psset{unit=5mm}
\begin{pspicture}(-1,-4)(13,4)
  \psframe[linecolor=set](-2,-3)(5,3)% X
  \psframe[linecolor=set](7,-3)(13,3)% Y
  \psellipse[linecolor=blue](0,0)(1,2)% A
  \psellipse[linecolor=red](3,0)(1,2)% B
  \psdiamond[linecolor=red](10,0)(1,1)%
  \pscircle [linecolor=blue](10,0){2}%
  \psbezier[linecolor=red] {->}(3,2)(4,3)(9,2)(10,1)%
  \psbezier[linecolor=red] {->}(3,-2)(4,-3)(9,-2)(10,-1)%
  \psbezier[linecolor=blue]{->}(0,2)(1,3)(9,3)(10,2)%
  \psbezier[linecolor=blue]{->}(0,-2)(1,-3)(9,-3)(10,-2)%
  \rput[c](0,0){$\setA$}%
  \rput[c](3,0){$\setB$}%
  \uput[45]{0}(11.414,1.414){$\ff\brp{\setA}$}%
  \rput[c](10,0){$\ff\brp{\setB}$}%
  \uput[90]{0}(6,3){$\ff$}%
  \uput[90]{0}(2,3){$\setX$}
  \uput[90]{0}(10,3){$\setY$}
\end{pspicture}
}

%---------------------------------------
\begin{theorem}
\footnote{
  \citerppg{davis2005}{6}{7}{0071243399},
  \citerpg{vaidyanathaswamy1960}{10}{0486404560}
  }
\label{thm:f_imgs}
\index{isotone}
\index{additive}
%---------------------------------------
Let $\ff$ be a function in $\clFxy$.
\thmbox{\begin{array}{>{\ds}r c >{\ds}l @{\qquad}C @{\qquad}D}
  \ff\left(\setopu_{i\in\setI}\setA_i \right)
    &=& \setopu_{i\in\setI} \ff\left(\setA_i \right)
    &   \forall \ff\in\clFxy,\, \setA_i\in\ssP{\setX}
    &   (additive)
    \\
  \ff\left(\setopi_{i\in\setI}\setA_i \right)
    &\subseteq& \setopi_{i\in\setI} \ff\left(\setA_i \right)
    & \forall \ff\in\clFxy,\, \setA_i\in\ssP{\setX}
\end{array}}
\end{theorem}
\begin{proof}
\begin{align*}
\intertext{1. Proof that $\ff\left(\setopu_{i\in\setI}\setA_i \right) = \setopu_{i\in\setI} \ff\left(\setA_i \right)$:}
  \ff\left(\setopu_{i\in\setI}\setA_i \right)
    &= \set{y\in\setY}{\exists x\in \setopu_{i\in\setI}\setA_i \st \opair{x}{y}\in\ff}
    && \text{by \prefp{def:R(A)}}
  \\&= \setopu_{i\in\setI} \set{y\in\setY}{\exists x\in\setA_i \st \opair{x}{y}\in\ff}
  \\&= \setopu_{i\in\setI} \ff\left(\setA_i \right)
    && \text{by \prefp{def:R(A)}}
\\
\intertext{2. Proof that $\ff\left(\setopi_{i\in\setI}\setA_i \right) \subseteq \setopi_{i\in\setI} \ff\left(\setA_i \right)$:}
  \ff\left(\setopi_{i\in\setI}\setA_i \right)
    &= \set{y\in\setY}{\exists x\in \setopi_{i\in\setI}\setA_i \st \opair{x}{y}\in\ff}
    && \text{by \prefp{def:R(A)}}
  \\&= \set{y\in\setY}{\exists x \st \logopa_{i\in\setI}[x\in\setA_i] \text{ and } \opair{x}{y}\in\ff]}
    && \text{by \prefp{def:setops}}
  \\&\subseteq \set{y\in\setY}{\logopa_{i\in\setI}[\exists x\in\setA_i \st \opair{x}{y}\in\ff]}
  \\&= \setopi_{i\in\setI} \set{y\in\setY}{\exists x\in\setA_i \st \opair{x}{y}\in\ff}
    && \text{by \prefp{def:setops}}
  \\&= \setopi_{i\in\setI} \ff\brp{\setA_i}
    && \text{by \prefp{def:R(A)}}
\end{align*}
\end{proof}

%---------------------------------------
\begin{theorem}
\label{thm:set_finv}
\footnote{
  \citerppg{davis2005}{7}{8}{0071243399},
  \citerpg{vaidyanathaswamy1960}{10}{0486404560}
  }
%---------------------------------------
Let $\ff^{-1}\in\clF{\setY}{\setX}$ be the inverse of a function $\ff\in\clFxy$.
\thmbox{\begin{array}{>{\ds}rc>{\ds}l @{\qquad}C @{\qquad}D}
  \ff^{-1}(\setY)
    &=& \setX
    &   \forall \ff\in\clFxy
    \\
  \ff^{-1}(\cmpA)
    &=& \setopc\left[\ff^{-1}(\setA)\right]
    &   \forall \ff\in\clFxy,\, \setA\in\ssP{\setY}
    \\
  \ff^{-1}\left(\setopu_{i\in\setI}\setA_i \right)
    &=& \setopu_{i\in\setI} \ff^{-1}\left(\setA_i \right)
    &   \forall \ff\in\clFxy,\, \setA_i\in\ssP{\setY}
    \\
  \ff^{-1}\left(\setopi_{i\in\setI}\setA_i \right)
    &=& \setopi_{i\in\setI} \ff^{-1}\left(\setA_i \right)
    &   \forall \ff\in\clFxy,\, \setA_i\in\ssP{\setY}
\end{array}}
\end{theorem}
\begin{proof}
\begin{align*}
\intertext{1. Proof that $\ff^{-1}(\cmpA) = \setopc\left[\ff^{-1}(\setA)\right]$:}
  \setopc\left[\ff^{-1}(\setY)\right]
    &= \setopc\set{x\in\setX}{\exists y\in\setA \st \opair{x}{y}\in \ff}
    && \text{by \prefp{def:R(A)}}
  \\&= \set{x\in\setX}{\lnot\brb{\exists y\in\setA \st \opair{x}{y}\in \ff }}
    && \text{by \prefp{def:setops}}
  \\&= \set{x\in\setX}{\nexists y\in\setA \st \opair{x}{y}\in \ff}
    && \text{by \prefp{def:setops}}
  \\&= \set{x\in\setX}{\exists y\in\cmpA \st \opair{x}{y}\in \ff}
  \\&= \ff^{-1}(\cmpA)
    && \text{by \prefp{def:R(A)}}
\\
\intertext{2. Proof that $\ff^{-1}\left(\setopu_{i\in\setI}\setA_i \right) = \setopu_{i\in\setI} \ff^{-1}\left(\setA_i \right)$:}\label{thm:set_finv_u}
  \ff^{-1}\left(\setopu_{i\in\setI}\setA_i \right)
    &= \set{x\in\setX}{\exists y\in \setopu_{i\in\setI}\setA_i \st \opair{x}{y}\in\ff}
    && \text{by \prefp{def:R(A)}}
  \\&= \set{x\in\setX}{\logopo_{i\in\setI}\brb{\exists y\in \setA_i \st \opair{x}{y}\in\ff}}
  \\&= \setopu_{i\in\setI} \set{\exists x\in\setX}{y\in\setA_i \st \opair{x}{y}\in\ff}
    && \text{by \prefp{def:setops}}
  \\&= \setopu_{i\in\setI} \ff^{-1}\brp{\setA_i}
    && \text{by \prefp{def:R(A)}}
\\
\intertext{3. Proof that $\ff^{-1}(\setY) = X$:}
  \ff^{-1}\brp{\setY}
    &= \ff^{-1}\brp{\oppI\setX \setu \setY\setd\oppI\setX}
  \\&= \ff^{-1}\brp{\oppI\setX} \setu \ff^{-1}\brp{\setY\setd\oppI\setX}
    && \text{by item 4}
  \\&= \setX \setu \emptyset
    && \text{by \prefp{def:rel_image}}
  \\&= \setX
\\
\intertext{4. Proof that $\ff^{-1}\left(\setopi_{i\in\setI}\setA_i \right) = \setopi_{i\in\setI} \ff^{-1}\left(\setA_i \right)$:}
  \ff^{-1}\left(\setopi_{i\in\setI}\setA_i \right)
    &= \set{x\in\setX}{\exists y\in \setopi_{i\in\setI}\setA_i \st \opair{x}{y}\in\ff}
    && \text{by \prefp{def:R(A)}}
  \\&= \set{x\in\setX}{\exists y \st \brb{y\in \logopa_{i\in\setI}\setA_i \text{ and } \opair{x}{y}\in\ff}}
    && \text{by \prefp{def:setops}}
  \\&= \set{x\in\setX}{\logopa_{i\in\setI}[\exists y\in\setA_i \st \opair{x}{y}\in\ff]}
    && \text{by definition of function \prefpo{def:rel_f}}
  \\&= \setopi_{i\in\setI} \set{x\in\setX}{\exists y\in\setA_i \st \opair{x}{y}\in\ff}
    && \text{by \prefp{def:setops}}
  \\&= \setopi_{i\in\setI} \ff^{-1}\left(\setA_i \right)
    && \text{by \prefp{def:R(A)}}
\\
\intertext{5. Proof that $\ff^{-1}(\setY\setd\setA) = X\setd\ff^{-1}(\setA)$:}
  \ff^{-1}(\setY\setd\setA)
    &= \ff^{-1}(Y\seti\cmpA)
    && %\text{by \prefp{prop:setd_ic}}
  \\&= \ff^{-1}(\setY) \seti \ff^{-1}(\cmpA)
    && \text{by 6.}
  \\&= X \seti \ff^{-1}(\cmpA)
    && \text{by 5.}
  \\&= X \seti \setopc\left[\ff^{-1}(\setA)\right]
    && \text{by 3.}
  \\&= X \setd \ff^{-1}(\setA)
    && \text{by \prefp{def:setops}}
\end{align*}
\end{proof}


%%---------------------------------------
%\begin{theorem}
%\label{thm:composition_hgf}
%\footnote{
%  \citerp{haaser1991}{6}
%  }
%%---------------------------------------
%Let $\setW$, $\setX$, $\setY$, and $\setZ$ be non-empty sets.
%Let $\circ$ be the composition function.
%\formbox{
%  \fh\circ\brp{\fg\circ\ff} = \brp{\fh\circ\fg}\circ\ff
%  \qquad
%  \forall \ff\in\clF{\setW}{\setX},\, \fg\in\clFxy,\, \fh\in\clF{\setY}{\setZ}
%  }
%\end{theorem}
%\begin{proof}
%\begin{enumerate}
%  \item Define the functions $\ff,\fg,\fh$ as sets of ordered pairs as follows,
%        where $\setI_f,\setI_g,\setI_h$ are indexing sets:
%    \begin{align*}
%      \ff &\eqd \set{\opair{w_i}{x_i}}{i\in\setI_f} \\
%      \fg &\eqd \set{\opair{x_i}{y_i}}{i\in\setI_g} \\
%      \fh &\eqd \set{\opair{y_i}{z_i}}{i\in\setI_h}
%    \end{align*}
%
%  \item
%    \begin{align*}
%      \fh\circ\brp{\fg\circ\ff}
%        &= \set{\opair{y_i}{z_i}}{i\in\setI_h} \circ
%           \brp{\set{\opair{x_i}{y_i}}{i\in\setI_g} \circ \set{\opair{w_i}{x_i}}{i\in\setI_f} }
%        && \text{by definition of $\fh$, $\fg$, and $\ff$}
%      \\&= \set{\opair{y_i}{z_i}}{i\in\setI_h} \circ
%           \mcom{\set{\opair{w_i}{y_i}}{i\in\setI_f}}{$\fg\circ\ff$}
%        && \text{by definition of $\circ$ \prefpo{def:rel_comp}}
%      \\&= \set{\opair{w_i}{z_i}}{i\in\setI_f}
%      \\&= \mcom{\set{\opair{x_i}{z_i}}{i\in\setI_g}}{$\fh\circ\fg$}
%           \circ
%           \mcom{\set{\opair{w_i}{x_i}}{i\in\setI_f}}{$\ff$}
%      \\&= \mcom{\set{\opair{x_i}{z_i}}{i\in\setI_g}}{$\fh\circ\fg$}
%           \circ \ff
%        && \text{by definition of $\ff$}
%      \\&= \brp{\set{\opair{y_i}{z_i}}{i\in\setI_h} \circ \set{\opair{x_i}{y_i}}{i\in\setI_g} }
%           \circ \ff
%        && \text{by definition of $\circ$ \prefpo{def:rel_comp}}
%      \\&= \brp{\fh\circ\fg}\circ\ff
%        && \text{by definition of $\fh$ and $\fg$}
%    \end{align*}
%\end{enumerate}
%\end{proof}
%
%%---------------------------------------
%\begin{theorem}
%\label{thm:composition_inverse}
%%\footnote{
%%  \citerp{hasser1991}{}
%%  }
%%---------------------------------------
%Let $\setX$, $\setY$, and $\setZ$ be non-empty sets.
%Let $\circ$ be the composition function.
%Let $\ff$ and $\fg$ be bijective functions.
%\formbox{
%  \brp{\fg\circ\ff}^{-1} = \brp{\ff^{-1}}\circ\brp{\fg^{-1}}
%  \qquad
%  \forall \ff\in\clBj{\setX}{\setY},\, \fg\in\clBj{\setY}{\setZ}
%  }
%\end{theorem}
%\begin{proof}
%\begin{enumerate}
%  \item Define the functions $\ff,\fg,\fh$ as sets of ordered pairs as follows,
%        where $\setI_f,\setI_g,\setI_h$ are indexing sets:
%    \begin{align*}
%      \ff &\eqd \set{\opair{x_i}{y_i}}{i\in\setI_f} \\
%      \fg &\eqd \set{\opair{y_i}{z_i}}{i\in\setI_g}
%    \end{align*}
%
%  \item
%    \begin{align*}
%      \brp{\fg\circ\ff}^{-1}
%        &= \brp{\set{\opair{y_i}{z_i}}{i\in\setI_g} \circ \set{\opair{x_i}{y_i}}{i\in\setI_f} }^{-1}
%        && \text{by definition of $\fg$, and $\ff$}
%      \\&= \brp{\set{\opair{x_i}{z_i}}{i\in\setI_f}}^{-1}
%        && \text{by definition of $\circ$ \prefpo{def:rel_comp}}
%      \\&= \set{\opair{z_i}{x_i}}{i\in\setI_f}
%        && \text{by definition of inverse \prefpo{def:rel_inverse}}
%      \\&= \set{\opair{y_i}{x_i}}{i\in\setI_f} \circ \set{\opair{z_i}{y_i}}{i\in\setI_g}
%        && \text{by definition of $\circ$ \prefpo{def:rel_comp}}
%      \\&= \brp{\set{\opair{x_i}{y_i}}{i\in\setI_f}^{-1}}
%           \circ
%           \brp{\set{\opair{z_i}{y_i}}{i\in\setI_g}^{-1}}
%        && \text{by definition of inverse \prefpo{def:rel_inverse}}
%      \\&= \brp{\ff^{-1}} \circ \brp{\fg^{-1}}
%        && \text{by definition of $\ff$ and $\fg$}
%    \end{align*}
%\end{enumerate}
%\end{proof}
%

%} % end wsd exclude

%=======================================
\subsection{Indicator functions}
%=======================================
By the \hie{axiom of extension}, a set is uniquely defined by the elements
that are in that set.
Thus, we are often interested in the Boolean result of whether an element is in
a set $\setA$, or is not in $\setA$, but exclude the possibility of both being true.
That a statement is either true or false but definitely not both is called
\hie{the law of the excluded middle} and is a fundamental property of
all \hie{Boolean algebras} $(\setn{\ltrue,\lfals},\lor,\land)$.
\ifdochas{logic}{\footnote{excluded middle: \prefp{thm:logic} }}
The \hie{indicator function} (next definition) is a convenient
``indicator" of whether or not a particular element is in a set,
and has several interesting properties \xref{thm:setind}.
%---------------------------------------
\begin{definition}
\footnote{
  \citerp{feller1971}{104}, %{1. Baire Functions}\\
  \citerp{ab}{126},
  %\citerp{halmos1950}{15},
  \citerp{hausdorff1937e}{22},
  \citorp{poussin1915}{440}
  }
\label{def:setind}
\index{function!characteristic}
\index{function!indicator}
%---------------------------------------
Let $\setX$ be a set.
\defbox{\begin{array}{M}\indxs{\setind}
  The \hid{indicator function} $\setind\in\clF{\psetx}{\setn{0,1}}$ is defined as
  \\\indentx$\ds
  \setind_{\setA}(x) =
    \brbl{\begin{array}{ll @{\qquad}C}
      1  & $ for $ x\in \setA       & \forall x\in\setX,\; \setA\in\psetx \\
      0  & $ for $ x\notin \setA   & \forall x\in\setX,\; \setA\in\psetx
    \end{array}}
    $
  \\
  The indicator function $\setind$ is also called the \hid{characteristic function}.
\end{array}}
\end{definition}

%---------------------------------------
\begin{theorem}
\label{thm:setind}
\footnote{
  \citerp{ab}{126},
  \citerpp{hausdorff1937e}{22}{23}
  }
%---------------------------------------
Let $\setind$ be the \fncte{indicator function} \xref{def:setind}.
Let $x\join y$ represent the maximum of $\setn{x,y}$.
\thmbox{\begin{array}{lcl  @{\qquad\qquad} lcl}
      \setind_\emptyset         &=& 0
   &  \setind_\setX             &=& 1
  \\  \setind_{\setA\setu\setB} &=& \setind_\setA \join \setind_\setB
   &  \setind_{\setA\seti\setB} &=& \setind_\setA \setind_\setB
  \\  \setind_{\setA\sets\setB} &=& \setind_\setA \setind_\setB
   &  \setind_{\setA\setd\setB} &=& \setind_\setA \brp{1 - \setind_\setB}
  \\  \setind_{\cmpA}           &=& 1-\setind_\setA
\end{array}}
\end{theorem}
\begin{proof}
\begin{align*}
  \setind_{\setA\setu\setB}(x)
    &\eqd \left\{\begin{array}{ll @{\qquad}C}
            1  & $ for $ x\in\setA\setu\setB       & \forall x\in\setX \\
            0  & $ for $ x\notin\setA\setu\setB   & \forall x\in\setX
          \end{array}\right.
    &&    \text{by \pref{def:setind}}
  \\&=    \left\{\begin{array}{ll @{\qquad}C}
            1  & $ for $ x\in\setA \lor x\in\setB  & \forall x\in\setX \\
            0  & $ otherwise $
          \end{array}\right.
    &&    \text{by \prefp{def:setops}}
  \\&=    \left\{\begin{array}{ll}
            1  & $ for $ x\in\setA     \\
            0  & $ otherwise $
          \end{array}\right\}
    \join \left\{\begin{array}{ll}
            1  & $ for $             x\in\setB \\
            0  & $ otherwise $
          \end{array}\right\}
  \\&=    \setind_\setA(x) \join \setind_\setB(x)
    &&    \text{by \pref{def:setind}}
  \\
  \\
  \setind_{\setA\seti\setB}(x)
    &\eqd \left\{\begin{array}{ll @{\qquad}C}
            1  & $ for $ x\in \setA\seti\setB       & \forall x\in\setX \\
            0  & $ for $ x\notin \setA\seti\setB   & \forall x\in\setX
          \end{array}\right.
    &&    \text{by \pref{def:setind}}
  \\&=    \left\{\begin{array}{ll @{\qquad}C}
            1  & $ for $ x\in\setA \land x\in\setB  & \forall x\in\setX \\
            0  & $ otherwise $
          \end{array}\right.
    &&    \text{by \prefp{def:setops}}
  \\&=    \left\{\begin{array}{ll}
            1  & $ for $ x\in\setA     \\
            0  & $ otherwise $
          \end{array}\right\}
    \meet \left\{\begin{array}{ll}
            1  & $ for $             x\in\setB \\
            0  & $ otherwise $
          \end{array}\right\}
  \\&=    \setind_\setA(x) \meet \setind_\setB(x)
  \\&=    \setind_\setA \setind_\setB
    &&    \text{by \pref{def:setind}}
  \\
  \\
  \setind_\cmpA(x)
    &=    \left\{\begin{array}{ll @{\qquad}C}
            1  & $ for $ x\in     \cmpA       & \forall x\in\setX \\
            0  & $ for $ x\notin \cmpA       & \forall x\in\setX
          \end{array}\right.
    &&    \text{by \pref{def:setind}}
  \\&=    \left\{\begin{array}{ll @{\qquad}C}
            1  & $ for $ x\notin \setA       & \forall x\in\setX \\
            0  & $ for $ x\in     \setA       & \forall x\in\setX
          \end{array}\right.
    &&    \ifdochas{found}{\text{by \prefp{def:setops}}}
  \\&=    1-\setind_\setA
  \\
  \\
  \setind_{\setA\setd\setB}
    &= \setind_{\setA\seti\cmpB}
  \\&= \setind_\setA \setind_\cmpB
  \\&= \setind_\setA \brp{1-\setind_\setB}
  \\
  \\
  \setind_{\setA\sets\setB}
    &=    \setind_{(\setA\setd\cmpB)\setu(\setB\setd\cmpA)}
  \\&=    \brp{\setind_{\setA\setd\cmpB}} \join \brp{\setind_{\setB\setd\cmpA}}
  \\&=    \brs{\setind_\setA \brp{1-\setind_\cmpB}} \join \brs{\setind_\setB \brp{1-\setind_\cmpA}}
  \\&=    \brs{\setind_\setA \brp{1-1+\setind_\setB}} \join \brs{\setind_\setB \brp{1-1+\setind_\setA}}
  \\&=    \brs{\setind_\setA \setind_\setB} \join \brs{\setind_\setB \setind_\setA}
  \\&=    \setind_\setA \setind_\setB
  \\
  \\
  \setind_\emptyset
    &= \setind_{\setA\setd\setA}
  \\&= \setind_\setA \brp{1-\setind_\setA}
  \\&= \setind_\setA - \setind_\setA \setind_\setA
  \\&= \setind_\setA - \setind_\setA
  \\&= 0
  \\
  \\
  \setind_\setX
    &= \setind_{\setA\setu\cmpA}
  \\&= \setind_\setA \join \setind_\cmpA
  \\&= \setind_\setA \join \brp{1-\setind_\setA}
  \\&= 1
\end{align*}
\end{proof}

%%---------------------------------------
%\begin{definition}
%\label{def:kdelta}
%%---------------------------------------
%\defbox{\begin{array}{M}
%The \fnctd{Kronecker delta function} $\hxs{\kdelta_n}$ is defined as
%  \qquad
%  $\ds\kdelta_n\eqd
%    \brbl{\begin{array}{cMD}
%      1 & for $n=0$ & and \\
%      0 & for $n\ne 0$\..
%    \end{array}}
%  \qquad\scy
%  \forall n\in\Z$
%\end{array}}
%\end{definition}
%
%%---------------------------------------
%\begin{proposition}
%%---------------------------------------
%Let $\setind$ be the \fncte{indicator function} \xref{def:setind} and 
%    $\kdelta$ be the \fncte{Kronecker delta function} \xref{def:kdelta}.
%\propbox{
%  \kdelta_n = \setind_{\setn{0}}(n)  \qquad\scy\forall n\in\Z
%  }
%\end{proposition}

%======================================
\subsection{Calculus of functions}
%======================================
%---------------------------------------
\begin{definition}
\label{def:op+x}
\footnote{
  \citerpg{michel1993}{409}{048667598X},
  \citor{cayley1858},
  \citor{riesz1913},  % http://www.mathphysics.com/opthy/OpHistory.html
  \citorp{hilbert1927}{6}
  }
\index{function!arithmetic}
\index{function!+,$\times$}
\index{$\ff\addo \fg$}
\index{$\ff\fg$}
\index{$\alpha\ff$}
%---------------------------------------
%Let $\spX\eqd\linearspaceX$ and $\spY\eqd\linearspaceY$ be \structe{linear spaces}
%and $\clFxy$ the set of all functions from $\spX$ to $\spY$.
Let $\clFxy$ be the set of all functions from a set $\setX$ to a set $\setY$.
\defbox{\begin{array}{rcl @{\qquad}C @{\qquad}D}
  \brs{-\ff}(\ex) &\eqd& -\brs{\ff(\ex)}
    &\forall\ex\in\setX,\, \ff\in\clFxy
    & (\hie{negation})
    \\
  \brs{\ff\addo  \fg}(\ex) &\eqd& \ff(\ex) + \fg(\ex)
    &\forall \ex\in\setX\, \ff,\fg\in\clFxy
    & (\hie{function addition})
    \\
  \brs{\ff - \fg}(\ex) &\eqd& \ff(\ex) + \brs{-\fg}(\ex)
    &\forall \ex\in\setX\, \ff,\fg\in\clFxy
    & (\hie{function subtraction})
    \\
  \brs{\fg   \ff}(\ex) &\eqd& \fg \brs{\ff(\ex)}
    &\forall\ex\in\setX\, \ff,\fg\in\clFxy
    & (\hie{function multiplication})
    \\
  \brs{\alpha \ff}(\ex) &\eqd& \alpha\brs{\ff(\ex)}
    &\forall\ex\in\setX, \alpha\in\spY\, \ff\in\clFxy
    & (\hie{scalar multiplication})
\end{array}}
\end{definition}

%---------------------------------------
\begin{definition}
\label{def:op_An}
%---------------------------------------
Let $\ff$ be a function in $\clFxx$ with inverse relation $\ffi$ and let $\opI$ be the identity function in $\clFxx$.
\defbox{
\hxs{\ff^n} \eqd
  \brbl{\begin{array}{lM}
    \opI            & for $n=0$\\
    \prod_1^n\ff   & for $n\in\Zp$\\
    \brp{\ffi}^n   & for $n\in\Zn$
  \end{array}}
  %\qquad\scriptstyle \forall n\in\Znn
  }
\end{definition}

%---------------------------------------
\begin{theorem}
\label{thm:op_sor_inv}
\label{thm:op_associative}
\footnote{
  \citerpg{kelley1955}{8}{0387901256},
  \citerpgc{berberian1961}{88}{0821819127}{Theorem~IV.5.1}
  }
%---------------------------------------
%Let $\spW$, $\spX$, $\spY$, and $\spZ$ be linear spaces.
Let $\setX$, $\setY$, and $\setZ$ be sets.
\thmbox{\begin{array}{>{\scy}rrcl@{\qquad}C@{\qquad}D}
    1. & \brp{\ff \fg}^{-1} &=& \brp{\fgi} \brp{\ffi}
       &   \forall \ff\in\clFxy,\,\fg\in\clFyz
       &   (\prope{idempotent})
      \\ 
    2. & \fh \brp{\fg \ff}  &=& \brp{\fh \fg} \ff
       &   \forall \ff\in\clFwx,\,\fg\in\clFxy,\,\fh\in\clFyz
       &   (\prope{associative})
      \\
    3. & \brp{\ff\addo\fg}\fh &=& \brp{\ff\fh}\addo\brp{\fg\fh}  
       & \forall \ff,\fg\in\clFxy,\,\fh\in\clFyz
       & (\prope{right distributive})
      \\
    4. & \alpha\brp{\ff\fg} &=& \brp{\alpha\ff}\fg
       & \forall \ff\in\clFxy,\,\fg\in\clFyz
       & (\prope{homogenous})
\end{array}}
\end{theorem}
\begin{proof}
\begin{enumerate}
  \item Proof of the \prope{idempotent} property:
    \begin{enumerate}
      \item Note that $\ff\fg$ = $\ff\circ\fg$, where $\circ$ is the
            \hie{composition function} (\prefp{def:rel_comp}).
      \item The result follows from \prefpp{thm:rel_sor_inv}, where it is demonstrated to be true for the more 
            general case of \structe{relations}.
    \end{enumerate}

  \item Proof of the \prope{associative} property:
        This result follows from \prefpp{thm:rel_sor_inv}, where it is demonstrated to be true for the more 
            general case of \structe{relations}.

  \item Proof of the \prope{right distributive} property: 
    \begin{align*}
      \brs{\brp{\ff\addo\fg}\fh}\ex
        &= \brp{\ff\addo\fg}\brp{\fh\ex} 
        && \text{by \prefp{def:op+x}}
      \\&= \brs{\ff\brp{\fh\ex}}\addo\brs{\fg\brp{\fh\ex}} 
        && \text{by \prefp{def:op+x}}
      \\&= \brs{\brp{\ff\fh}\ex} \addo \brs{\brp{\fg\fh}\ex}
        && \text{by \prefp{def:op+x}}
    \end{align*}

  \item Proof of the \prope{homogeneous} property:
    \begin{align*}
      \brs{\alpha\brs{\ff\fg}}(\ex)
        &= \alpha\brs{\brs{\ff\fg}(\ex)}
        && \text{by \prefp{def:op+x}}
      \\&= \alpha\brs{\ff\brs{\fg(\ex)}}
        && \text{by \prefp{def:op+x}}
      \\&= \brs{\alpha\ff}\brs{\fg(\ex)}
        && \text{by \prefp{def:op+x}}
      \\&= \brs{\brs{\alpha\ff}\fg}(\ex)
        && \text{by \prefp{def:op+x}}
    \end{align*}
\end{enumerate}
\end{proof}

\ifexclude{wsd}{
%---------------------------------------
\begin{theorem}
\index{group}
%---------------------------------------
Let $\mathcal{A} \eqd \clFxx$ be the set of functions on $\clFxx$.
\thmbox{\begin{array}{Fl>{$}l<{$}}
    1. & (\mathcal{A},\addo) & is an additive group.
  \\2. & (\mathcal{A},\addo,\cdot) & is a ring.
  \\3. & (\mathcal{A},\addo) & is a linear space.
  \\4. & (\mathcal{A},\addo,\cdot) & is an algebra.
\end{array}}
\end{theorem}
\begin{proof}
\begin{enumerate}
\item additive group:
\[\begin{array}{l rcl @{\qquad}C @{\qquad}D}
  1. & \ff\addo  \vzero &=& \vzero + \ff = \ff
     & \forall \ff\in\mathcal{A}
     & ($\vzero\in\mathcal{A}$ is the identity element)
     \\
  2. & \ff\addo (-\ff) &=& (-\ff)+\ff = \vzero
     & \forall \ff\in\mathcal{A}
     & ($(-\ff)$ is the inverse of $\ff$)
     \\
  3. & (\ff\addo \fg)+\fh &=& \ff\addo (\fg+\fh)
     & \forall \ff,\fg,\fh\in\mathcal{A}
     & ($(\mathcal{A},\cdot)$ is associative)
\end{array}\]

\item ring:
\[\begin{array}{l lcl @{\qquad}C @{\qquad}D}
   1. & \mc{3}{l}{(\mathcal{A},+,*) \text{ is a group with respect to } (\mathcal{A},+)}
      &
      & (additive group)
      \\
   2. & \ff(\fg\fh)  &=& (\ff\fg)\fh
      & \forall \ff,\fg,\fh\in\mathcal{A}
      & (associative with respect to $*$)
      \\
   3. & \ff(\fg+\fh) &=& (\ff\fg)+(\ff\fh)
      & \forall \ff,\fg,\fh\in\mathcal{A}
      & ($*$ is left distributive over $+$)
      \\
   4. & (\ff\addo \fg)\fh &=& (\ff\fh)+(\fg\fh)
      & \forall \ff,\fg,\fh\in\mathcal{A}
      & ($*$ is right distributive over $+$).
\end{array}\]


\item linear space:
\[\begin{array}{l rcl @{\qquad}C @{\qquad}D}
   1. & (\ff\adds\fg)\adds\fh &=& \ff\adds(\fg\adds\fh)
      & \forall \ff,\fg,\fh\in\mathcal{A}
      & ($\adds$ is \prope{associative})
      \\
   2. & \ff\adds\fg &=& \fg\adds\ff
      & \forall \ff,\fg\in\mathcal{A}
      & ($\adds$ is \prope{commutative})
      \\
   3. & \exists \vzero\in\setX \st \ff\addo \vzero &=& \ff
      & \forall \ff\in\setX\mathcal{A}
      & ($\adds$ identity)
      \\
   4. & \exists \fg\in\setX \st \ff\adds\fg &=& \vzero
      & \forall \ff \in\mathcal{A}
      & ($\adds$ inverse)
      \\
   5. & \alpha\otimes(\ff\adds\fg) &=& (\alpha \otimes\ff)\adds(\alpha\otimes\fg)
      & \forall \alpha\in S \text{ and } \ff,\fg\in\mathcal{A}
      & ($\otimes$ \prope{distributes} over $\adds$)
      \\
   6. & (\alpha+\beta)\otimes\ff &=& (\alpha\otimes \ff)\adds(\beta\otimes \ff)
      & \forall \alpha,\beta\in S \text{ and } \ff\in\mathcal{A}
      & ($\otimes$ pseudo-distributes over $+$)
      \\
   7. & \alpha(\beta\otimes\ff) &=& (\alpha\cdot\beta)\otimes\ff
      & \forall \alpha,\beta\in S \text{ and } \ff\in\mathcal{A}
      & ($\cdot$ associates with $\otimes$)
      \\
   8. & 1\otimes \ff &=& \ff
      & \forall \ff\in\mathcal{A}
      & ($\otimes$ identity)
\end{array}\]


\item algebra:
\[\begin{array}{l rcl @{\qquad}C @{\qquad}D}
   1.& (\ff\fg)\fh     &=& \ff(\fg\fh)
     & \forall \ff,\fg,\fh\in\mathcal{A}
     & (\prope{associative})
     \\
   2.& \ff( \fg\addo  \fh) &=& (\ff\fg) + (\ff\fh)
     & \forall \ff,\fg,\fh\in\mathcal{A}
     & (\prope{left distributive})
     \\
   3.& ( \ff\addo  \fg)\fh &=& (\ff\fh) + (\fg\fh)
     & \forall \ff,\fg,\fh\in\mathcal{A}
     & (\prope{right distributive})
     \\
   4.& \alpha(\fg\fh)  &=& (\alpha \fg)\fh = \fg (\alpha \fh)
     & \forall \fg,\fh\in\mathcal{A} \text{ and } \alpha\in\F
     & (scalar \prope{commutative})
\end{array}\]

\end{enumerate}
\end{proof}


%---------------------------------------
\begin{theorem}
\index{group}
%---------------------------------------
Let $\mathcal{A} \eqd \set{\ff\in\clFxx}{\exists \ffi \st \ffi\ff\eqo\ff\ffi\eqo\opI}$
be the set of invertible functions on $\clFxx$.
\thmbox{\begin{array}{lll}
  \text{$(\mathcal{A},\cdot)$ is a (multiplicative) group.}
  \end{array}}
\end{theorem}
\begin{proof}
\begin{enumerate}
\item multiplicative group:
\[\begin{array}{lll>{$}l<{$}}
  1. & \ff\opI = \opI\ff = \ff
     & \forall \ff\in\mathcal{A}
     & ($\opI\in\mathcal{A}$ is the identity element)
     \\
  2. & \ffi\ff = \ff\ffi = \opI
     & \forall \ff\in\mathcal{A}
     & ($\ffi$ is the inverse of $\ff$)
     \\
  3. & (\ff\fg)\fh = \ff(\fg\fh)
     & \forall \ff,\fg,\fh\in\mathcal{A}
     & ($(\mathcal{A},\cdot)$ is associative)
\end{array}\]

\item field:
\[\begin{array}{ll@{\qquad}C@{\qquad}D}
   1. & (\setX,+,*) \text{ is a ring}
      &
      & (ring)
      \\
   2. &\vx\vy=\vy\vx
      & \forall\vx,\vy\in\setX
      & (commutative with respect to $*$)
      \\
   3. & (\setX\setd\setn{0},*) \text{ is a group}
      &
      & (group with respect to $*$).
\end{array}\]
\end{enumerate}
\end{proof}

%---------------------------------------
\begin{theorem}
\label{thm:op_DU}
%---------------------------------------
Let $\oppD\brp{\ff}$ be the domain of an function $\ff$ and $\oppI\brp{\ff}$ the image of $\ff$.
\thmbox{\begin{array}{>{\ds}rc>{\ds}l @{\qquad\qquad} >{\ds}rc>{\ds}l}
  \oppD\brp{\setopu_{i\in\setI}\ff_i} &=&         \setopu_{i\in\setI}\oppD\brp{\ff_i} &
  \oppI\brp{\setopu_{i\in\setI}\ff_i} &=&         \setopu_{i\in\setI}\oppI\brp{\ff_i} \\
  \oppD\brp{\setopi_{i\in\setI}\ff_i} &\subseteq& \setopi_{i\in\setI}\oppD\brp{\ff_i} &
  \oppI\brp{\setopi_{i\in\setI}\ff_i} &\subseteq& \setopi_{i\in\setI}\oppI\brp{\ff_i} \\
   \oppD\brp{\ff\setd\fg} &\supseteq& \oppD\brp{\ff}\setd\oppD\brp{\fg}          &
   \oppI\brp{\ff\setd\fg} &\supseteq& \oppI\brp{\ff}\setd\oppI\brp{\fg}
\end{array}}
\end{theorem}
\begin{proof}
These results follow from \prefpp{thm:rel_DU}.
\end{proof}

%---------------------------------------
\begin{definition}
\label{def:op_conjugate}
\footnote{
  \citerpg{michel1993}{420}{048667598X},
  \citerp{giles2000}{171}
  }
\index{function!conjugate}
\index{conjugate function}
%---------------------------------------
Let $\spX$ and $\spY$ be linear spaces over a field $\F$ and with
dual spaces
  \[\begin{array}{rcl@{\quad}l}
    \spXd &\eqd& \set{\ff(\vx;\vx^\ast)\in\clF{\spX}{\F}}{\vx^\ast\in\spXd}
    & \text{\footnotesize(set of functionals with parameter $\vx^\ast$ from $\spX$ to $\F$)}
    \\
    \spYd &\eqd& \set{\fg(\vy;\vy^\ast)\in\clF{\spY}{\F}}{\vy^\ast\in\spYd}.
    & \text{\footnotesize(set of functionals with parameter $\vy^\ast$ from $\spY$ to $\F$)}
  \end{array}\]
Let $\ff\in\clFxy$ be a function.
\defboxt{
  A function $\ffc$ in $\clF{\spYd}{\spXd}$ is the \hid{conjugate} of the function $\ff$ if
  \\\indentx$\fg(\ff\vx;\vy^\ast) = \ff(\vx;\ffa\vy^\ast)
  \qquad\scriptstyle
  \forall \vx\in\spX,\; \ff\in\spXd,\; \fg\in\spYd$
  }
\end{definition}

} % end wsd exclude




%======================================
\section{Tempered Distributions}
%\label{sec:dirac}
%======================================
\qboxnps
  {\href{http://en.wikipedia.org/wiki/Giuseppe_Peano}{Giuseppe Peano}
   \href{http://www-history.mcs.st-andrews.ac.uk/Timelines/TimelineF.html}{(1858--1932)},
   \href{http://www-history.mcs.st-andrews.ac.uk/BirthplaceMaps/Places/Italy.html}{Italian} mathematician\footnotemark}
  {../common/people/PeanoGiuseppe_wkp_pdomain.jpg}
  {I am sure that something must be found.
   There must exist a notion of generalized functions which are to functions what the real numbers
   are to the rationals.}
  \citetblt{
    quote: & \citerpg{duistermaat2010}{ix}{0817646728} \\
    image  & \scs\url{http://en.wikipedia.org/wiki/File:Giuseppe_Peano.jpg}, public domain
    }

%--------------------------------------
\begin{definition}
\footnote{
  \citerpg{vretblad2003}{200}{0387008365}
  }
\label{def:test_function}
\label{def:schwartzclass}
%--------------------------------------
\defboxp{ %\begin{array}{M}
  A \hid{test function} is any function $\fphi$ that satisfies
  \\\indentx\begin{tabular}{>{\scs}rl}
      1. & $\fphi\in\clFrc$ 
    \\2. & $\fphi$ is \prope{infinitely differentiable}.
  \end{tabular}
  \\
  The set of all test functions is denoted $\clFtestf$.
  A test function $\fphi$ belongs to the \hid{Schwartz class} $\setS$ if, for some set of constants 
  $\set{C_{n,k}}{n,k\in\Znn}$, 
  \\\indentx$\ds (1+\abs{x})^n\abs{\fphi^{(k)}} \le C_{n,k} \qquad \forall n,k\in\Znn,\,\forall x\in\R$
  }
%\end{array}}
\end{definition}

%--------------------------------------
\begin{definition}
\index{distributions}
\footnote{
  \citerppgc{vretblad2003}{203}{204}{0387008365}{Definition 8.3}
  }
%--------------------------------------
Let $\setS$ be the \hie{Schwartz class} of functions (\pref{def:schwartzclass}).
\defbox{\begin{array}{M}
  $\fd[\cdot]$ is a \hid{tempered distribution} if
  \\\indentx$\ds\begin{array}{F>{\ds}lCDD}
      1. &\fd\brs{\alpha_1\fphi_1 + \alpha_2\fphi_2} = \fd\brs{\alpha_1\fphi_1} + \fd\brs{\alpha_2\fphi_2} 
         & \forall \fphi_1,\fphi_2\in\setS,\, \alpha_1,\alpha_2\in\R 
         & (\prope{linear})
         & and
    \\2. &\lim_{n\to\infty}\fphi_n=\fphi \quad\implies\quad\lim_{n\to\infty}\fd\brs{\fphi_n}=\fd\brs{\fphi}
         & \forall \fphi_1,\fphi_2\in\setS
         & (\prope{continuous})
         & 
  \end{array}$
\end{array}}
\end{definition}

%--------------------------------------
\begin{definition}
\footnote{
  \citerpg{vretblad2003}{206}{0387008365}
  %\citerpp{mallat}{601}{602}\\
  %\citerpgc{friedlander1998}{7}{0521649714}{Theorem 1.3.1}\\
  }
%--------------------------------------
Let $\setS$ be the \hie{Schwartz class} of functions (\pref{def:schwartzclass}).
\defbox{\begin{array}{M}
  Two tempered distributions $\fd_1$ and $\fd_2$ are \hid{equal} if
  \\\indentx $\ds \fd\brs{\fphi_1}=\fd\brs{\fphi_2} \qquad \forall \fphi_1,\fphi_2\in\setS$
\end{array}}
\end{definition}

\pref{thm:tdist_cf} (next) demonstrates that all continuous and what we might call ``well behaved" 
functions generate a tempered distribution.
%--------------------------------------
\begin{theorem}
\footnote{
  \citerpg{vretblad2003}{204}{0387008365}
  }
\label{thm:tdist_cf}
%--------------------------------------
Let $\ff$ be a function in $\clFrc$.
Let $\fT_\ff$ be defined as
\\\indentx$\ds\fT_\ff\brs{\fphi} \eqd \int_\R \ff(x)\fphi(x)\dx$.
\thmbox{
  \brbr{\begin{array}{D>{\ds}lC}
    1. & \text{$\ff$ is \prope{continuous}} & $and$\\
    2. & \exists n,M \st \abs{\ff(x)}\le M\brp{1+\abs{x}}^n & \forall x\in\R
  \end{array}}
  \implies
  \fT_\ff\brs{\fphi}\text{ is a tempered distribution.}
  }
\end{theorem}
\begin{proof}
\begin{enumerate}
  \item Proof that $\fT_\ff$ is \prope{linear}:
    \begin{align*}
      \fT_\ff\brs{\fphi_1+\fphi_2}
        &= \int_\R \ff(x)\brp{\fphi_1(x)+\fphi_2(x)}\dx
        && \text{by definition of $\fT_\ff$}
      \\&= \int_\R \ff(x)\fphi_1(x)\dx + \int_\R \ff(x)\fphi_2(x)\dx
        && \text{by linearity of $\int$}
      \\&= \fT_\ff\brs{\fphi_1}+\fT_\ff\brs{\fphi_2}
        && \text{by definition of $\fT_\ff$}
    \end{align*}

  \item Proof that $\fT_\ff$ is \prope{cotinuous}:
    \begin{align*}
      \lim_{n\to\infty}\abs{\fT_\ff\brs{\fphi_n}-\fT_\ff\brs{\fphi}}
        &= \lim_{n\to\infty}\abs{\int_\R \ff(x)\fphi_n(x)\dx-\int_\R \ff(x)\fphi(x)\dx}
        && \text{by definition of $\fT_\ff$}
      \\&= \lim_{n\to\infty}\abs{\int_\R \ff(x)\brp{\fphi_n(x)-\fphi(x)\dx}} 
        && \text{by linearity of $\int$}
      \\&\le \lim_{n\to\infty}\int_\R M\brp{1+\abs{x}}^m \abs{\fphi_n(x)-\fphi(x)}\dx
      \\&= \int_\R M\brp{1+\abs{x}}^{m+2} \abs{\fphi_n(x)-\fphi(x)}\frac{1}{\brp{1+\abs{x}}^2}\dx
      \\&\le \lim_{n\to\infty}\max_x\brb{ M\brp{1+\abs{x}}^{m+2} \abs{\fphi_n(x)-\fphi(x)}}\int_\R \frac{1}{\brp{1+\abs{x}}^2}\dx
      \\&= 0
    \end{align*}
\end{enumerate}
\end{proof}

%--------------------------------------
\begin{definition}
\index{Dirac delta distribution}
\footnote{
  \citerpgc{vretblad2003}{205}{0387008365}{Example 8.13},
  \citerpg{friedlander1998}{8}{0521649714}
  }
\label{def:dirac}
%--------------------------------------
\defbox{\begin{array}{M}\indxs{\delta}
  The \hib{Dirac delta distribution} $\delta\in\clFrc$ is defined as
  \\\indentx$\ds\delta\brs{\fphi} \eqd \fphi(0)$
\end{array}}
\end{definition}

One could argue that a tempered distribution $\fd$ behaves \emph{as if} it satisfies the following relation:
  \\\indentx$\ds\fd\brs{\fphi}\Bumpeq\int_\R \fd(x) \fphi(x) \dx$.\\
This is not technically correct because in general $\fd$ is not a function that can be evaluated at a given point $x$
(and hence the here undefined relation ``$\Bumpeq$").
But despite this failure, the notation is still very useful in that 
distributions do behave ``as if" they are defined by the above integral relation.

Using this notation, the Dirac delta distribution looks likes this:
  \\\indentx$\ds\delta\brs{\fphi}\eqd\fphi(0) \Bumpeq \int_\R \delta(x)\fphi(x)\dx$\\

We could also define another ``scaled" and ``translated" distribution $\delta_{ab}$ such that
  \\\indentx$\ds\delta_{ab}\brs{\fphi}\eqd b\fphi(ab) \Bumpeq \int_\R \delta\brp{\frac{x}{b}-a}\fphi(x)\dx$\\
because
\begin{align*}
   \int_\R \delta\brp{\frac{x}{b}-a}\fphi(x)\dx
     &= \int_\R \delta\brp{u-a}\fphi(ub)b\du
     && \text{where $u=\frac{x}{b}$}
   \\&= b\int_\R \delta\brp{u-a}\fphi(ub)\du
   \\&= b\fphi(ab)
\end{align*}


%=======================================
\section{Literature}
%=======================================
\begin{survey}
\begin{enumerate}
  \item Reference books:
    \\\citer{maddux2006}
    \\\citergc{suppes1972}{57}{0486616304}{Chapter 3: \emph{Relations and Functions}}
    \\\citerppg{kelley1955}{6}{13}{0387901256}
  \item Pioneering papers on relations:
    \\\citor{demorgan1864}
      \\\indentdr\citor{demorgan1864r}
    \\\citor{peirce1883}
      \\\indentdr\citor{peirce1883_lbc}
      \\\indentdr\citor{peirce1883_amc}
    \\\citor{schroder1895}
  \item Axiomization of calculus of relations:
    \\\citer{tarski1941}
  \item Historically oriented presentations:
    \\\citer{maddux1991}
    \\\citerppg{pratt1992}{248}{254}{0818627352}
  \item Theory of Distributions
    \\\citer{vretblad2003}
    \\\citerc{hormander2003}{Referenced by Vretblad(2003) as a standard work.}
    \\\citer{knappa2005}
  \item Miscellaneous:
    \\\citor{peirce1870}
      \\\indentdr\citor{peirce1870cp}
      \\\indentdr\citor{peirce1870w}
\end{enumerate}
\end{survey}

